{"file_contents":{"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":649,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","path":null,"size_bytes":1342,"size_tokens":null},"client/src/pages/dashboard.tsx":{"content":"import Layout from \"@/components/layout\";\nimport headerBg from \"@assets/generated_images/abstract_soft_gradient_for_dashboard_header.png\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Play, \n  BookOpen, \n  Calendar, \n  MoreHorizontal,\n  Flame,\n  ChevronRight,\n  Clock,\n  Heart,\n  CheckCircle2\n} from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\n\nexport default function Dashboard() {\n  return (\n    <Layout>\n      <div className=\"space-y-8\">\n        {/* Greeting Section */}\n        <div className=\"relative rounded-3xl overflow-hidden text-white shadow-xl\">\n          <div className=\"absolute inset-0\">\n            <img \n              src={headerBg} \n              alt=\"Background\" \n              className=\"w-full h-full object-cover\"\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-r from-primary/80 to-primary/40 mix-blend-multiply\"></div>\n          </div>\n          \n          <div className=\"relative z-10 p-8 md:p-12\">\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-end gap-6\">\n              <div>\n                <h2 className=\"text-lg font-medium text-white/80 mb-2\">Good Morning, John</h2>\n                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 font-serif italic\">\n                  \"I can do all things through Christ who strengthens me.\"\n                </h1>\n                <p className=\"text-white/80 font-medium flex items-center gap-2\">\n                  <BookOpen className=\"h-4 w-4\" /> Philippians 4:13\n                </p>\n              </div>\n              \n              <div className=\"flex gap-3\">\n                <div className=\"bg-white/10 backdrop-blur-md rounded-2xl p-4 flex flex-col items-center min-w-[100px] border border-white/10\">\n                  <Flame className=\"h-6 w-6 text-orange-300 mb-1\" />\n                  <span className=\"text-2xl font-bold\">12</span>\n                  <span className=\"text-xs text-white/70 uppercase tracking-wider\">Day Streak</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Quick Access Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <Link href=\"/bible\" data-testid=\"link-daily-reading\">\n            <Card className=\"hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-blue-500\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400\">\n                    <BookOpen className=\"h-5 w-5\" />\n                  </div>\n                  <Badge variant=\"secondary\" className=\"font-normal\">Today</Badge>\n                </div>\n                <h3 className=\"font-semibold text-lg mb-1\">Daily Reading</h3>\n                <p className=\"text-muted-foreground text-sm mb-4\">Romans 8:1-12</p>\n                <Progress value={33} className=\"h-1.5 mb-2\" />\n                <p className=\"text-xs text-muted-foreground\">5 mins left</p>\n              </CardContent>\n            </Card>\n          </Link>\n\n          <Link href=\"/audio\" data-testid=\"link-sunday-sermon\">\n            <Card className=\"hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-purple-500\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400\">\n                    <Play className=\"h-5 w-5\" />\n                  </div>\n                  <Badge variant=\"secondary\" className=\"font-normal\">Resume</Badge>\n                </div>\n                <h3 className=\"font-semibold text-lg mb-1\">Sunday Sermon</h3>\n                <p className=\"text-muted-foreground text-sm mb-4\">The Power of Grace</p>\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                  <Clock className=\"h-3 w-3\" />\n                  <span>12:30 / 45:00</span>\n                </div>\n              </CardContent>\n            </Card>\n          </Link>\n\n          <Link href=\"/groups\" data-testid=\"link-bible-study\">\n            <Card className=\"hover:shadow-md transition-shadow cursor-pointer border-l-4 border-l-amber-500\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg text-amber-600 dark:text-amber-400\">\n                    <Calendar className=\"h-5 w-5\" />\n                  </div>\n                  <Badge variant=\"secondary\" className=\"font-normal\">Upcoming</Badge>\n                </div>\n                <h3 className=\"font-semibold text-lg mb-1\">Bible Study</h3>\n                <p className=\"text-muted-foreground text-sm mb-4\">Tonight at 7:00 PM</p>\n                <div className=\"flex -space-x-2 overflow-hidden\">\n                  <Avatar className=\"inline-block h-6 w-6 ring-2 ring-background\">\n                    <AvatarImage src=\"https://github.com/shadcn.png\" />\n                  </Avatar>\n                  <Avatar className=\"inline-block h-6 w-6 ring-2 ring-background\">\n                    <AvatarFallback>CN</AvatarFallback>\n                  </Avatar>\n                  <Avatar className=\"inline-block h-6 w-6 ring-2 ring-background\">\n                    <AvatarFallback>+3</AvatarFallback>\n                  </Avatar>\n                </div>\n              </CardContent>\n            </Card>\n          </Link>\n\n          <Card className=\"bg-primary text-primary-foreground hover:bg-primary/90 transition-colors cursor-pointer flex flex-col justify-center items-center text-center p-6\">\n             <h3 className=\"font-serif text-2xl italic mb-2\">Give</h3>\n             <p className=\"text-primary-foreground/80 text-sm mb-4\">Support your local church mission</p>\n             <Button variant=\"secondary\" size=\"sm\" className=\"w-full rounded-full\">\n               Donate Now\n             </Button>\n          </Card>\n        </div>\n\n        {/* Main Content Split */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Activity Feed */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-xl font-bold text-foreground\">Community Activity</h3>\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-primary\">View All</Button>\n            </div>\n\n            {[1, 2, 3].map((item) => (\n              <Card key={item} className=\"border-border/50\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start gap-4\">\n                    <Avatar>\n                      <AvatarImage src={`https://i.pravatar.cc/150?u=${item}`} />\n                      <AvatarFallback>U</AvatarFallback>\n                    </Avatar>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <h4 className=\"font-semibold text-sm\">Sarah Miller</h4>\n                        <span className=\"text-xs text-muted-foreground\">2h ago</span>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground mb-3\">\n                        Shared a verse from <span className=\"text-primary font-medium cursor-pointer\">Psalms 23</span>\n                      </p>\n                      <div className=\"bg-muted/30 p-4 rounded-xl border-l-4 border-primary mb-4\">\n                        <p className=\"font-serif italic text-foreground/80\">\"The Lord is my shepherd; I shall not want. He makes me lie down in green pastures.\"</p>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"h-8 text-muted-foreground hover:text-primary\">\n                          <Heart className=\"mr-2 h-4 w-4\" /> Like\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"h-8 text-muted-foreground hover:text-primary\">\n                          Message\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {/* Sidebar Widgets */}\n          <div className=\"space-y-6\">\n            {/* Prayer List */}\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                <CardTitle className=\"text-lg font-bold\">Prayer List</CardTitle>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\"><MoreHorizontal className=\"h-4 w-4\" /></Button>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\n                  <div className=\"w-1 h-8 bg-orange-400 rounded-full\"></div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium\">Mom's Surgery</p>\n                    <p className=\"text-xs text-muted-foreground\">Praying for quick recovery</p>\n                  </div>\n                  <CheckCircle2 className=\"h-5 w-5 text-muted-foreground/50 hover:text-green-500 cursor-pointer transition-colors\" />\n                </div>\n                <div className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\n                  <div className=\"w-1 h-8 bg-blue-400 rounded-full\"></div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium\">Job Interview</p>\n                    <p className=\"text-xs text-muted-foreground\">Guidance and peace</p>\n                  </div>\n                  <CheckCircle2 className=\"h-5 w-5 text-muted-foreground/50 hover:text-green-500 cursor-pointer transition-colors\" />\n                </div>\n                <Button variant=\"outline\" className=\"w-full border-dashed border-2\">\n                  Add Prayer Request\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Recommended */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg font-bold\">Recommended For You</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"group flex items-center gap-3 cursor-pointer\">\n                  <div className=\"h-16 w-24 bg-muted rounded-lg overflow-hidden relative\">\n                    <img src=\"https://images.unsplash.com/photo-1504052434569-70ad5836ab65?q=80&w=2070&auto=format&fit=crop\" className=\"object-cover h-full w-full group-hover:scale-110 transition-transform\" alt=\"Sermon\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium group-hover:text-primary transition-colors\">Faith in the Storm</p>\n                    <p className=\"text-xs text-muted-foreground\">Pastor Mike • 25m</p>\n                  </div>\n                </div>\n                <div className=\"group flex items-center gap-3 cursor-pointer\">\n                  <div className=\"h-16 w-24 bg-muted rounded-lg overflow-hidden relative\">\n                    <img src=\"https://images.unsplash.com/photo-1519834785169-98be25ec3f84?q=80&w=2664&auto=format&fit=crop\" className=\"object-cover h-full w-full group-hover:scale-110 transition-transform\" alt=\"Course\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium group-hover:text-primary transition-colors\">Intro to Apologetics</p>\n                    <p className=\"text-xs text-muted-foreground\">Course • 4 Modules</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":12291,"size_tokens":null},"client/src/components/ui/field.tsx":{"content":"\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field data-[invalid=true]:text-destructive flex w-full gap-3\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start\",\n        ],\n        responsive: [\n          \"@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>[data-slot=field]]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm font-normal leading-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"nth-last-2:-mt-1 last:mt-0 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","path":null,"size_bytes":6044,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1037,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":724,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload\n            .filter((item) => item.type !== \"none\")\n            .map((item, index) => {\n              const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n              const itemConfig = getPayloadConfigFromPayload(config, item, key)\n              const indicatorColor = color || item.payload.fill || item.color\n\n              return (\n                <div\n                  key={item.dataKey}\n                  className={cn(\n                    \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                    indicator === \"dot\" && \"items-center\"\n                  )}\n                >\n                  {formatter && item?.value !== undefined && item.name ? (\n                    formatter(item.value, item.name, item, index, item.payload)\n                  ) : (\n                    <>\n                      {itemConfig?.icon ? (\n                        <itemConfig.icon />\n                      ) : (\n                        !hideIndicator && (\n                          <div\n                            className={cn(\n                              \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                              {\n                                \"h-2.5 w-2.5\": indicator === \"dot\",\n                                \"w-1\": indicator === \"line\",\n                                \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                  indicator === \"dashed\",\n                                \"my-0.5\": nestLabel && indicator === \"dashed\",\n                              }\n                            )}\n                            style={\n                              {\n                                \"--color-bg\": indicatorColor,\n                                \"--color-border\": indicatorColor,\n                              } as React.CSSProperties\n                            }\n                          />\n                        )\n                      )}\n                      <div\n                        className={cn(\n                          \"flex flex-1 justify-between leading-none\",\n                          nestLabel ? \"items-end\" : \"items-center\"\n                        )}\n                      >\n                        <div className=\"grid gap-1.5\">\n                          {nestLabel ? tooltipLabel : null}\n                          <span className=\"text-muted-foreground\">\n                            {itemConfig?.label || item.name}\n                          </span>\n                        </div>\n                        {item.value && (\n                          <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                            {item.value.toLocaleString()}\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload\n          .filter((item) => item.type !== \"none\")\n          .map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n            return (\n              <div\n                key={item.value}\n                className={cn(\n                  \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n                )}\n              >\n                {itemConfig?.icon && !hideIcon ? (\n                  <itemConfig.icon />\n                ) : (\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                    style={{\n                      backgroundColor: item.color,\n                    }}\n                  />\n                )}\n                {itemConfig?.label}\n              </div>\n            )\n          })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10763,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3835,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4887,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5124,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\napp.use(\n  express.json({\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false }));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":2560,"size_tokens":null},"client/src/pages/auth.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { InputOTP, InputOTPGroup, InputOTPSlot } from \"@/components/ui/input-otp\";\nimport authBg from \"@assets/generated_images/modern_abstract_background_for_login_page.png\";\nimport { ArrowRight, Mail, Lock, User, Eye, EyeOff, Chrome, Apple, Facebook, ArrowLeft, ShieldCheck, Smartphone } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface AuthPageProps {\n  initialTab?: \"login\" | \"register\";\n}\n\ntype AuthView = \"login\" | \"register\" | \"forgot-password\" | \"mfa\" | \"reset-sent\";\n\nexport default function AuthPage({ initialTab = \"login\" }: AuthPageProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [location, setLocation] = useLocation();\n  const [view, setView] = useState<AuthView>(initialTab);\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Sync tab if initialTab changes or on mount\n  useEffect(() => {\n    if (initialTab === \"login\" || initialTab === \"register\") {\n      setView(initialTab);\n    }\n  }, [initialTab]);\n\n  const handleLogin = () => {\n    setIsLoading(true);\n    // Simulate API call\n    setTimeout(() => {\n      setIsLoading(false);\n      // Mock MFA challenge for demo purposes\n      setView(\"mfa\");\n    }, 1500);\n  };\n\n  const handleMfaVerify = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      setIsLoading(false);\n      toast({\n        title: \"Authentication Successful\",\n        description: \"Welcome back to Abideon.\",\n      });\n      setLocation(\"/dashboard\");\n    }, 1500);\n  };\n\n  const handleRegister = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      setIsLoading(false);\n      toast({\n        title: \"Account Created\",\n        description: \"Please check your email to verify your account.\",\n      });\n      setView(\"login\");\n    }, 1500);\n  };\n\n  const handleForgotPassword = () => {\n    setIsLoading(true);\n    setTimeout(() => {\n      setIsLoading(false);\n      setView(\"reset-sent\");\n    }, 1500);\n  };\n\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-muted/30 relative overflow-hidden\">\n      {/* Background */}\n      <div className=\"absolute inset-0 z-0\">\n        <img src={authBg} className=\"w-full h-full object-cover opacity-50\" alt=\"Background\" />\n        <div className=\"absolute inset-0 bg-background/60 backdrop-blur-sm\"></div>\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-md p-4\">\n        <div className=\"text-center mb-8\">\n          <Link href=\"/\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-primary-foreground mb-4 shadow-xl cursor-pointer hover:scale-105 transition-transform\">\n              <span className=\"font-serif italic text-4xl\">A</span>\n            </div>\n          </Link>\n          <h1 className=\"text-3xl font-bold tracking-tight text-foreground\">Welcome to Abideon</h1>\n          <p className=\"text-muted-foreground mt-2\">Your spiritual companion for daily growth.</p>\n        </div>\n\n        <Card className=\"border-none shadow-2xl bg-card/80 backdrop-blur-md overflow-hidden\">\n          {view === \"login\" || view === \"register\" ? (\n            <Tabs value={view} onValueChange={(v) => setView(v as \"login\" | \"register\")} className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2 mb-4 bg-muted/50 p-1 rounded-none border-b border-border/50\">\n                <TabsTrigger value=\"login\" className=\"rounded-sm data-[state=active]:bg-background data-[state=active]:shadow-sm\">Sign In</TabsTrigger>\n                <TabsTrigger value=\"register\" className=\"rounded-sm data-[state=active]:bg-background data-[state=active]:shadow-sm\">Create Account</TabsTrigger>\n              </TabsList>\n              \n              <TabsContent value=\"login\" className=\"p-6 pt-2 m-0\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"email\">Email</Label>\n                    <div className=\"relative\">\n                      <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                      <Input id=\"email\" placeholder=\"name@example.com\" className=\"pl-10\" />\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label htmlFor=\"password\">Password</Label>\n                      <Button \n                        variant=\"link\" \n                        className=\"p-0 h-auto text-xs font-normal\"\n                        onClick={() => setView(\"forgot-password\")}\n                      >\n                        Forgot password?\n                      </Button>\n                    </div>\n                    <div className=\"relative\">\n                      <Lock className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                      <Input \n                        id=\"password\" \n                        type={showPassword ? \"text\" : \"password\"} \n                        className=\"pl-10 pr-10\" \n                      />\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        className=\"absolute right-0 top-0 h-10 w-10 text-muted-foreground hover:text-foreground\"\n                        onClick={() => setShowPassword(!showPassword)}\n                      >\n                        {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                      </Button>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox id=\"remember\" />\n                    <Label htmlFor=\"remember\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                      Remember me for 30 days\n                    </Label>\n                  </div>\n                  <Button className=\"w-full\" size=\"lg\" onClick={handleLogin} disabled={isLoading}>\n                    {isLoading ? \"Signing In...\" : \"Sign In\"} \n                    {!isLoading && <ArrowRight className=\"ml-2 h-4 w-4\" />}\n                  </Button>\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"register\" className=\"p-6 pt-2 m-0\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"first\">First Name</Label>\n                      <Input id=\"first\" placeholder=\"John\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"last\">Last Name</Label>\n                      <Input id=\"last\" placeholder=\"Doe\" />\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"reg-email\">Email</Label>\n                    <Input id=\"reg-email\" type=\"email\" placeholder=\"name@example.com\" />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"reg-pass\">Password</Label>\n                    <Input id=\"reg-pass\" type=\"password\" />\n                    <p className=\"text-xs text-muted-foreground\">Must be at least 8 characters.</p>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox id=\"terms\" />\n                    <Label htmlFor=\"terms\" className=\"text-xs text-muted-foreground\">\n                      I agree to the <span className=\"underline cursor-pointer hover:text-primary\">Terms of Service</span> and <span className=\"underline cursor-pointer hover:text-primary\">Privacy Policy</span>.\n                    </Label>\n                  </div>\n                  <Button className=\"w-full\" size=\"lg\" onClick={handleRegister} disabled={isLoading}>\n                    {isLoading ? \"Creating Account...\" : \"Create Account\"}\n                  </Button>\n                </div>\n              </TabsContent>\n\n              <div className=\"px-6 pb-6 flex flex-col gap-4\">\n                <div className=\"relative w-full\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <span className=\"w-full border-t\" />\n                  </div>\n                  <div className=\"relative flex justify-center text-xs uppercase\">\n                    <span className=\"bg-card px-2 text-muted-foreground\">Or continue with</span>\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-3 gap-3 w-full\">\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <Chrome className=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <Facebook className=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <Apple className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </Tabs>\n          ) : null}\n\n          {view === \"forgot-password\" && (\n            <div className=\"p-6\">\n              <div className=\"mb-6\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"pl-0 hover:bg-transparent text-muted-foreground mb-2\" onClick={() => setView(\"login\")}>\n                  <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to Login\n                </Button>\n                <CardTitle>Reset Password</CardTitle>\n                <CardDescription className=\"mt-2\">Enter your email address and we'll send you a link to reset your password.</CardDescription>\n              </div>\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reset-email\">Email</Label>\n                  <div className=\"relative\">\n                    <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                    <Input id=\"reset-email\" placeholder=\"name@example.com\" className=\"pl-10\" />\n                  </div>\n                </div>\n                <Button className=\"w-full\" size=\"lg\" onClick={handleForgotPassword} disabled={isLoading}>\n                  {isLoading ? \"Sending Link...\" : \"Send Reset Link\"}\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {view === \"reset-sent\" && (\n            <div className=\"p-6 text-center py-10\">\n              <div className=\"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 text-primary\">\n                <Mail className=\"h-8 w-8\" />\n              </div>\n              <CardTitle className=\"mb-2\">Check your email</CardTitle>\n              <CardDescription className=\"mb-6\">\n                We've sent a password reset link to your email address. Please check your inbox and spam folder.\n              </CardDescription>\n              <Button variant=\"outline\" className=\"w-full\" onClick={() => setView(\"login\")}>\n                Return to Sign In\n              </Button>\n            </div>\n          )}\n\n          {view === \"mfa\" && (\n            <div className=\"p-6\">\n              <div className=\"mb-6 text-center\">\n                <div className=\"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 text-primary\">\n                  <ShieldCheck className=\"h-6 w-6\" />\n                </div>\n                <CardTitle>Two-Factor Authentication</CardTitle>\n                <CardDescription className=\"mt-2\">\n                  Enter the 6-digit code sent to your device to verify your identity.\n                </CardDescription>\n              </div>\n              \n              <div className=\"space-y-6\">\n                <div className=\"flex justify-center\">\n                  <InputOTP maxLength={6}>\n                    <InputOTPGroup>\n                      <InputOTPSlot index={0} />\n                      <InputOTPSlot index={1} />\n                      <InputOTPSlot index={2} />\n                    </InputOTPGroup>\n                    <Separator orientation=\"vertical\" className=\"h-8 mx-2\" />\n                    <InputOTPGroup>\n                      <InputOTPSlot index={3} />\n                      <InputOTPSlot index={4} />\n                      <InputOTPSlot index={5} />\n                    </InputOTPGroup>\n                  </InputOTP>\n                </div>\n                \n                <Button className=\"w-full\" size=\"lg\" onClick={handleMfaVerify} disabled={isLoading}>\n                  {isLoading ? \"Verifying...\" : \"Verify & Login\"}\n                </Button>\n\n                <div className=\"text-center text-sm\">\n                  <p className=\"text-muted-foreground\">Didn't receive the code?</p>\n                  <Button variant=\"link\" className=\"p-0 h-auto text-xs\">Resend Code</Button>\n                </div>\n              </div>\n            </div>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":13563,"size_tokens":null},"client/src/components/ui/input-group.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 shadow-xs relative flex w-full items-center rounded-md border outline-none transition-[color,box-shadow]\",\n        \"h-9 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:ring-ring has-[[data-slot=input-group-control]:focus-visible]:ring-1\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text select-none items-center justify-center gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"[.border-b]:pb-3 order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"[.border-t]:pt-3 order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"flex items-center gap-2 text-sm shadow-none\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>svg]:px-2 [&>svg:not([class*='size-'])]:size-3.5\",\n        sm: \"h-8 gap-1.5 rounded-md px-2.5 has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","path":null,"size_bytes":4971,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1486,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4280,"size_tokens":null},"client/src/components/ui/item.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item [a]:hover:bg-accent/50 focus-visible:border-ring focus-visible:ring-ring/50 [a]:transition-colors flex flex-wrap items-center rounded-md border border-transparent text-sm outline-none transition-colors duration-100 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"gap-4 p-4 \",\n        sm: \"gap-2.5 px-4 py-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:translate-y-0.5 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted size-8 rounded-sm border [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 overflow-hidden rounded-sm [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-balance text-sm font-normal leading-normal\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","path":null,"size_bytes":4494,"size_tokens":null},"vite-plugin-meta-images.ts":{"content":"import type { Plugin } from 'vite';\nimport fs from 'fs';\nimport path from 'path';\n\n/**\n * Vite plugin that updates og:image and twitter:image meta tags\n * to point to the app's opengraph image with the correct Replit domain.\n */\nexport function metaImagesPlugin(): Plugin {\n  return {\n    name: 'vite-plugin-meta-images',\n    transformIndexHtml(html) {\n      const baseUrl = getDeploymentUrl();\n      if (!baseUrl) {\n        log('[meta-images] no Replit deployment domain found, skipping meta tag updates');\n        return html;\n      }\n\n      // Check if opengraph image exists in public directory\n      const publicDir = path.resolve(process.cwd(), 'client', 'public');\n      const opengraphPngPath = path.join(publicDir, 'opengraph.png');\n      const opengraphJpgPath = path.join(publicDir, 'opengraph.jpg');\n      const opengraphJpegPath = path.join(publicDir, 'opengraph.jpeg');\n\n      let imageExt: string | null = null;\n      if (fs.existsSync(opengraphPngPath)) {\n        imageExt = 'png';\n      } else if (fs.existsSync(opengraphJpgPath)) {\n        imageExt = 'jpg';\n      } else if (fs.existsSync(opengraphJpegPath)) {\n        imageExt = 'jpeg';\n      }\n\n      if (!imageExt) {\n        log('[meta-images] OpenGraph image not found, skipping meta tag updates');\n        return html;\n      }\n\n      const imageUrl = `${baseUrl}/opengraph.${imageExt}`;\n\n      log('[meta-images] updating meta image tags to:', imageUrl);\n\n      html = html.replace(\n        /<meta\\s+property=\"og:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta property=\"og:image\" content=\"${imageUrl}\" />`\n      );\n\n      html = html.replace(\n        /<meta\\s+name=\"twitter:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta name=\"twitter:image\" content=\"${imageUrl}\" />`\n      );\n\n      return html;\n    },\n  };\n}\n\nfunction getDeploymentUrl(): string | null {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    log('[meta-images] using internal app domain:', url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    log('[meta-images] using dev domain:', url);\n    return url;\n  }\n\n  return null;\n}\n\nfunction log(...args: any[]): void {\n  if (process.env.NODE_ENV === 'production') {\n    console.log(...args);\n  }\n}\n","path":null,"size_bytes":2333,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"grid place-content-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1031,"size_tokens":null},"client/src/pages/kids.tsx":{"content":"import { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { \n  Play, \n  BookOpen, \n  Music, \n  Star, \n  Trophy, \n  Gamepad2,\n  ArrowLeft,\n  Sun\n} from \"lucide-react\";\n\nexport default function KidsPage() {\n  return (\n    <div className=\"min-h-screen bg-sky-100 font-sans selection:bg-yellow-200\">\n      {/* Kids Header */}\n      <div className=\"bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b-4 border-sky-200 p-4 flex items-center justify-between\">\n        <Link href=\"/dashboard\">\n          <Button variant=\"ghost\" size=\"lg\" className=\"text-sky-600 hover:bg-sky-50 rounded-full font-bold\">\n            <ArrowLeft className=\"mr-2 h-6 w-6\" /> Exit Kids Mode\n          </Button>\n        </Link>\n        <div className=\"flex items-center gap-2 bg-yellow-100 px-4 py-2 rounded-full border-2 border-yellow-300\">\n          <Star className=\"h-6 w-6 text-yellow-500 fill-current animate-pulse\" />\n          <span className=\"font-black text-yellow-600 text-lg\">1,250 pts</span>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-12 w-12 rounded-full bg-purple-200 border-2 border-purple-400 flex items-center justify-center\">\n            <span className=\"text-2xl\">🦁</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto p-4 md:p-8 max-w-5xl\">\n        {/* Hero Greeting */}\n        <div className=\"text-center mb-12 mt-4\">\n           <div className=\"inline-block bg-white p-4 rounded-3xl shadow-xl border-b-8 border-sky-200 rotate-2 mb-6\">\n             <h1 className=\"text-4xl md:text-6xl font-black text-sky-500 tracking-tight\">\n               Hi, Noah! <Sun className=\"inline h-12 w-12 text-yellow-400 fill-current animate-spin-slow\" />\n             </h1>\n           </div>\n           <p className=\"text-xl text-sky-700 font-bold\">Ready for today's adventure with God?</p>\n        </div>\n\n        {/* Big Menu Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12\">\n          <Card className=\"group cursor-pointer hover:scale-105 transition-transform border-b-8 border-r-8 border-purple-200 hover:border-purple-300 bg-white rounded-3xl overflow-hidden\">\n            <div className=\"h-40 bg-purple-100 flex items-center justify-center relative overflow-hidden\">\n               <div className=\"absolute inset-0 opacity-20 bg-[radial-gradient(circle,_var(--tw-gradient-stops))] from-purple-300 to-transparent\"></div>\n               <BookOpen className=\"h-20 w-20 text-purple-500 group-hover:scale-110 transition-transform\" />\n            </div>\n            <CardContent className=\"p-6 text-center\">\n              <h2 className=\"text-2xl font-black text-purple-600 mb-2\">Bible Stories</h2>\n              <p className=\"text-purple-400 font-bold\">Read about David & Goliath!</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"group cursor-pointer hover:scale-105 transition-transform border-b-8 border-r-8 border-pink-200 hover:border-pink-300 bg-white rounded-3xl overflow-hidden\">\n            <div className=\"h-40 bg-pink-100 flex items-center justify-center relative overflow-hidden\">\n               <div className=\"absolute inset-0 opacity-20 bg-[radial-gradient(circle,_var(--tw-gradient-stops))] from-pink-300 to-transparent\"></div>\n               <Music className=\"h-20 w-20 text-pink-500 group-hover:scale-110 transition-transform\" />\n            </div>\n            <CardContent className=\"p-6 text-center\">\n              <h2 className=\"text-2xl font-black text-pink-600 mb-2\">Sing Along</h2>\n              <p className=\"text-pink-400 font-bold\">Worship songs for you!</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"group cursor-pointer hover:scale-105 transition-transform border-b-8 border-r-8 border-green-200 hover:border-green-300 bg-white rounded-3xl overflow-hidden\">\n            <div className=\"h-40 bg-green-100 flex items-center justify-center relative overflow-hidden\">\n               <div className=\"absolute inset-0 opacity-20 bg-[radial-gradient(circle,_var(--tw-gradient-stops))] from-green-300 to-transparent\"></div>\n               <Gamepad2 className=\"h-20 w-20 text-green-500 group-hover:scale-110 transition-transform\" />\n            </div>\n            <CardContent className=\"p-6 text-center\">\n              <h2 className=\"text-2xl font-black text-green-600 mb-2\">Bible Games</h2>\n              <p className=\"text-green-400 font-bold\">Quizzes and Puzzles!</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Today's Activity */}\n        <div className=\"bg-orange-100 rounded-3xl p-8 border-4 border-orange-200 relative overflow-hidden\">\n           <div className=\"relative z-10 flex flex-col md:flex-row items-center gap-8\">\n             <div className=\"flex-1 text-center md:text-left\">\n               <div className=\"inline-block bg-orange-500 text-white px-4 py-1 rounded-full font-bold text-sm mb-4\">\n                 DAILY CHALLENGE\n               </div>\n               <h2 className=\"text-3xl font-black text-orange-600 mb-4\">Help Your Neighbor</h2>\n               <p className=\"text-lg text-orange-800 font-medium mb-6\">\n                 Can you do one nice thing for someone today? Maybe share a toy or say something kind!\n               </p>\n               <Button size=\"lg\" className=\"bg-orange-500 hover:bg-orange-600 text-white rounded-full font-black text-lg px-8 h-14 border-b-4 border-orange-700 active:border-b-0 active:translate-y-1 transition-all\">\n                 I Did It! <Trophy className=\"ml-2 h-6 w-6\" />\n               </Button>\n             </div>\n             <div className=\"flex-shrink-0\">\n               <div className=\"h-48 w-48 bg-white rounded-full flex items-center justify-center border-8 border-orange-300 shadow-lg\">\n                 <span className=\"text-8xl\">🤝</span>\n               </div>\n             </div>\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6030,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile } from \"fs/promises\";\n\n// server deps to bundle to reduce openat(2) syscalls\n// which helps cold start times\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"pg\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildAll() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1417,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  if (!itemContext) {\n    throw new Error(\"useFormField should be used within <FormItem>\")\n  }\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4175,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5745,"size_tokens":null},"client/src/pages/events.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { MapPin, Clock, Calendar as CalendarIcon, ExternalLink, Share2 } from \"lucide-react\";\n\nexport default function EventsPage() {\n  return (\n    <Layout>\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Calendar Sidebar */}\n        <div className=\"lg:col-span-1 space-y-6\">\n           <Card>\n             <CardContent className=\"p-4\">\n               <Calendar className=\"rounded-md border w-full\" />\n             </CardContent>\n           </Card>\n\n           <Card>\n             <CardContent className=\"p-6\">\n               <h3 className=\"font-bold text-lg mb-4\">Filters</h3>\n               <div className=\"space-y-3\">\n                 {['Worship Services', 'Small Groups', 'Outreach', 'Youth', 'Kids', 'Online'].map((filter) => (\n                   <div key={filter} className=\"flex items-center gap-2\">\n                     <div className=\"h-4 w-4 rounded border border-primary bg-primary/20\"></div>\n                     <span className=\"text-sm font-medium\">{filter}</span>\n                   </div>\n                 ))}\n               </div>\n             </CardContent>\n           </Card>\n        </div>\n\n        {/* Events List */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"flex items-center justify-between\">\n             <h1 className=\"text-3xl font-bold\">Upcoming Events</h1>\n             <Button variant=\"outline\">Sync to Calendar</Button>\n          </div>\n\n          {[\n            { title: \"Sunday Service: Grace Revealed\", date: \"Sunday, Oct 24\", time: \"9:00 AM & 11:00 AM\", loc: \"Main Sanctuary\", type: \"Worship\", img: \"https://images.unsplash.com/photo-1438232992991-995b7058bbb3?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Fall Festival Outreach\", date: \"Saturday, Oct 30\", time: \"2:00 PM - 6:00 PM\", loc: \"City Park\", type: \"Outreach\", img: \"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Youth Night: Glow Party\", date: \"Friday, Oct 29\", time: \"7:00 PM\", loc: \"Youth Center\", type: \"Youth\", img: \"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=1000&auto=format&fit=crop\" },\n          ].map((event, i) => (\n            <Card key={i} className=\"overflow-hidden flex flex-col sm:flex-row\">\n              <div className=\"sm:w-48 h-48 sm:h-auto relative\">\n                <img src={event.img} className=\"absolute inset-0 w-full h-full object-cover\" alt={event.title} />\n                <div className=\"absolute top-2 left-2\">\n                  <Badge className=\"bg-white/90 text-black hover:bg-white\">{event.type}</Badge>\n                </div>\n              </div>\n              <CardContent className=\"flex-1 p-6\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <div className=\"text-sm font-bold text-primary uppercase tracking-wider\">{event.date}</div>\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\"><Share2 className=\"h-4 w-4\" /></Button>\n                  </div>\n                </div>\n                <h3 className=\"text-xl font-bold mb-4\">{event.title}</h3>\n                \n                <div className=\"space-y-2 text-sm text-muted-foreground mb-6\">\n                  <div className=\"flex items-center gap-2\">\n                    <Clock className=\"h-4 w-4\" /> {event.time}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <MapPin className=\"h-4 w-4\" /> {event.loc}\n                  </div>\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <Button>Register Now</Button>\n                  <Button variant=\"outline\">Details <ExternalLink className=\"ml-2 h-3 w-3\" /></Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":4164,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/pages/prayer.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  Plus, \n  HandHelping, // Note: lucide might not have this, check standard icons\n  CheckCircle2, \n  Clock, \n  Share2, \n  MoreHorizontal,\n  Heart,\n  Lock\n} from \"lucide-react\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\nexport default function PrayerPage() {\n  return (\n    <Layout>\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Main Content - Prayer Lists */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground\">Prayer Journal</h1>\n              <p className=\"text-muted-foreground\">Track your prayers and intercede for others.</p>\n            </div>\n            <Button className=\"gap-2 rounded-full shadow-lg hover:shadow-xl transition-all bg-primary text-white\">\n              <Plus className=\"h-4 w-4\" /> Add Prayer\n            </Button>\n          </div>\n\n          <Tabs defaultValue=\"active\" className=\"w-full\">\n            <TabsList className=\"mb-6\">\n              <TabsTrigger value=\"active\">Active Prayers</TabsTrigger>\n              <TabsTrigger value=\"answered\">Answered</TabsTrigger>\n              <TabsTrigger value=\"community\">Community Wall</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"active\" className=\"space-y-4\">\n              {[\n                { title: \"Healing for Sarah\", category: \"Health\", date: \"2 days ago\", privacy: \"Friends\" },\n                { title: \"Job Interview Wisdom\", category: \"Career\", date: \"5 days ago\", privacy: \"Private\" },\n                { title: \"Peace for the Nation\", category: \"World\", date: \"1 week ago\", privacy: \"Public\" },\n              ].map((prayer, i) => (\n                <Card key={i} className=\"hover:shadow-md transition-shadow group\">\n                  <CardContent className=\"p-6 flex items-start gap-4\">\n                    <div className=\"mt-1\">\n                      <div className={`h-10 w-10 rounded-full flex items-center justify-center ${\n                        i === 0 ? 'bg-red-100 text-red-600' : \n                        i === 1 ? 'bg-blue-100 text-blue-600' : 'bg-green-100 text-green-600'\n                      }`}>\n                        <Heart className=\"h-5 w-5 fill-current opacity-20\" />\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <h3 className=\"font-bold text-lg\">{prayer.title}</h3>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"opacity-0 group-hover:opacity-100 transition-opacity\">\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-sm text-muted-foreground mb-3\">\n                        <Badge variant=\"outline\">{prayer.category}</Badge>\n                        <span className=\"flex items-center gap-1\"><Clock className=\"h-3 w-3\" /> {prayer.date}</span>\n                        <span className=\"flex items-center gap-1\">\n                          {prayer.privacy === 'Private' ? <Lock className=\"h-3 w-3\" /> : <Share2 className=\"h-3 w-3\" />}\n                          {prayer.privacy}\n                        </span>\n                      </div>\n                      <p className=\"text-foreground/80 mb-4\">\n                        Lord, I ask for your divine intervention and peace in this situation. Guide our steps and hearts.\n                      </p>\n                      <div className=\"flex items-center gap-3\">\n                        <Button variant=\"outline\" size=\"sm\" className=\"gap-2 hover:text-green-600 hover:border-green-200\">\n                          <CheckCircle2 className=\"h-4 w-4\" /> Mark Answered\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\">Update</Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </TabsContent>\n\n            <TabsContent value=\"community\" className=\"space-y-4\">\n              <div className=\"columns-1 md:columns-2 gap-4 space-y-4\">\n                {[1, 2, 3, 4].map((i) => (\n                  <Card key={i} className=\"break-inside-avoid mb-4 bg-gradient-to-br from-card to-muted/20\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <Avatar className=\"h-8 w-8\">\n                          <AvatarImage src={`https://i.pravatar.cc/150?u=${i + 50}`} />\n                          <AvatarFallback>U</AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <p className=\"text-sm font-bold\">Mark Robinson</p>\n                          <p className=\"text-xs text-muted-foreground\">Church Member</p>\n                        </div>\n                      </div>\n                      <p className=\"text-sm mb-4\">Please pray for my family as we travel this week. Safety on the roads.</p>\n                      <Button size=\"sm\" className=\"w-full gap-2 bg-primary/10 text-primary hover:bg-primary/20 border-none shadow-none\">\n                        <Heart className=\"h-4 w-4\" /> Praying ({12 + i})\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Sidebar - Stats & Inspiration */}\n        <div className=\"lg:col-span-1 space-y-6\">\n          <Card className=\"bg-primary text-white border-none\">\n            <CardContent className=\"p-6 text-center\">\n              <h3 className=\"text-lg font-bold mb-2\">Prayer Streak</h3>\n              <div className=\"text-5xl font-bold mb-2\">12</div>\n              <p className=\"text-white/80 text-sm mb-6\">Days in a row</p>\n              <div className=\"grid grid-cols-7 gap-1 mb-4\">\n                {[...Array(7)].map((_, i) => (\n                  <div key={i} className={`h-8 rounded-md flex items-center justify-center text-xs ${i > 3 ? 'bg-white/20' : 'bg-white text-primary'}`}>\n                    {['M','T','W','T','F','S','S'][i]}\n                  </div>\n                ))}\n              </div>\n              <p className=\"text-xs text-white/60\">Keep it up! Consistency builds faith.</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">Verse on Prayer</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <blockquote className=\"border-l-4 border-primary pl-4 italic text-muted-foreground mb-4\">\n                \"Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God.\"\n              </blockquote>\n              <p className=\"text-right text-sm font-bold text-primary\">— Philippians 4:6</p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":7567,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1877,"size_tokens":null},"client/src/pages/devotional.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport devotionalBg from \"@assets/generated_images/serene_morning_light_for_devotional_background.png\";\nimport { \n  Calendar, \n  Share2, \n  Bookmark, \n  MessageCircle, \n  Heart, \n  Play,\n  ChevronLeft,\n  ChevronRight,\n  Clock\n} from \"lucide-react\";\n\nexport default function DevotionalPage() {\n  return (\n    <Layout>\n      <div className=\"max-w-5xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Daily Devotional</h1>\n            <p className=\"text-muted-foreground\">Start your day with purpose and prayer.</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"outline\" size=\"icon\"><ChevronLeft className=\"h-4 w-4\" /></Button>\n            <Button variant=\"outline\" className=\"min-w-[140px]\"><Calendar className=\"mr-2 h-4 w-4\" /> Oct 24, 2025</Button>\n            <Button variant=\"outline\" size=\"icon\"><ChevronRight className=\"h-4 w-4\" /></Button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n            <Card className=\"overflow-hidden border-none shadow-lg\">\n              <div className=\"h-64 relative\">\n                <img src={devotionalBg} className=\"w-full h-full object-cover\" alt=\"Morning Light\" />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\n                <div className=\"absolute bottom-6 left-6 right-6 text-white\">\n                  <Badge className=\"bg-white/20 hover:bg-white/30 text-white border-none mb-3\">Faith & Trust</Badge>\n                  <h2 className=\"text-3xl font-bold font-serif leading-tight\">Waiting on God's Timing</h2>\n                  <p className=\"text-white/80 mt-2 flex items-center gap-2\">\n                    <Avatar className=\"h-6 w-6 border border-white/50\">\n                      <AvatarImage src=\"https://github.com/shadcn.png\" />\n                    </Avatar>\n                    By Pastor Charles Stanley • 5 min read\n                  </p>\n                </div>\n              </div>\n              <CardContent className=\"p-8\">\n                <blockquote className=\"border-l-4 border-primary pl-6 py-2 mb-8 bg-muted/30 rounded-r-lg\">\n                  <p className=\"text-xl font-serif italic text-foreground mb-2\">\n                    \"But they who wait for the Lord shall renew their strength; they shall mount up with wings like eagles; they shall run and not be weary; they shall walk and not faint.\"\n                  </p>\n                  <footer className=\"text-sm font-bold text-primary\">— Isaiah 40:31 (ESV)</footer>\n                </blockquote>\n\n                <div className=\"prose prose-lg dark:prose-invert max-w-none font-serif leading-loose text-foreground/90\">\n                  <p>\n                    Waiting is never easy. In a world that values instant gratification, the concept of waiting seems counterintuitive, even wasteful. Yet, in God's economy, waiting is often the workshop where our character is forged.\n                  </p>\n                  <p>\n                    When Isaiah speaks of \"waiting for the Lord,\" he isn't describing a passive idling. The Hebrew word used here implies an active anticipation, a hopeful entangling of our hearts with God's. It's the kind of waiting a watchman does for the morning—confident that the sun will rise, even if the night feels long.\n                  </p>\n                  <p>\n                    Are you in a season of waiting today? Perhaps you are waiting for a breakthrough in your career, healing in your body, or restoration in a relationship. Be encouraged. God is not ignoring you. He is preparing you.\n                  </p>\n                  <h3>Reflection</h3>\n                  <p>\n                    Take a moment to list the things you are waiting for. Surrender each one to God, asking Him to reveal what He wants to teach you in the waiting room.\n                  </p>\n                </div>\n\n                <div className=\"flex items-center justify-between mt-8 pt-6 border-t border-border\">\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"ghost\" className=\"text-muted-foreground hover:text-pink-500 gap-2\">\n                      <Heart className=\"h-5 w-5\" /> 245\n                    </Button>\n                    <Button variant=\"ghost\" className=\"text-muted-foreground hover:text-blue-500 gap-2\">\n                      <MessageCircle className=\"h-5 w-5\" /> 12 Comments\n                    </Button>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"ghost\" size=\"icon\"><Bookmark className=\"h-5 w-5\" /></Button>\n                    <Button variant=\"ghost\" size=\"icon\"><Share2 className=\"h-5 w-5\" /></Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Discussion Section */}\n            <div className=\"space-y-4\">\n              <h3 className=\"font-bold text-xl\">Community Reflection</h3>\n              <Card>\n                <CardContent className=\"p-4 space-y-4\">\n                  <div className=\"flex gap-4\">\n                    <Avatar>\n                      <AvatarImage src=\"https://github.com/shadcn.png\" />\n                      <AvatarFallback>ME</AvatarFallback>\n                    </Avatar>\n                    <div className=\"flex-1\">\n                      <textarea \n                        className=\"w-full min-h-[80px] p-3 rounded-md border border-input bg-background resize-none focus:outline-none focus:ring-2 focus:ring-ring\"\n                        placeholder=\"Share your thoughts on today's devotional...\"\n                      ></textarea>\n                      <div className=\"flex justify-end mt-2\">\n                        <Button size=\"sm\">Post Comment</Button>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <h3 className=\"font-bold text-lg mb-4\">Devotional Streak</h3>\n                <div className=\"flex items-center justify-center p-6 bg-primary/5 rounded-2xl mb-4\">\n                   <div className=\"text-center\">\n                     <div className=\"text-5xl font-bold text-primary mb-1\">12</div>\n                     <div className=\"text-sm text-muted-foreground uppercase tracking-wide\">Days Straight</div>\n                   </div>\n                </div>\n                <p className=\"text-center text-sm text-muted-foreground\">\n                  You're doing great! 3 more days to beat your record.\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n               <CardContent className=\"p-6\">\n                 <h3 className=\"font-bold text-lg mb-4\">Related Content</h3>\n                 <div className=\"space-y-4\">\n                   <div className=\"group flex gap-3 cursor-pointer\">\n                     <div className=\"h-16 w-16 rounded-lg bg-muted flex items-center justify-center flex-shrink-0\">\n                       <Play className=\"h-6 w-6 text-muted-foreground\" />\n                     </div>\n                     <div>\n                       <p className=\"font-medium text-sm group-hover:text-primary transition-colors\">Podcast: The Art of Waiting</p>\n                       <p className=\"text-xs text-muted-foreground flex items-center gap-1\"><Clock className=\"h-3 w-3\" /> 15 min</p>\n                     </div>\n                   </div>\n                   <div className=\"group flex gap-3 cursor-pointer\">\n                     <div className=\"h-16 w-16 rounded-lg bg-muted overflow-hidden flex-shrink-0\">\n                        <img src=\"https://images.unsplash.com/photo-1507692049790-de58293a469d?q=80&w=200&auto=format&fit=crop\" className=\"w-full h-full object-cover\" />\n                     </div>\n                     <div>\n                       <p className=\"font-medium text-sm group-hover:text-primary transition-colors\">Plan: Peace in Anxiety</p>\n                       <p className=\"text-xs text-muted-foreground\">7 Day Plan</p>\n                     </div>\n                   </div>\n                 </div>\n               </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":8882,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/pages/groups.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  Search, \n  Users, \n  MapPin, \n  Calendar, \n  ArrowRight,\n  MessageSquare\n} from \"lucide-react\";\n\nexport default function GroupsPage() {\n  return (\n    <Layout>\n      <div className=\"space-y-8\">\n        {/* Hero / Search */}\n        <div className=\"relative rounded-3xl overflow-hidden bg-muted h-64 flex items-center justify-center text-center px-4\">\n          <img \n            src=\"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=2000&auto=format&fit=crop\" \n            className=\"absolute inset-0 w-full h-full object-cover opacity-50\"\n            alt=\"Groups\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-background/90\"></div>\n          <div className=\"relative z-10 max-w-2xl mx-auto\">\n            <h1 className=\"text-3xl md:text-4xl font-bold mb-4 text-foreground\">Find Your Community</h1>\n            <p className=\"text-muted-foreground mb-8 text-lg\">Connect with others, grow in faith, and do life together.</p>\n            \n            <div className=\"relative max-w-md mx-auto\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n              <input \n                type=\"text\" \n                placeholder=\"Search by topic, location, or name...\" \n                className=\"w-full h-12 pl-10 pr-4 rounded-full bg-background border border-border shadow-lg focus:ring-2 focus:ring-primary outline-none\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* My Groups */}\n        <div>\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold\">My Groups</h2>\n            <Button variant=\"outline\">Manage Groups</Button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {[\n              { name: \"Young Professionals\", next: \"Tue, 7:00 PM\", loc: \"Coffee House\", members: 18, img: \"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=1000&auto=format&fit=crop\" },\n              { name: \"Marriage Ministry\", next: \"Sun, 9:00 AM\", loc: \"Room 302\", members: 24, img: \"https://images.unsplash.com/photo-1511632765486-a01980e01a18?q=80&w=1000&auto=format&fit=crop\" }\n            ].map((group, i) => (\n              <Card key={i} className=\"overflow-hidden group cursor-pointer hover:border-primary/50 transition-colors\">\n                <div className=\"flex h-full\">\n                  <div className=\"w-1/3 relative\">\n                    <img src={group.img} className=\"absolute inset-0 w-full h-full object-cover\" alt={group.name} />\n                    <div className=\"absolute inset-0 bg-black/10\"></div>\n                  </div>\n                  <CardContent className=\"flex-1 p-6\">\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <Badge variant=\"secondary\">Member</Badge>\n                      <div className=\"flex -space-x-2\">\n                         {[1,2,3].map(m => (\n                           <Avatar key={m} className=\"h-6 w-6 border-2 border-background\">\n                             <AvatarImage src={`https://i.pravatar.cc/150?u=${i * 10 + m}`} />\n                           </Avatar>\n                         ))}\n                      </div>\n                    </div>\n                    <h3 className=\"font-bold text-xl mb-2\">{group.name}</h3>\n                    <div className=\"space-y-2 text-sm text-muted-foreground mb-6\">\n                      <div className=\"flex items-center gap-2\">\n                        <Calendar className=\"h-4 w-4\" /> Next: {group.next}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"h-4 w-4\" /> {group.loc}\n                      </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button className=\"flex-1\" size=\"sm\">Dashboard</Button>\n                      <Button variant=\"outline\" size=\"icon\" className=\"h-9 w-9\"><MessageSquare className=\"h-4 w-4\" /></Button>\n                    </div>\n                  </CardContent>\n                </div>\n              </Card>\n            ))}\n          </div>\n        </div>\n\n        {/* Discover */}\n        <div>\n          <h2 className=\"text-2xl font-bold mb-6\">Discover New Groups</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n             {[1, 2, 3, 4, 5, 6].map((i) => (\n               <Card key={i} className=\"hover:shadow-lg transition-all\">\n                 <div className=\"h-48 bg-muted relative\">\n                   <img \n                     src={`https://images.unsplash.com/photo-${1530000000000 + i}?q=80&w=600&auto=format&fit=crop`} \n                     className=\"w-full h-full object-cover\" \n                     alt=\"Group\"\n                   />\n                   <Badge className=\"absolute top-4 left-4 bg-white text-black hover:bg-white\">Open</Badge>\n                 </div>\n                 <CardContent className=\"p-6\">\n                   <h3 className=\"font-bold text-lg mb-2\">Foundations of Faith</h3>\n                   <p className=\"text-muted-foreground text-sm mb-4 line-clamp-2\">\n                     A 6-week journey exploring the core beliefs of Christianity. Perfect for new believers or those asking questions.\n                   </p>\n                   <div className=\"flex items-center justify-between text-sm text-muted-foreground mb-4\">\n                     <span className=\"flex items-center gap-1\"><Users className=\"h-4 w-4\" /> 12/20 spots</span>\n                     <span className=\"flex items-center gap-1\"><MapPin className=\"h-4 w-4\" /> Main Hall</span>\n                   </div>\n                   <Button variant=\"outline\" className=\"w-full group-hover:bg-primary group-hover:text-white transition-colors\">\n                     View Details <ArrowRight className=\"ml-2 h-4 w-4\" />\n                   </Button>\n                 </CardContent>\n               </Card>\n             ))}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":6375,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-fit\", defaultClassNames.root),\n        months: cn(\n          \"relative flex flex-col gap-4 md:flex-row\",\n          defaultClassNames.months\n        ),\n        month: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n        nav: cn(\n          \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n          defaultClassNames.nav\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          \"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn(\n          \"bg-popover absolute inset-0 opacity-0\",\n          defaultClassNames.dropdown\n        ),\n        caption_label: cn(\n          \"select-none font-medium\",\n          captionLayout === \"label\"\n            ? \"text-sm\"\n            : \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\",\n          defaultClassNames.caption_label\n        ),\n        table: \"w-full border-collapse\",\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\n        weekday: cn(\n          \"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n          defaultClassNames.weekday\n        ),\n        week: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n        week_number_header: cn(\n          \"w-[--cell-size] select-none\",\n          defaultClassNames.week_number_header\n        ),\n        week_number: cn(\n          \"text-muted-foreground select-none text-[0.8rem]\",\n          defaultClassNames.week_number\n        ),\n        day: cn(\n          \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n          defaultClassNames.day\n        ),\n        range_start: cn(\n          \"bg-accent rounded-l-md\",\n          defaultClassNames.range_start\n        ),\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n        range_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n        today: cn(\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n          defaultClassNames.today\n        ),\n        outside: cn(\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\n          defaultClassNames.outside\n        ),\n        disabled: cn(\n          \"text-muted-foreground opacity-50\",\n          defaultClassNames.disabled\n        ),\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (\n            <div\n              data-slot=\"calendar\"\n              ref={rootRef}\n              className={cn(className)}\n              {...props}\n            />\n          )\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (\n              <ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\n            )\n          }\n\n          if (orientation === \"right\") {\n            return (\n              <ChevronRightIcon\n                className={cn(\"size-4\", className)}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","path":null,"size_bytes":7569,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\nimport LandingPage from \"@/pages/landing\";\nimport Dashboard from \"@/pages/dashboard\";\nimport BiblePage from \"@/pages/bible\";\nimport AudioPage from \"@/pages/audio\";\nimport PrayerPage from \"@/pages/prayer\";\nimport GroupsPage from \"@/pages/groups\";\nimport EventsPage from \"@/pages/events\";\nimport SettingsPage from \"@/pages/settings\";\nimport ReadingPlansPage from \"@/pages/plans\";\nimport CoursesPage from \"@/pages/courses\";\nimport KidsPage from \"@/pages/kids\";\nimport AuthPage from \"@/pages/auth\";\nimport DevotionalPage from \"@/pages/devotional\";\nimport ForumsPage from \"@/pages/forums\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={LandingPage} />\n      \n      <Route path=\"/auth\">\n        <AuthPage />\n      </Route>\n      <Route path=\"/login\">\n        <AuthPage initialTab=\"login\" />\n      </Route>\n      <Route path=\"/register\">\n        <AuthPage initialTab=\"register\" />\n      </Route>\n\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Route path=\"/devotional\" component={DevotionalPage} />\n      <Route path=\"/bible\" component={BiblePage} />\n      <Route path=\"/audio\" component={AudioPage} />\n      <Route path=\"/forums\" component={ForumsPage} />\n      <Route path=\"/prayer\" component={PrayerPage} />\n      <Route path=\"/groups\" component={GroupsPage} />\n      <Route path=\"/events\" component={EventsPage} />\n      <Route path=\"/settings\" component={SettingsPage} />\n      <Route path=\"/plans\" component={ReadingPlansPage} />\n      <Route path=\"/courses\" component={CoursesPage} />\n      <Route path=\"/kids\" component={KidsPage} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":2162,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7406,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1828,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":768,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4419,"size_tokens":null},"client/src/components/ui/button-group.tsx":{"content":"import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch has-[>[data-slot=button-group]]:gap-2 [&>*]:focus-visible:relative [&>*]:focus-visible:z-10 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted shadow-xs flex items-center gap-2 rounded-md border px-4 text-sm font-medium [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","path":null,"size_bytes":2209,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/pages/courses.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Play, \n  Clock, \n  Award, \n  BookOpen, \n  Users,\n  Star\n} from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\n\nexport default function CoursesPage() {\n  return (\n    <Layout>\n      <div className=\"space-y-8\">\n        <div className=\"flex justify-between items-end\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-2\">Courses & Learning</h1>\n            <p className=\"text-muted-foreground\">Deepen your understanding with structured courses.</p>\n          </div>\n          <Button variant=\"outline\">My Certificates</Button>\n        </div>\n\n        {/* Continue Learning */}\n        <Card className=\"bg-muted/30 border-none\">\n          <CardContent className=\"p-6\">\n            <h2 className=\"font-bold text-lg mb-4\">Continue Learning</h2>\n            <div className=\"flex gap-4 items-center\">\n              <div className=\"h-24 w-40 rounded-lg overflow-hidden flex-shrink-0 relative\">\n                 <img src=\"https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?q=80&w=1000&auto=format&fit=crop\" className=\"w-full h-full object-cover\" />\n                 <div className=\"absolute inset-0 flex items-center justify-center bg-black/20\">\n                   <Play className=\"h-8 w-8 text-white fill-current\" />\n                 </div>\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"font-bold text-lg mb-1\">Understanding the Trinity</h3>\n                <p className=\"text-sm text-muted-foreground mb-3\">Module 2: The Son • 15 mins left</p>\n                <div className=\"flex items-center gap-4 max-w-md\">\n                   <Progress value={45} className=\"h-2\" />\n                   <span className=\"text-xs font-bold text-primary\">45%</span>\n                </div>\n              </div>\n              <Button>Resume</Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Catalog */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          {[\n            { title: \"Foundations of Theology\", instructor: \"Dr. James White\", duration: \"4 Weeks\", students: \"1.2k\", rating: 4.9, img: \"https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Biblical Leadership\", instructor: \"Pastor John\", duration: \"6 Weeks\", students: \"850\", rating: 4.8, img: \"https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"History of the Church\", instructor: \"Prof. Miller\", duration: \"8 Weeks\", students: \"2.1k\", rating: 5.0, img: \"https://images.unsplash.com/photo-1548625361-dc87def9f566?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Effective Prayer\", instructor: \"Sarah Cohen\", duration: \"3 Weeks\", students: \"3.4k\", rating: 4.9, img: \"https://images.unsplash.com/photo-1445445290350-16a63cfaf7a7?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Apologetics 101\", instructor: \"Mark Lee\", duration: \"5 Weeks\", students: \"900\", rating: 4.7, img: \"https://images.unsplash.com/photo-1577985051167-0d49eec21977?q=80&w=1000&auto=format&fit=crop\" },\n            { title: \"Marriage Counseling\", instructor: \"Team Smith\", duration: \"6 Weeks\", students: \"500\", rating: 4.9, img: \"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=1000&auto=format&fit=crop\" },\n          ].map((course, i) => (\n            <Card key={i} className=\"flex flex-col overflow-hidden group cursor-pointer hover:shadow-lg transition-all\">\n              <div className=\"h-48 relative\">\n                <img src={course.img} className=\"w-full h-full object-cover transition-transform group-hover:scale-105\" alt={course.title} />\n                <div className=\"absolute top-2 right-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded flex items-center gap-1 text-xs font-bold\">\n                  <Star className=\"h-3 w-3 fill-yellow-400 text-yellow-400\" /> {course.rating}\n                </div>\n              </div>\n              <CardContent className=\"flex-1 p-6 flex flex-col\">\n                <h3 className=\"font-bold text-xl mb-2 group-hover:text-primary transition-colors\">{course.title}</h3>\n                <p className=\"text-sm text-muted-foreground mb-4\">with {course.instructor}</p>\n                \n                <div className=\"mt-auto pt-4 border-t border-border flex items-center justify-between text-sm text-muted-foreground\">\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"h-4 w-4\" /> {course.duration}\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Users className=\"h-4 w-4\" /> {course.students}\n                  </div>\n                </div>\n                <Button className=\"w-full mt-4\">Enroll Now</Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":5187,"size_tokens":null},"client/src/components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","path":null,"size_bytes":2396,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8608,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { metaImagesPlugin } from \"./vite-plugin-meta-images\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    tailwindcss(),\n    metaImagesPlugin(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    allowedHosts: true,\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1330,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/pages/audio.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from \"@/components/ui/sheet\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { \n  Play, \n  Pause,\n  SkipBack, \n  SkipForward, \n  Volume2,\n  VolumeX,\n  Volume1,\n  ListMusic, \n  Download,\n  MoreVertical,\n  Heart,\n  Bookmark,\n  BookmarkCheck,\n  Search,\n  Filter,\n  Shuffle,\n  Repeat,\n  Repeat1,\n  Share2,\n  Plus,\n  X,\n  Church,\n  Layers,\n  History,\n  Timer,\n  Settings2,\n  FileText,\n  Quote,\n  Bell,\n  BellOff,\n  Radio,\n  Mic,\n  CheckCircle2,\n  ChevronDown,\n  Maximize2,\n  Minimize2,\n  RotateCcw,\n  RotateCw,\n  MessageSquare,\n  Star,\n  Clock,\n  Headphones,\n  AudioLines,\n  Share,\n  Copy,\n  Check,\n  ExternalLink,\n} from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst sermonCategories = [\n  { id: \"all\", name: \"All\", count: 1247 },\n  { id: \"doctrinal\", name: \"Doctrinal\", count: 234 },\n  { id: \"topical\", name: \"Topical\", count: 412 },\n  { id: \"expository\", name: \"Expository\", count: 289 },\n  { id: \"evangelistic\", name: \"Evangelistic\", count: 156 },\n  { id: \"devotional\", name: \"Devotional\", count: 98 },\n];\n\nconst sermonSeries = [\n  { id: 1, name: \"Walking in Faith\", sermonCount: 12, progress: 8, image: \"https://images.unsplash.com/photo-1504052434569-70ad5836ab65?w=400\" },\n  { id: 2, name: \"The Beatitudes\", sermonCount: 9, progress: 3, image: \"https://images.unsplash.com/photo-1507692049790-de58290a4334?w=400\" },\n  { id: 3, name: \"Romans: Living by Faith\", sermonCount: 16, progress: 16, image: \"https://images.unsplash.com/photo-1529070538774-1843cb3265df?w=400\" },\n  { id: 4, name: \"Psalms of David\", sermonCount: 8, progress: 0, image: \"https://images.unsplash.com/photo-1476820865390-c52aeebb9891?w=400\" },\n];\n\nconst churches = [\n  { id: 1, name: \"Grace Community Church\", location: \"Los Angeles, CA\", sermons: 342, avatar: \"GC\" },\n  { id: 2, name: \"Elevation Church\", location: \"Charlotte, NC\", sermons: 287, avatar: \"EC\" },\n  { id: 3, name: \"Life.Church\", location: \"Edmond, OK\", sermons: 198, avatar: \"LC\" },\n  { id: 4, name: \"Hillsong Church\", location: \"Sydney, AU\", sermons: 156, avatar: \"HC\" },\n];\n\nconst preachers = [\n  { id: 1, name: \"Pastor John MacArthur\", church: \"Grace Community Church\", sermons: 234, subscribed: true, avatar: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100\" },\n  { id: 2, name: \"Pastor Steven Furtick\", church: \"Elevation Church\", sermons: 189, subscribed: false, avatar: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100\" },\n  { id: 3, name: \"Pastor Craig Groeschel\", church: \"Life.Church\", sermons: 156, subscribed: true, avatar: \"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100\" },\n  { id: 4, name: \"Pastor Tim Keller\", church: \"Redeemer Presbyterian\", sermons: 312, subscribed: false, avatar: \"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=100\" },\n];\n\nconst mockSermons = [\n  {\n    id: 1,\n    title: \"The Power of Faith in Difficult Times\",\n    preacher: \"Pastor John MacArthur\",\n    church: \"Grace Community Church\",\n    date: \"2024-12-01\",\n    duration: \"45:32\",\n    durationSeconds: 2732,\n    category: \"doctrinal\",\n    series: \"Walking in Faith\",\n    passage: \"Hebrews 11:1-6\",\n    topic: \"Faith\",\n    plays: 12453,\n    rating: 4.8,\n    reviews: 234,\n    bookmarked: true,\n    downloaded: false,\n    liked: false,\n    image: \"https://images.unsplash.com/photo-1504052434569-70ad5836ab65?w=800\",\n    hasTranscript: true,\n    transcript: `Welcome to Grace Community Church. Today we're going to be looking at Hebrews chapter 11, verses 1 through 6. This is one of the most powerful passages in all of Scripture about faith.\n\n\"Now faith is the substance of things hoped for, the evidence of things not seen.\" What a profound statement. Faith is not wishful thinking. Faith is not positive mental attitude. Faith is the very substance—the reality—of what we hope for.\n\nThe writer of Hebrews goes on to give us examples of men and women who lived by faith. Abel offered a better sacrifice. Enoch walked with God. Noah built an ark. Abraham left his homeland. These were people who took God at His word.\n\nBut here's what I want you to understand today: Faith is not passive. Faith is active. Faith moves us to action. When we truly believe God, it changes how we live.\n\nIn verse 6, we read: \"But without faith it is impossible to please him: for he that cometh to God must believe that he is, and that he is a rewarder of them that diligently seek him.\"\n\nNotice two things about this verse. First, we must believe that God exists. That's foundational. But second—and this is crucial—we must believe that He rewards those who diligently seek Him. God is not distant. God is not disinterested. God is a rewarder.\n\nWhat does this mean for you today? It means that your faith matters. Your trust in God matters. When you're going through difficult times—and we all go through them—your faith is what sustains you.`,\n  },\n  {\n    id: 2,\n    title: \"Living a Life of Purpose\",\n    preacher: \"Pastor Steven Furtick\",\n    church: \"Elevation Church\",\n    date: \"2024-11-28\",\n    duration: \"38:15\",\n    durationSeconds: 2295,\n    category: \"topical\",\n    series: null,\n    passage: \"Ephesians 2:10\",\n    topic: \"Purpose\",\n    plays: 8921,\n    rating: 4.6,\n    reviews: 156,\n    bookmarked: false,\n    downloaded: true,\n    liked: true,\n    image: \"https://images.unsplash.com/photo-1507692049790-de58290a4334?w=800\",\n    hasTranscript: true,\n    transcript: `You are not an accident. Say that with me: \"I am not an accident.\" God created you on purpose, for a purpose. Ephesians 2:10 says, \"For we are God's handiwork, created in Christ Jesus to do good works, which God prepared in advance for us to do.\"\n\nDid you catch that? God prepared works in advance for you to do. Before you were born, God had a plan. Before you took your first breath, God had a purpose for your life.\n\nBut here's what I want you to understand: Purpose is not found in perfection. Purpose is found in progress. You don't have to have it all figured out to start walking in your purpose.\n\nMoses was a murderer. David was an adulterer. Peter denied Jesus three times. Yet God used each of them mightily. Why? Because purpose is not about your past. Purpose is about your potential in Christ.\n\nSo stop waiting for the perfect moment. Stop waiting until you feel ready. Step out in faith. Take that risk. Make that call. Start that ministry. Write that book. Launch that business.\n\nGod didn't create you to play it safe. God created you to make a difference. Your life matters. Your calling matters. Your purpose matters.`,\n  },\n  {\n    id: 3,\n    title: \"Grace Upon Grace\",\n    preacher: \"Pastor Tim Keller\",\n    church: \"Redeemer Presbyterian\",\n    date: \"2024-11-25\",\n    duration: \"52:18\",\n    durationSeconds: 3138,\n    category: \"expository\",\n    series: \"Romans: Living by Faith\",\n    passage: \"Romans 5:1-11\",\n    topic: \"Grace\",\n    plays: 15678,\n    rating: 4.9,\n    reviews: 412,\n    bookmarked: true,\n    downloaded: false,\n    liked: true,\n    image: \"https://images.unsplash.com/photo-1529070538774-1843cb3265df?w=800\",\n    hasTranscript: true,\n    transcript: `Grace. It's a word we use often in church, but do we really understand what it means? In Romans chapter 5, Paul unpacks the profound implications of grace in our lives.\n\n\"Therefore, since we have been justified through faith, we have peace with God through our Lord Jesus Christ, through whom we have gained access by faith into this grace in which we now stand.\"\n\nNotice the phrase \"this grace in which we now stand.\" Grace is not just a moment of forgiveness. Grace is a place where we live. We stand in grace. We're surrounded by grace. We're swimming in grace.\n\nBut here's what many Christians miss: Grace doesn't just save us from something—grace saves us for something. Grace doesn't just forgive our past—grace empowers our future.\n\nAnd Paul goes even further. He says we \"glory in our sufferings.\" Why? Because suffering produces perseverance, perseverance produces character, and character produces hope. And this hope does not put us to shame.\n\nYou see, grace reframes everything. It reframes our suffering. It reframes our failures. It reframes our future. Because of grace, nothing is wasted. Every trial, every struggle, every disappointment—God uses them all.\n\nThis is the gospel. This is the good news. We are saved by grace, we stand in grace, and we grow through grace. Grace upon grace.`,\n  },\n  {\n    id: 4,\n    title: \"Prayer: The Key to Breakthrough\",\n    preacher: \"Pastor Craig Groeschel\",\n    church: \"Life.Church\",\n    date: \"2024-11-22\",\n    duration: \"41:45\",\n    durationSeconds: 2505,\n    category: \"topical\",\n    series: null,\n    passage: \"Matthew 6:5-13\",\n    topic: \"Prayer\",\n    plays: 9234,\n    rating: 4.7,\n    reviews: 189,\n    bookmarked: false,\n    downloaded: false,\n    liked: false,\n    image: \"https://images.unsplash.com/photo-1476820865390-c52aeebb9891?w=800\",\n    hasTranscript: false,\n    transcript: \"\",\n  },\n  {\n    id: 5,\n    title: \"The Shepherd's Psalm\",\n    preacher: \"Pastor John MacArthur\",\n    church: \"Grace Community Church\",\n    date: \"2024-11-19\",\n    duration: \"48:22\",\n    durationSeconds: 2902,\n    category: \"expository\",\n    series: \"Psalms of David\",\n    passage: \"Psalm 23\",\n    topic: \"God's Provision\",\n    plays: 11234,\n    rating: 4.9,\n    reviews: 298,\n    bookmarked: false,\n    downloaded: false,\n    liked: false,\n    image: \"https://images.unsplash.com/photo-1508672019048-805c876b67e2?w=800\",\n    hasTranscript: true,\n    transcript: `\"The Lord is my shepherd; I shall not want.\" These opening words of Psalm 23 are perhaps the most beloved in all of Scripture. David, a former shepherd himself, understood the intimate relationship between a shepherd and his sheep.\n\nWhen David says \"The Lord is my shepherd,\" he's making a personal declaration. Not \"the Lord is a shepherd\" or \"the Lord is the shepherd.\" He says \"my shepherd.\" This is personal. This is intimate.\n\nAnd because the Lord is his shepherd, David can confidently say, \"I shall not want.\" Not \"I shall not want much\" or \"I shall not want too often.\" He shall not want. Period. Full stop.\n\n\"He makes me lie down in green pastures. He leads me beside still waters. He restores my soul.\" Notice the gentle, caring nature of our Shepherd. He doesn't drive us. He leads us. He doesn't deplete us. He restores us.\n\nAnd then we come to verse 4: \"Even though I walk through the valley of the shadow of death, I will fear no evil, for you are with me.\" Even in our darkest moments, we are not alone. The Shepherd is with us.\n\nThis is the comfort of Psalm 23. Not that we won't face valleys—we will. Not that we won't encounter shadows—we will. But in every valley, through every shadow, our Shepherd is with us. And that makes all the difference.`,\n  },\n];\n\nconst recentlyPlayed = [\n  { ...mockSermons[0], lastPlayed: \"2 hours ago\", progress: 65 },\n  { ...mockSermons[2], lastPlayed: \"Yesterday\", progress: 100 },\n  { ...mockSermons[4], lastPlayed: \"2 days ago\", progress: 32 },\n];\n\nconst mockQueue = [mockSermons[1], mockSermons[3], mockSermons[4]];\n\nconst mockPlaylists = [\n  { id: 1, name: \"Sunday Favorites\", sermonCount: 24, image: \"https://images.unsplash.com/photo-1438232992991-995b7058bbb3?w=400\" },\n  { id: 2, name: \"Deep Study\", sermonCount: 18, image: \"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400\" },\n  { id: 3, name: \"Commute\", sermonCount: 32, image: \"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400\" },\n  { id: 4, name: \"Devotions\", sermonCount: 15, image: \"https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=400\" },\n];\n\nconst mockComments = [\n  {\n    id: 1,\n    userId: 1,\n    userName: \"Grace Johnson\",\n    userAvatar: \"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100\",\n    content: \"This sermon really spoke to my heart. The message about faith during difficult times is exactly what I needed to hear today.\",\n    timestamp: \"2 hours ago\",\n    likes: 24,\n    replies: 3,\n  },\n  {\n    id: 2,\n    userId: 2,\n    userName: \"Michael Chen\",\n    userAvatar: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100\",\n    content: \"Pastor's explanation of Hebrews 11 was so clear and impactful. I've listened to this sermon three times already!\",\n    timestamp: \"5 hours ago\",\n    likes: 18,\n    replies: 1,\n  },\n  {\n    id: 3,\n    userId: 3,\n    userName: \"Sarah Williams\",\n    userAvatar: \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100\",\n    content: \"Amen! The part about active faith vs passive waiting was a real eye-opener for me.\",\n    timestamp: \"1 day ago\",\n    likes: 42,\n    replies: 7,\n  },\n  {\n    id: 4,\n    userId: 4,\n    userName: \"David Thompson\",\n    userAvatar: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100\",\n    content: \"Shared this with my small group. We had an amazing discussion about what it means to truly trust God.\",\n    timestamp: \"2 days ago\",\n    likes: 31,\n    replies: 4,\n  },\n];\n\n// Audio Waveform Visualization Component\nfunction AudioWaveform({ isPlaying, progress }: { isPlaying: boolean; progress: number }) {\n  const bars = 60;\n  const [heights, setHeights] = useState<number[]>(Array(bars).fill(20));\n\n  useEffect(() => {\n    if (!isPlaying) return;\n    \n    const interval = setInterval(() => {\n      setHeights(prev => prev.map(() => Math.random() * 80 + 20));\n    }, 150);\n\n    return () => clearInterval(interval);\n  }, [isPlaying]);\n\n  return (\n    <div className=\"flex items-end justify-center gap-[2px] h-16 w-full px-4\">\n      {heights.map((height, i) => {\n        const isPlayed = (i / bars) * 100 <= progress;\n        return (\n          <motion.div\n            key={i}\n            className={`w-1 rounded-full transition-colors ${\n              isPlayed ? 'bg-primary' : 'bg-muted-foreground/30'\n            }`}\n            animate={{ height: isPlaying ? height : 20 }}\n            transition={{ duration: 0.15, ease: \"easeOut\" }}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\n// Full Page Audio Player Component\nfunction FullPagePlayer({ \n  sermon, \n  isPlaying, \n  currentTime, \n  volume,\n  isMuted,\n  playbackSpeed,\n  repeatMode,\n  isShuffled,\n  isLiked,\n  isBookmarked,\n  onPlayPause,\n  onSeek,\n  onVolumeChange,\n  onMuteToggle,\n  onSpeedChange,\n  onRepeatChange,\n  onShuffleToggle,\n  onLikeToggle,\n  onBookmarkToggle,\n  onClose,\n  onNext,\n  onPrevious,\n  formatTime,\n  onShowToast,\n  comments,\n  onAddComment,\n}: {\n  sermon: typeof mockSermons[0];\n  isPlaying: boolean;\n  currentTime: number;\n  volume: number[];\n  isMuted: boolean;\n  playbackSpeed: string;\n  repeatMode: \"off\" | \"all\" | \"one\";\n  isShuffled: boolean;\n  isLiked: boolean;\n  isBookmarked: boolean;\n  onPlayPause: () => void;\n  onSeek: (time: number) => void;\n  onVolumeChange: (volume: number[]) => void;\n  onMuteToggle: () => void;\n  onSpeedChange: (speed: string) => void;\n  onRepeatChange: () => void;\n  onShuffleToggle: () => void;\n  onLikeToggle: () => void;\n  onBookmarkToggle: () => void;\n  onClose: () => void;\n  onNext: () => void;\n  onPrevious: () => void;\n  formatTime: (seconds: number) => string;\n  onShowToast: (title: string, description?: string) => void;\n  comments: typeof mockComments;\n  onAddComment: (content: string) => void;\n}) {\n  const [activeTab, setActiveTab] = useState<\"player\" | \"comments\" | \"notes\">(\"player\");\n  const [userNotes, setUserNotes] = useState(\"\");\n  const [showShareMenu, setShowShareMenu] = useState(false);\n  const [copiedLink, setCopiedLink] = useState(false);\n  const [newComment, setNewComment] = useState(\"\");\n  const progress = (currentTime / sermon.durationSeconds) * 100;\n\n  const handleCopyLink = async () => {\n    const shareUrl = `${window.location.origin}/audio?sermon=${sermon.id}`;\n    \n    try {\n      if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(shareUrl);\n        setCopiedLink(true);\n        setTimeout(() => setCopiedLink(false), 2000);\n        onShowToast(\"Link Copied\", \"Sermon link copied to clipboard\");\n      } else {\n        const textArea = document.createElement(\"textarea\");\n        textArea.value = shareUrl;\n        textArea.style.position = \"fixed\";\n        textArea.style.left = \"-999999px\";\n        document.body.appendChild(textArea);\n        textArea.focus();\n        textArea.select();\n        try {\n          document.execCommand(\"copy\");\n          setCopiedLink(true);\n          setTimeout(() => setCopiedLink(false), 2000);\n          onShowToast(\"Link Copied\", \"Sermon link copied to clipboard\");\n        } catch {\n          onShowToast(\"Copy Failed\", \"Unable to copy link. Please copy manually.\");\n        }\n        document.body.removeChild(textArea);\n      }\n    } catch (err) {\n      console.error(\"Failed to copy link:\", err);\n      onShowToast(\"Copy Failed\", \"Unable to copy link. Please try again.\");\n    }\n    setShowShareMenu(false);\n  };\n\n  const handleWebShare = async () => {\n    const shareUrl = `${window.location.origin}/audio?sermon=${sermon.id}`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: sermon.title,\n          text: `Listen to \"${sermon.title}\" by ${sermon.preacher}`,\n          url: shareUrl,\n        });\n        onShowToast(\"Shared\", \"Sermon shared successfully\");\n      } catch (err) {\n        if ((err as Error).name !== 'AbortError') {\n          console.error(\"Share failed:\", err);\n          onShowToast(\"Share Failed\", \"Unable to share. Please try copying the link instead.\");\n        }\n      }\n    } else {\n      await handleCopyLink();\n    }\n    setShowShareMenu(false);\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-background\">\n      {/* Header with back button */}\n      <div className=\"flex items-center gap-4 p-4 border-b\">\n        <Button variant=\"ghost\" size=\"icon\" onClick={onClose} data-testid=\"button-close-player\">\n          <ChevronDown className=\"h-5 w-5\" />\n        </Button>\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-sm text-muted-foreground truncate\">Now Playing</p>\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" data-testid=\"button-player-menu\">\n              <MoreVertical className=\"h-5 w-5\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem data-testid=\"menu-add-to-playlist\">\n              <Plus className=\"h-4 w-4 mr-2\" />Add to Playlist\n            </DropdownMenuItem>\n            <DropdownMenuItem data-testid=\"menu-download\">\n              <Download className=\"h-4 w-4 mr-2\" />Download\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem data-testid=\"menu-sleep-timer\">\n              <Timer className=\"h-4 w-4 mr-2\" />Sleep Timer\n            </DropdownMenuItem>\n            <DropdownMenuItem data-testid=\"menu-audio-quality\">\n              <Settings2 className=\"h-4 w-4 mr-2\" />Audio Quality\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n\n      {/* Main Content - Full page layout like Boomplay */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-3 sm:p-4 md:p-6\">\n          {/* Album Art and Info Section */}\n          <div className=\"flex flex-col lg:flex-row gap-4 sm:gap-6 mb-4 sm:mb-6\">\n            {/* Album Art */}\n            <div className=\"lg:w-80 flex-shrink-0\">\n              <div className=\"relative aspect-square w-full max-w-[180px] sm:max-w-[240px] md:max-w-[320px] mx-auto lg:mx-0\">\n                <motion.div\n                  className=\"w-full h-full rounded-xl overflow-hidden shadow-2xl\"\n                  animate={{ scale: isPlaying ? 1 : 0.98 }}\n                  transition={{ duration: 0.3 }}\n                >\n                  <img \n                    src={sermon.image} \n                    alt={sermon.title} \n                    className=\"w-full h-full object-cover\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\n                </motion.div>\n                \n                {isPlaying && (\n                  <motion.div\n                    className=\"absolute -inset-2 rounded-xl border-2 border-primary/30\"\n                    animate={{ scale: [1, 1.02, 1], opacity: [0.5, 0.8, 0.5] }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  />\n                )}\n              </div>\n            </div>\n\n            {/* Sermon Info */}\n            <div className=\"flex-1 min-w-0 text-center lg:text-left\">\n              <h1 className=\"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold mb-2 line-clamp-2\">{sermon.title}</h1>\n              \n              <div className=\"flex items-center justify-center lg:justify-start gap-2 mb-3 sm:mb-4\">\n                <Avatar className=\"h-7 w-7 sm:h-8 sm:w-8\">\n                  <AvatarFallback>{sermon.preacher.split(' ').map(n => n[0]).join('')}</AvatarFallback>\n                </Avatar>\n                <div className=\"text-left\">\n                  <p className=\"font-medium text-xs sm:text-sm\">{sermon.preacher}</p>\n                  <p className=\"text-xs text-muted-foreground\">{sermon.church}</p>\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex items-center justify-center lg:justify-start gap-1.5 sm:gap-2 flex-wrap mb-3 sm:mb-4\">\n                <Button size=\"sm\" className=\"sm:size-default\" onClick={onPlayPause} data-testid=\"button-play-main\">\n                  {isPlaying ? <Pause className=\"h-4 w-4 sm:mr-2\" /> : <Play className=\"h-4 w-4 sm:mr-2\" />}\n                  <span className=\"hidden sm:inline\">{isPlaying ? \"Pause\" : \"Play\"}</span>\n                </Button>\n                <Button \n                  size=\"sm\"\n                  variant={isLiked ? \"default\" : \"outline\"} \n                  onClick={onLikeToggle}\n                  data-testid=\"button-like\"\n                >\n                  <Heart className={`h-4 w-4 ${isLiked ? \"fill-current\" : \"\"}`} />\n                  <span className=\"ml-1 hidden sm:inline\">{sermon.plays.toLocaleString()}</span>\n                </Button>\n                <DropdownMenu open={showShareMenu} onOpenChange={setShowShareMenu}>\n                  <DropdownMenuTrigger asChild>\n                    <Button size=\"sm\" variant=\"outline\" data-testid=\"button-share\">\n                      <Share2 className=\"h-4 w-4\" />\n                      <span className=\"ml-1 hidden sm:inline\">Share</span>\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"start\">\n                    <DropdownMenuItem onClick={handleCopyLink} data-testid=\"menu-copy-link\">\n                      {copiedLink ? <Check className=\"h-4 w-4 mr-2\" /> : <Copy className=\"h-4 w-4 mr-2\" />}\n                      {copiedLink ? \"Copied!\" : \"Copy Link\"}\n                    </DropdownMenuItem>\n                    <DropdownMenuItem onClick={handleWebShare} data-testid=\"menu-share-via-app\">\n                      <Share className=\"h-4 w-4 mr-2\" />Share via App\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n                <Button size=\"sm\" variant=\"outline\" data-testid=\"button-comments-count\">\n                  <MessageSquare className=\"h-4 w-4\" />\n                  <span className=\"ml-1\">{mockComments.length}</span>\n                </Button>\n              </div>\n\n              {/* Metadata */}\n              <div className=\"flex flex-wrap justify-center lg:justify-start gap-1.5 sm:gap-2 mb-3 sm:mb-4\">\n                <Badge variant=\"outline\" className=\"text-xs\">{sermon.passage}</Badge>\n                {sermon.series && <Badge variant=\"secondary\" className=\"text-xs\">{sermon.series}</Badge>}\n                <Badge variant=\"secondary\" className=\"text-xs\">{sermon.category}</Badge>\n                <Badge variant=\"outline\" className=\"text-xs\">{sermon.topic}</Badge>\n              </div>\n\n              <div className=\"text-xs sm:text-sm text-muted-foreground space-y-0.5 sm:space-y-1\">\n                <p>Date: {sermon.date}</p>\n                <p>Duration: {sermon.duration}</p>\n                <div className=\"flex items-center justify-center lg:justify-start gap-1\">\n                  <Star className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-yellow-500 text-yellow-500\" />\n                  <span>{sermon.rating}</span>\n                  <span className=\"text-muted-foreground\">({sermon.reviews} reviews)</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Tabs for Comments/Notes */}\n          <div className=\"border-b mb-3 sm:mb-4\">\n            <div className=\"flex gap-2 sm:gap-4 overflow-x-auto scrollbar-none\">\n              <button\n                className={`pb-3 text-sm font-medium transition-colors ${\n                  activeTab === \"player\" \n                    ? \"text-primary border-b-2 border-primary\" \n                    : \"text-muted-foreground hover:text-foreground\"\n                }`}\n                onClick={() => setActiveTab(\"player\")}\n                data-testid=\"tab-player\"\n              >\n                <AudioLines className=\"h-4 w-4 inline mr-1.5\" />\n                Now Playing\n              </button>\n              <button\n                className={`pb-3 text-sm font-medium transition-colors ${\n                  activeTab === \"comments\" \n                    ? \"text-primary border-b-2 border-primary\" \n                    : \"text-muted-foreground hover:text-foreground\"\n                }`}\n                onClick={() => setActiveTab(\"comments\")}\n                data-testid=\"tab-comments\"\n              >\n                <MessageSquare className=\"h-4 w-4 inline mr-1.5\" />\n                Comments ({comments.length})\n              </button>\n              <button\n                className={`pb-3 text-sm font-medium transition-colors ${\n                  activeTab === \"notes\" \n                    ? \"text-primary border-b-2 border-primary\" \n                    : \"text-muted-foreground hover:text-foreground\"\n                }`}\n                onClick={() => setActiveTab(\"notes\")}\n                data-testid=\"tab-notes\"\n              >\n                <Quote className=\"h-4 w-4 inline mr-1.5\" />\n                Notes\n              </button>\n            </div>\n          </div>\n\n          {/* Tab Content */}\n          <AnimatePresence mode=\"wait\">\n            {activeTab === \"player\" && (\n              <motion.div\n                key=\"player\"\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n              >\n                {/* Player Controls Section */}\n                <div className=\"space-y-4 sm:space-y-6\">\n                  {/* Waveform Visualization */}\n                  <AudioWaveform isPlaying={isPlaying} progress={progress} />\n\n                  {/* Progress Bar */}\n                  <div className=\"space-y-1 sm:space-y-2\">\n                    <Slider\n                      value={[progress]}\n                      max={100}\n                      step={0.1}\n                      onValueChange={(value) => onSeek(Math.floor((value[0] / 100) * sermon.durationSeconds))}\n                      className=\"cursor-pointer\"\n                      data-testid=\"slider-progress\"\n                    />\n                    <div className=\"flex justify-between text-xs text-muted-foreground\">\n                      <span>{formatTime(currentTime)}</span>\n                      <span>{sermon.duration}</span>\n                    </div>\n                  </div>\n\n                  {/* Main Controls - Responsive layout */}\n                  <div className=\"flex items-center justify-center gap-2 sm:gap-3 md:gap-4\">\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\" \n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={onShuffleToggle}\n                      data-testid=\"button-shuffle\"\n                    >\n                      <Shuffle className={`h-4 w-4 sm:h-5 sm:w-5 ${isShuffled ? \"text-primary\" : \"\"}`} />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={() => onSeek(Math.max(0, currentTime - 15))}\n                      data-testid=\"button-rewind\"\n                    >\n                      <RotateCcw className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={onPrevious}\n                      data-testid=\"button-previous\"\n                    >\n                      <SkipBack className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                    </Button>\n                    <Button \n                      size=\"icon\" \n                      className=\"h-12 w-12 sm:h-14 sm:w-14 rounded-full shadow-lg\"\n                      onClick={onPlayPause}\n                      data-testid=\"button-play-controls\"\n                    >\n                      {isPlaying ? <Pause className=\"h-6 w-6 sm:h-7 sm:w-7\" /> : <Play className=\"h-6 w-6 sm:h-7 sm:w-7 ml-0.5\" />}\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={onNext}\n                      data-testid=\"button-next\"\n                    >\n                      <SkipForward className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={() => onSeek(Math.min(sermon.durationSeconds, currentTime + 15))}\n                      data-testid=\"button-forward\"\n                    >\n                      <RotateCw className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"h-8 w-8 sm:h-9 sm:w-9\"\n                      onClick={onRepeatChange}\n                      data-testid=\"button-repeat\"\n                    >\n                      {repeatMode === \"one\" ? (\n                        <Repeat1 className=\"h-4 w-4 sm:h-5 sm:w-5 text-primary\" />\n                      ) : (\n                        <Repeat className={`h-4 w-4 sm:h-5 sm:w-5 ${repeatMode === \"all\" ? \"text-primary\" : \"\"}`} />\n                      )}\n                    </Button>\n                  </div>\n\n                  {/* Volume and Speed Controls - Stack on mobile */}\n                  <div className=\"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 max-w-md mx-auto\">\n                    <div className=\"flex items-center gap-2 w-full sm:flex-1\">\n                      <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 sm:h-9 sm:w-9 flex-shrink-0\" onClick={onMuteToggle} data-testid=\"button-mute\">\n                        {isMuted ? <VolumeX className=\"h-4 w-4 sm:h-5 sm:w-5\" /> : volume[0] < 50 ? <Volume1 className=\"h-4 w-4 sm:h-5 sm:w-5\" /> : <Volume2 className=\"h-4 w-4 sm:h-5 sm:w-5\" />}\n                      </Button>\n                      <Slider \n                        value={isMuted ? [0] : volume} \n                        max={100} \n                        className=\"flex-1\" \n                        onValueChange={onVolumeChange}\n                        data-testid=\"slider-volume\"\n                      />\n                    </div>\n                    <Select value={playbackSpeed} onValueChange={onSpeedChange}>\n                      <SelectTrigger className=\"w-full sm:w-20\" data-testid=\"select-speed\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"0.5\">0.5x</SelectItem>\n                        <SelectItem value=\"0.75\">0.75x</SelectItem>\n                        <SelectItem value=\"1\">1x</SelectItem>\n                        <SelectItem value=\"1.25\">1.25x</SelectItem>\n                        <SelectItem value=\"1.5\">1.5x</SelectItem>\n                        <SelectItem value=\"2\">2x</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n\n          {activeTab === \"comments\" && (\n            <motion.div\n              key=\"comments\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              className=\"h-full flex flex-col\"\n            >\n              <div className=\"flex-1 flex flex-col min-h-0\">\n                <div className=\"flex items-center justify-between gap-2 mb-3 sm:mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <MessageSquare className=\"h-4 w-4 sm:h-5 sm:w-5 text-primary\" />\n                    <h3 className=\"text-base sm:text-lg font-semibold\">Comments</h3>\n                    <Badge variant=\"secondary\" className=\"text-xs\">{mockComments.length}</Badge>\n                  </div>\n                </div>\n                \n                <div className=\"flex flex-col sm:flex-row gap-2 mb-3 sm:mb-4\">\n                  <Input\n                    placeholder=\"Add a comment...\"\n                    value={newComment}\n                    onChange={(e) => setNewComment(e.target.value)}\n                    className=\"flex-1\"\n                    data-testid=\"input-comment\"\n                  />\n                  <Button \n                    size=\"sm\" \n                    className=\"w-full sm:w-auto\"\n                    disabled={!newComment.trim()}\n                    onClick={() => {\n                      onShowToast(\"Comment Posted\", \"Your comment has been added.\");\n                      setNewComment(\"\");\n                    }}\n                    data-testid=\"button-post-comment\"\n                  >\n                    Post\n                  </Button>\n                </div>\n\n                <ScrollArea className=\"flex-1\">\n                  <div className=\"space-y-3 sm:space-y-4 pr-2\">\n                    {mockComments.map((comment) => (\n                      <div key={comment.id} className=\"flex gap-2 sm:gap-3\" data-testid={`comment-${comment.id}`}>\n                        <Avatar className=\"h-8 w-8 sm:h-9 sm:w-9 flex-shrink-0\">\n                          <AvatarImage src={comment.userAvatar} />\n                          <AvatarFallback>{comment.userName.split(' ').map(n => n[0]).join('')}</AvatarFallback>\n                        </Avatar>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-1.5 sm:gap-2 flex-wrap\">\n                            <span className=\"font-medium text-xs sm:text-sm\">{comment.userName}</span>\n                            <span className=\"text-xs text-muted-foreground\">{comment.timestamp}</span>\n                          </div>\n                          <p className=\"text-xs sm:text-sm text-foreground mt-1\">{comment.content}</p>\n                          <div className=\"flex items-center gap-3 sm:gap-4 mt-2\">\n                            <button className=\"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors\">\n                              <Heart className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" />\n                              <span>{comment.likes}</span>\n                            </button>\n                            <button className=\"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors\">\n                              <MessageSquare className=\"h-3 w-3 sm:h-3.5 sm:w-3.5\" />\n                              <span>{comment.replies} replies</span>\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </div>\n            </motion.div>\n          )}\n\n          {activeTab === \"notes\" && (\n            <motion.div\n              key=\"notes\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              className=\"h-full flex flex-col\"\n            >\n              <div className=\"flex-1 flex flex-col\">\n                <div className=\"flex items-center gap-2 mb-3 sm:mb-4\">\n                  <Quote className=\"h-4 w-4 sm:h-5 sm:w-5 text-primary\" />\n                  <h3 className=\"text-base sm:text-lg font-semibold\">Your Notes</h3>\n                </div>\n                <Textarea\n                  placeholder=\"Write your notes, reflections, and takeaways from this sermon...\"\n                  value={userNotes}\n                  onChange={(e) => setUserNotes(e.target.value)}\n                  className=\"flex-1 min-h-[150px] sm:min-h-[200px] resize-none text-sm sm:text-base\"\n                  data-testid=\"textarea-notes\"\n                />\n                <div className=\"flex items-center justify-between gap-2 mt-3 sm:mt-4\">\n                  <p className=\"text-xs text-muted-foreground\">\n                    {userNotes.length} characters\n                  </p>\n                  <Button size=\"sm\" disabled={!userNotes.trim()} data-testid=\"button-save-notes\">\n                    <Check className=\"h-4 w-4 mr-1\" />Save Notes\n                  </Button>\n                </div>\n              </div>\n            </motion.div>\n          )}\n          </AnimatePresence>\n        </div>\n      </ScrollArea>\n\n      {/* Mini player bar at bottom */}\n      {activeTab !== \"player\" && (\n        <div className=\"border-t p-3 flex items-center gap-3\">\n          <div className=\"h-10 w-10 rounded-lg overflow-hidden flex-shrink-0\">\n            <img src={sermon.image} alt={sermon.title} className=\"h-full w-full object-cover\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium truncate\">{sermon.title}</p>\n            <Progress value={progress} className=\"h-1 mt-1\" />\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onSeek(Math.max(0, currentTime - 15))}>\n              <RotateCcw className=\"h-4 w-4\" />\n            </Button>\n            <Button size=\"icon\" className=\"rounded-full\" onClick={onPlayPause} data-testid=\"button-play-mini\">\n              {isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4 ml-0.5\" />}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => onSeek(Math.min(sermon.durationSeconds, currentTime + 15))}>\n              <RotateCw className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function AudioPage() {\n  const { toast } = useToast();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(892);\n  const [volume, setVolume] = useState([75]);\n  const [isMuted, setIsMuted] = useState(false);\n  const [playbackSpeed, setPlaybackSpeed] = useState(\"1\");\n  const [repeatMode, setRepeatMode] = useState<\"off\" | \"all\" | \"one\">(\"off\");\n  const [isShuffled, setIsShuffled] = useState(false);\n  const [activeCategory, setActiveCategory] = useState(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedSermon, setSelectedSermon] = useState(mockSermons[0]);\n  const [sleepTimer, setSleepTimer] = useState<number | null>(null);\n  const [audioQuality, setAudioQuality] = useState(\"high\");\n  const [activeTab, setActiveTab] = useState(\"library\");\n  const [showQueueSheet, setShowQueueSheet] = useState(false);\n  const [showPlayerSheet, setShowPlayerSheet] = useState(false);\n  const [showFilterSheet, setShowFilterSheet] = useState(false);\n  const [showFullPlayer, setShowFullPlayer] = useState(false);\n  const [comments, setComments] = useState(mockComments);\n  \n  const showToast = (title: string, description?: string) => {\n    toast({ title, description });\n  };\n  \n  const addComment = (content: string) => {\n    const newComment = {\n      id: Date.now(),\n      userId: 0,\n      userName: \"You\",\n      userAvatar: \"\",\n      content,\n      timestamp: \"Just now\",\n      likes: 0,\n      replies: 0,\n    };\n    setComments(prev => [newComment, ...prev]);\n  };\n  \n  // Sermon reactions state (persisted across player open/close)\n  const [sermonReactions, setSermonReactions] = useState<Record<number, { liked: boolean; bookmarked: boolean }>>(() => {\n    const initial: Record<number, { liked: boolean; bookmarked: boolean }> = {};\n    mockSermons.forEach(s => {\n      initial[s.id] = { liked: s.liked, bookmarked: s.bookmarked };\n    });\n    return initial;\n  });\n\n  const isCurrentSermonLiked = sermonReactions[selectedSermon.id]?.liked || false;\n  const isCurrentSermonBookmarked = sermonReactions[selectedSermon.id]?.bookmarked || false;\n\n  const toggleLike = () => {\n    setSermonReactions(prev => ({\n      ...prev,\n      [selectedSermon.id]: {\n        ...prev[selectedSermon.id],\n        liked: !prev[selectedSermon.id]?.liked\n      }\n    }));\n  };\n\n  const toggleBookmark = () => {\n    setSermonReactions(prev => ({\n      ...prev,\n      [selectedSermon.id]: {\n        ...prev[selectedSermon.id],\n        bookmarked: !prev[selectedSermon.id]?.bookmarked\n      }\n    }));\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const progress = (currentTime / selectedSermon.durationSeconds) * 100;\n\n  const filteredSermons = mockSermons.filter(sermon => {\n    const matchesCategory = activeCategory === \"all\" || sermon.category === activeCategory;\n    const matchesSearch = searchQuery === \"\" || \n      sermon.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      sermon.preacher.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      sermon.topic.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  const handleSermonClick = (sermon: typeof mockSermons[0]) => {\n    setSelectedSermon(sermon);\n    setCurrentTime(0);\n    setShowFullPlayer(true);\n    setIsPlaying(true);\n  };\n\n  const handleNextSermon = () => {\n    const currentIndex = mockSermons.findIndex(s => s.id === selectedSermon.id);\n    const nextIndex = (currentIndex + 1) % mockSermons.length;\n    setSelectedSermon(mockSermons[nextIndex]);\n    setCurrentTime(0);\n  };\n\n  const handlePreviousSermon = () => {\n    const currentIndex = mockSermons.findIndex(s => s.id === selectedSermon.id);\n    const prevIndex = currentIndex === 0 ? mockSermons.length - 1 : currentIndex - 1;\n    setSelectedSermon(mockSermons[prevIndex]);\n    setCurrentTime(0);\n  };\n\n  // Simulate playback progress\n  useEffect(() => {\n    if (!isPlaying) return;\n    \n    const interval = setInterval(() => {\n      setCurrentTime(prev => {\n        if (prev >= selectedSermon.durationSeconds) {\n          if (repeatMode === \"one\") {\n            return 0;\n          } else if (repeatMode === \"all\") {\n            handleNextSermon();\n            return 0;\n          } else {\n            setIsPlaying(false);\n            return prev;\n          }\n        }\n        return prev + 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [isPlaying, selectedSermon.durationSeconds, repeatMode]);\n\n  const QueuePanel = () => (\n    <div className=\"space-y-3\">\n      <h4 className=\"font-semibold text-sm text-muted-foreground uppercase tracking-wide\">Up Next</h4>\n      {mockQueue.map((sermon, i) => (\n        <div \n          key={sermon.id} \n          className=\"flex items-center gap-3 p-2 rounded-lg hover-elevate cursor-pointer group\"\n          onClick={() => handleSermonClick(sermon)}\n          data-testid={`queue-item-${sermon.id}`}\n        >\n          <span className=\"text-sm text-muted-foreground w-5 text-center\">{i + 1}</span>\n          <div className=\"h-10 w-10 rounded overflow-hidden flex-shrink-0\">\n            <img src={sermon.image} alt={sermon.title} className=\"h-full w-full object-cover\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium truncate\">{sermon.title}</p>\n            <p className=\"text-xs text-muted-foreground truncate\">{sermon.preacher}</p>\n          </div>\n          <Button \n            variant=\"ghost\" \n            size=\"icon\" \n            className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      ))}\n    </div>\n  );\n\n  const SermonCard = ({ sermon }: { sermon: typeof mockSermons[0] }) => {\n    const isBookmarked = sermonReactions[sermon.id]?.bookmarked || false;\n    \n    const handleBookmarkClick = (e: React.MouseEvent) => {\n      e.stopPropagation();\n      setSermonReactions(prev => ({\n        ...prev,\n        [sermon.id]: {\n          ...prev[sermon.id],\n          bookmarked: !prev[sermon.id]?.bookmarked\n        }\n      }));\n    };\n\n    return (\n      <Card \n        className=\"cursor-pointer hover-elevate transition-all\"\n        onClick={() => handleSermonClick(sermon)}\n        data-testid={`card-sermon-${sermon.id}`}\n      >\n        <CardContent className=\"p-3 md:p-4\">\n          <div className=\"flex gap-3 md:gap-4\">\n            <div className=\"relative w-20 h-20 md:w-28 md:h-28 lg:w-32 lg:h-32 rounded-lg overflow-hidden flex-shrink-0 group\">\n              <img src={sermon.image} alt={sermon.title} className=\"w-full h-full object-cover transition-transform group-hover:scale-105\" />\n              <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                <div className=\"h-10 w-10 rounded-full bg-primary flex items-center justify-center\">\n                  <Play className=\"h-5 w-5 text-primary-foreground ml-0.5\" />\n                </div>\n              </div>\n              <div className=\"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded\">\n                {sermon.duration}\n              </div>\n            </div>\n            <div className=\"flex-1 min-w-0 flex flex-col\">\n              <h3 className=\"font-semibold text-sm md:text-base line-clamp-2 mb-1\">{sermon.title}</h3>\n              <p className=\"text-xs md:text-sm text-muted-foreground truncate\">{sermon.preacher}</p>\n              <div className=\"flex flex-wrap gap-1.5 mt-2\">\n                <Badge variant=\"outline\" className=\"text-xs\">{sermon.passage}</Badge>\n                <Badge variant=\"secondary\" className=\"text-xs\">{sermon.topic}</Badge>\n              </div>\n              <div className=\"mt-auto pt-2 flex items-center justify-between gap-2\">\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                  <span>{sermon.date}</span>\n                  <span className=\"hidden sm:inline\">|</span>\n                  <span className=\"hidden sm:inline\">{sermon.plays.toLocaleString()} plays</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={handleBookmarkClick} data-testid={`button-bookmark-${sermon.id}`}>\n                    {isBookmarked ? <BookmarkCheck className=\"h-4 w-4 text-primary\" /> : <Bookmark className=\"h-4 w-4\" />}\n                  </Button>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 hidden sm:flex\" onClick={(e) => e.stopPropagation()} data-testid={`button-download-${sermon.id}`}>\n                    <Download className=\"h-4 w-4\" />\n                  </Button>\n                  <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                      <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => e.stopPropagation()} data-testid={`button-sermon-menu-${sermon.id}`}>\n                        <MoreVertical className=\"h-4 w-4\" />\n                      </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\">\n                      <DropdownMenuItem data-testid={`menu-add-to-queue-${sermon.id}`}>Add to Queue</DropdownMenuItem>\n                      <DropdownMenuItem data-testid={`menu-add-to-playlist-${sermon.id}`}>Add to Playlist</DropdownMenuItem>\n                      <DropdownMenuItem data-testid={`menu-share-${sermon.id}`}>Share</DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                      <DropdownMenuItem data-testid={`menu-download-${sermon.id}`}>Download</DropdownMenuItem>\n                    </DropdownMenuContent>\n                  </DropdownMenu>\n                </div>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  if (showFullPlayer) {\n    return (\n      <div className=\"fixed inset-0 z-50 bg-background flex flex-col\">\n        <FullPagePlayer\n          sermon={selectedSermon}\n          isPlaying={isPlaying}\n          currentTime={currentTime}\n          volume={volume}\n          isMuted={isMuted}\n          playbackSpeed={playbackSpeed}\n          repeatMode={repeatMode}\n          isShuffled={isShuffled}\n          isLiked={isCurrentSermonLiked}\n          isBookmarked={isCurrentSermonBookmarked}\n          onPlayPause={() => setIsPlaying(!isPlaying)}\n          onSeek={setCurrentTime}\n          onVolumeChange={setVolume}\n          onMuteToggle={() => setIsMuted(!isMuted)}\n          onSpeedChange={setPlaybackSpeed}\n          onRepeatChange={() => setRepeatMode(repeatMode === \"off\" ? \"all\" : repeatMode === \"all\" ? \"one\" : \"off\")}\n          onShuffleToggle={() => setIsShuffled(!isShuffled)}\n          onLikeToggle={toggleLike}\n          onBookmarkToggle={toggleBookmark}\n          onClose={() => setShowFullPlayer(false)}\n          onNext={handleNextSermon}\n          onPrevious={handlePreviousSermon}\n          formatTime={formatTime}\n          onShowToast={showToast}\n          comments={comments}\n          onAddComment={addComment}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"flex flex-col h-[calc(100vh-10rem)] md:h-[calc(100vh-8rem)]\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col min-h-0\">\n          {/* Header: Tabs + Search + Actions */}\n          <div className=\"flex flex-col gap-3 mb-4 flex-shrink-0\">\n            {/* Tabs Row - Horizontally scrollable */}\n            <div className=\"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0 scrollbar-none\">\n              <TabsList className=\"inline-flex w-max gap-1\">\n                <TabsTrigger value=\"library\" data-testid=\"tab-library\" className=\"px-3 py-2\">\n                  <Radio className=\"h-4 w-4 mr-1.5\" />\n                  <span className=\"hidden sm:inline\">Library</span>\n                  <span className=\"sm:hidden\">Lib</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"series\" data-testid=\"tab-series\" className=\"px-3 py-2\">\n                  <Layers className=\"h-4 w-4 mr-1.5\" />\n                  Series\n                </TabsTrigger>\n                <TabsTrigger value=\"preachers\" data-testid=\"tab-preachers\" className=\"px-3 py-2\">\n                  <Mic className=\"h-4 w-4 mr-1.5\" />\n                  <span className=\"hidden md:inline\">Preachers</span>\n                  <span className=\"md:hidden\">Pastors</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"churches\" data-testid=\"tab-churches\" className=\"px-3 py-2\">\n                  <Church className=\"h-4 w-4 mr-1.5\" />\n                  <span className=\"hidden md:inline\">Churches</span>\n                  <span className=\"md:hidden\">Church</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"playlists\" data-testid=\"tab-playlists\" className=\"px-3 py-2\">\n                  <ListMusic className=\"h-4 w-4 mr-1.5\" />\n                  <span className=\"hidden md:inline\">Playlists</span>\n                  <span className=\"md:hidden\">Lists</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"history\" data-testid=\"tab-history\" className=\"px-3 py-2\">\n                  <History className=\"h-4 w-4 mr-1.5\" />\n                  <span className=\"hidden md:inline\">History</span>\n                  <span className=\"md:hidden\">Recent</span>\n                </TabsTrigger>\n              </TabsList>\n            </div>\n\n            {/* Search and Actions Row */}\n            <div className=\"flex items-center gap-2\">\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search sermons...\"\n                  className=\"pl-9 w-full\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  data-testid=\"input-search\"\n                />\n              </div>\n              \n              {/* Queue Button (Mobile/Tablet) */}\n              <Sheet open={showQueueSheet} onOpenChange={setShowQueueSheet}>\n                <SheetTrigger asChild>\n                  <Button variant=\"outline\" size=\"icon\" className=\"lg:hidden flex-shrink-0\" data-testid=\"button-queue-mobile\">\n                    <ListMusic className=\"h-4 w-4\" />\n                  </Button>\n                </SheetTrigger>\n                <SheetContent side=\"right\" className=\"w-[85vw] max-w-[350px] sm:w-[350px]\">\n                  <SheetHeader className=\"mb-4\">\n                    <SheetTitle className=\"flex items-center gap-2\">\n                      <ListMusic className=\"h-5 w-5\" />Queue\n                    </SheetTitle>\n                  </SheetHeader>\n                  <QueuePanel />\n                </SheetContent>\n              </Sheet>\n\n              {/* Filter Button */}\n              <Sheet open={showFilterSheet} onOpenChange={setShowFilterSheet}>\n                <SheetTrigger asChild>\n                  <Button variant=\"outline\" size=\"icon\" className=\"flex-shrink-0\" data-testid=\"button-filter\">\n                    <Filter className=\"h-4 w-4\" />\n                  </Button>\n                </SheetTrigger>\n                <SheetContent side=\"right\" className=\"w-[85vw] max-w-[350px] sm:w-[350px]\">\n                  <SheetHeader className=\"mb-4\">\n                    <SheetTitle>Filter Sermons</SheetTitle>\n                  </SheetHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"text-sm font-medium mb-3\">Categories</h4>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {sermonCategories.map(cat => (\n                          <Badge\n                            key={cat.id}\n                            variant={activeCategory === cat.id ? \"default\" : \"outline\"}\n                            className=\"cursor-pointer\"\n                            onClick={() => { setActiveCategory(cat.id); setShowFilterSheet(false); }}\n                          >\n                            {cat.name} ({cat.count})\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                    <Separator />\n                    <div>\n                      <h4 className=\"text-sm font-medium mb-3\">Speaker</h4>\n                      <Select>\n                        <SelectTrigger><SelectValue placeholder=\"Any speaker\" /></SelectTrigger>\n                        <SelectContent>\n                          {preachers.map(p => <SelectItem key={p.id} value={p.id.toString()}>{p.name}</SelectItem>)}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div>\n                      <h4 className=\"text-sm font-medium mb-3\">Church</h4>\n                      <Select>\n                        <SelectTrigger><SelectValue placeholder=\"Any church\" /></SelectTrigger>\n                        <SelectContent>\n                          {churches.map(c => <SelectItem key={c.id} value={c.id.toString()}>{c.name}</SelectItem>)}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <Button className=\"w-full\" onClick={() => setShowFilterSheet(false)}>Apply Filters</Button>\n                  </div>\n                </SheetContent>\n              </Sheet>\n            </div>\n          </div>\n\n          {/* Main Content with optional Queue sidebar */}\n          <div className=\"flex-1 min-h-0 flex gap-6\">\n            {/* Content Area */}\n            <div className=\"flex-1 flex flex-col min-h-0 min-w-0\">\n              {/* Library Tab */}\n              <TabsContent value=\"library\" className=\"flex-1 m-0 overflow-hidden flex flex-col\">\n                {/* Category Pills - Horizontally scrollable */}\n                <div className=\"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0 mb-4 flex-shrink-0 scrollbar-none\">\n                  <div className=\"flex gap-2 w-max\">\n                    {sermonCategories.map(cat => (\n                      <Button\n                        key={cat.id}\n                        variant={activeCategory === cat.id ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => setActiveCategory(cat.id)}\n                        className=\"flex-shrink-0\"\n                        data-testid={`button-category-${cat.id}`}\n                      >\n                        {cat.name}\n                        <Badge variant=\"secondary\" className=\"ml-1.5 text-xs\">{cat.count}</Badge>\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n\n                <ScrollArea className=\"flex-1\">\n                  <div className=\"space-y-3 pr-4\">\n                    {filteredSermons.length === 0 ? (\n                      <div className=\"text-center py-12 text-muted-foreground\">\n                        <Search className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                        <p className=\"text-lg font-medium\">No sermons found</p>\n                        <p className=\"text-sm\">Try adjusting your search or filters</p>\n                      </div>\n                    ) : (\n                      filteredSermons.map(sermon => <SermonCard key={sermon.id} sermon={sermon} />)\n                    )}\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n\n              {/* Series Tab */}\n              <TabsContent value=\"series\" className=\"flex-1 m-0 overflow-hidden\">\n                <ScrollArea className=\"h-full\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pr-4\">\n                    {sermonSeries.map(series => (\n                      <Card key={series.id} className=\"cursor-pointer overflow-hidden hover-elevate\" data-testid={`card-series-${series.id}`}>\n                        <div className=\"relative h-32 md:h-40\">\n                          <img src={series.image} alt={series.name} className=\"w-full h-full object-cover\" />\n                          <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent\" />\n                          <div className=\"absolute bottom-3 left-3 right-3 text-white\">\n                            <h3 className=\"font-semibold text-sm md:text-base line-clamp-1\">{series.name}</h3>\n                            <p className=\"text-xs text-white/80\">{series.sermonCount} sermons</p>\n                          </div>\n                        </div>\n                        <CardContent className=\"p-3\">\n                          <div className=\"space-y-2\">\n                            <div className=\"flex justify-between text-xs text-muted-foreground\">\n                              <span>Progress</span>\n                              <span>{series.progress}/{series.sermonCount}</span>\n                            </div>\n                            <Progress value={(series.progress / series.sermonCount) * 100} className=\"h-2\" />\n                            {series.progress > 0 && series.progress < series.sermonCount && (\n                              <Button size=\"sm\" className=\"w-full mt-2\">Continue</Button>\n                            )}\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n\n              {/* Preachers Tab */}\n              <TabsContent value=\"preachers\" className=\"flex-1 m-0 overflow-hidden\">\n                <ScrollArea className=\"h-full\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 pr-4\">\n                    {preachers.map(preacher => (\n                      <Card key={preacher.id} className=\"cursor-pointer hover-elevate\" data-testid={`card-preacher-${preacher.id}`}>\n                        <CardContent className=\"p-3 sm:p-4\">\n                          <div className=\"flex items-center gap-3 sm:gap-4\">\n                            <Avatar className=\"h-12 w-12 sm:h-14 sm:w-14 md:h-16 md:w-16\">\n                              <AvatarImage src={preacher.avatar} />\n                              <AvatarFallback>{preacher.name.split(' ').map(n => n[0]).join('')}</AvatarFallback>\n                            </Avatar>\n                            <div className=\"flex-1 min-w-0\">\n                              <h3 className=\"font-semibold text-xs sm:text-sm md:text-base line-clamp-1\">{preacher.name}</h3>\n                              <p className=\"text-xs text-muted-foreground line-clamp-1\">{preacher.church}</p>\n                              <p className=\"text-xs text-muted-foreground\">{preacher.sermons} sermons</p>\n                            </div>\n                            <Button variant={preacher.subscribed ? \"secondary\" : \"default\"} size=\"icon\" className=\"h-8 w-8 sm:h-9 sm:w-9 flex-shrink-0\">\n                              {preacher.subscribed ? <BellOff className=\"h-4 w-4\" /> : <Bell className=\"h-4 w-4\" />}\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n\n              {/* Churches Tab */}\n              <TabsContent value=\"churches\" className=\"flex-1 m-0 overflow-hidden\">\n                <ScrollArea className=\"h-full\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 pr-4\">\n                    {churches.map(church => (\n                      <Card key={church.id} className=\"cursor-pointer hover-elevate\" data-testid={`card-church-${church.id}`}>\n                        <CardContent className=\"p-3 sm:p-4\">\n                          <div className=\"flex items-center gap-3 sm:gap-4\">\n                            <Avatar className=\"h-12 w-12 sm:h-14 sm:w-14 md:h-16 md:w-16\">\n                              <AvatarFallback className=\"bg-primary text-primary-foreground\">{church.avatar}</AvatarFallback>\n                            </Avatar>\n                            <div className=\"flex-1 min-w-0\">\n                              <h3 className=\"font-semibold text-xs sm:text-sm md:text-base line-clamp-1\">{church.name}</h3>\n                              <p className=\"text-xs text-muted-foreground\">{church.location}</p>\n                              <p className=\"text-xs text-muted-foreground\">{church.sermons} sermons</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n\n              {/* Playlists Tab */}\n              <TabsContent value=\"playlists\" className=\"flex-1 m-0 overflow-hidden\">\n                <div className=\"flex items-center justify-between mb-4 gap-2\">\n                  <h2 className=\"text-base md:text-lg font-semibold\">Your Playlists</h2>\n                  <Button size=\"sm\" data-testid=\"button-create-playlist\">\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    <span className=\"hidden sm:inline\">Create</span>\n                  </Button>\n                </div>\n                <ScrollArea className=\"h-[calc(100%-3rem)]\">\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 pr-4\">\n                    {mockPlaylists.map(playlist => (\n                      <Card key={playlist.id} className=\"cursor-pointer group hover-elevate\" data-testid={`card-playlist-${playlist.id}`}>\n                        <CardContent className=\"p-3\">\n                          <div className=\"relative aspect-square rounded-lg overflow-hidden mb-2\">\n                            <img src={playlist.image} alt={playlist.name} className=\"w-full h-full object-cover\" />\n                            <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <Button size=\"icon\" className=\"h-10 w-10 rounded-full\">\n                                <Play className=\"h-5 w-5\" />\n                              </Button>\n                            </div>\n                          </div>\n                          <h3 className=\"font-medium text-sm truncate\">{playlist.name}</h3>\n                          <p className=\"text-xs text-muted-foreground\">{playlist.sermonCount} sermons</p>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n\n              {/* History Tab */}\n              <TabsContent value=\"history\" className=\"flex-1 m-0 overflow-hidden\">\n                <ScrollArea className=\"h-full\">\n                  <div className=\"space-y-3 sm:space-y-4 pr-4\">\n                    <div>\n                      <h3 className=\"font-semibold text-sm sm:text-base mb-2 sm:mb-3 flex items-center gap-2\">\n                        <History className=\"h-4 w-4\" />Continue Where You Left Off\n                      </h3>\n                      <div className=\"space-y-2\">\n                        {recentlyPlayed.filter(s => s.progress < 100).map(sermon => (\n                          <Card \n                            key={sermon.id} \n                            className=\"cursor-pointer hover-elevate\" \n                            onClick={() => handleSermonClick(sermon)}\n                            data-testid={`card-continue-${sermon.id}`}\n                          >\n                            <CardContent className=\"p-2 sm:p-3\">\n                              <div className=\"flex items-center gap-2 sm:gap-3\">\n                                <div className=\"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-lg overflow-hidden flex-shrink-0 relative group\">\n                                  <img src={sermon.image} alt={sermon.title} className=\"w-full h-full object-cover\" />\n                                  <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                                    <Play className=\"h-5 w-5 text-white\" />\n                                  </div>\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                  <h4 className=\"font-medium text-xs sm:text-sm truncate\">{sermon.title}</h4>\n                                  <p className=\"text-xs text-muted-foreground truncate\">{sermon.preacher}</p>\n                                  <div className=\"flex items-center gap-2 mt-1\">\n                                    <Progress value={sermon.progress} className=\"flex-1 h-1.5\" />\n                                    <span className=\"text-xs text-muted-foreground\">{sermon.progress}%</span>\n                                  </div>\n                                </div>\n                                <Button size=\"sm\" className=\"hidden sm:flex\" data-testid={`button-resume-${sermon.id}`}><Play className=\"h-4 w-4 mr-1\" />Resume</Button>\n                                <Button size=\"icon\" className=\"sm:hidden h-8 w-8\" data-testid={`button-resume-mobile-${sermon.id}`}><Play className=\"h-4 w-4\" /></Button>\n                              </div>\n                            </CardContent>\n                          </Card>\n                        ))}\n                      </div>\n                    </div>\n                    <Separator />\n                    <div>\n                      <h3 className=\"font-semibold text-sm sm:text-base mb-2 sm:mb-3\">Recently Played</h3>\n                      <div className=\"space-y-2\">\n                        {recentlyPlayed.map(sermon => (\n                          <Card \n                            key={sermon.id} \n                            className=\"cursor-pointer hover-elevate\" \n                            onClick={() => handleSermonClick(sermon)}\n                            data-testid={`card-recently-played-${sermon.id}`}\n                          >\n                            <CardContent className=\"p-2 sm:p-3\">\n                              <div className=\"flex items-center gap-2 sm:gap-3\">\n                                <div className=\"w-10 h-10 sm:w-12 sm:h-12 rounded overflow-hidden flex-shrink-0\">\n                                  <img src={sermon.image} alt={sermon.title} className=\"w-full h-full object-cover\" />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                  <h4 className=\"font-medium text-xs sm:text-sm truncate\">{sermon.title}</h4>\n                                  <p className=\"text-xs text-muted-foreground truncate\">{sermon.preacher} | {sermon.lastPlayed}</p>\n                                </div>\n                                {sermon.progress === 100 && (\n                                  <Badge variant=\"secondary\" className=\"text-xs hidden sm:flex\" data-testid={`badge-done-${sermon.id}`}>\n                                    <CheckCircle2 className=\"h-3 w-3 mr-1\" />Done\n                                  </Badge>\n                                )}\n                                {sermon.progress === 100 && (\n                                  <CheckCircle2 className=\"h-4 w-4 text-primary sm:hidden flex-shrink-0\" data-testid={`icon-done-${sermon.id}`} />\n                                )}\n                              </div>\n                            </CardContent>\n                          </Card>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </ScrollArea>\n              </TabsContent>\n            </div>\n\n            {/* Queue Sidebar (Desktop Only) */}\n            <div className=\"w-72 hidden lg:flex flex-col border-l pl-6 flex-shrink-0\">\n              <h3 className=\"font-bold text-lg mb-4 flex items-center gap-2\">\n                <ListMusic className=\"h-5 w-5\" />Queue\n              </h3>\n              <ScrollArea className=\"flex-1\">\n                <QueuePanel />\n              </ScrollArea>\n            </div>\n          </div>\n        </Tabs>\n\n        {/* Audio Player Bar */}\n        <div className=\"mt-4 border-t pt-4 flex-shrink-0\">\n          {/* Desktop Player */}\n          <div className=\"hidden md:flex items-center gap-4\">\n            <div \n              className=\"flex items-center gap-3 flex-1 min-w-0 cursor-pointer hover-elevate rounded-lg p-1 -m-1\"\n              onClick={() => setShowFullPlayer(true)}\n              data-testid=\"button-expand-player\"\n            >\n              <div className=\"h-14 w-14 rounded-lg overflow-hidden flex-shrink-0 relative\">\n                <img src={selectedSermon.image} alt={selectedSermon.title} className=\"h-full w-full object-cover\" />\n                {isPlaying && (\n                  <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center\">\n                    <motion.div\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{ duration: 1, repeat: Infinity }}\n                    >\n                      <AudioLines className=\"h-5 w-5 text-white\" />\n                    </motion.div>\n                  </div>\n                )}\n              </div>\n              <div className=\"min-w-0 flex-1\">\n                <h4 className=\"font-semibold text-sm truncate\">{selectedSermon.title}</h4>\n                <p className=\"text-xs text-muted-foreground truncate\">{selectedSermon.preacher}</p>\n              </div>\n              <div className=\"flex items-center gap-1 flex-shrink-0\">\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => { e.stopPropagation(); toggleBookmark(); }}>\n                  {isCurrentSermonBookmarked ? <BookmarkCheck className=\"h-4 w-4 text-primary\" /> : <Bookmark className=\"h-4 w-4\" />}\n                </Button>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => { e.stopPropagation(); toggleLike(); }}>\n                  <Heart className={`h-4 w-4 ${isCurrentSermonLiked ? \"fill-primary text-primary\" : \"\"}`} />\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col items-center gap-1 flex-1 max-w-lg\">\n              <div className=\"flex items-center gap-2\">\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => setIsShuffled(!isShuffled)}>\n                  <Shuffle className={`h-4 w-4 ${isShuffled ? 'text-primary' : ''}`} />\n                </Button>\n                <Button variant=\"ghost\" size=\"icon\" onClick={() => setCurrentTime(Math.max(0, currentTime - 15))}>\n                  <SkipBack className=\"h-5 w-5\" />\n                </Button>\n                <Button size=\"icon\" className=\"h-10 w-10 rounded-full\" onClick={() => setIsPlaying(!isPlaying)} data-testid=\"button-play-pause\">\n                  {isPlaying ? <Pause className=\"h-5 w-5\" /> : <Play className=\"h-5 w-5 ml-0.5\" />}\n                </Button>\n                <Button variant=\"ghost\" size=\"icon\" onClick={() => setCurrentTime(Math.min(selectedSermon.durationSeconds, currentTime + 15))}>\n                  <SkipForward className=\"h-5 w-5\" />\n                </Button>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => setRepeatMode(repeatMode === \"off\" ? \"all\" : repeatMode === \"all\" ? \"one\" : \"off\")}>\n                  {repeatMode === \"one\" ? <Repeat1 className=\"h-4 w-4 text-primary\" /> : <Repeat className={`h-4 w-4 ${repeatMode === \"all\" ? 'text-primary' : ''}`} />}\n                </Button>\n              </div>\n              <div className=\"flex items-center gap-2 w-full\">\n                <span className=\"text-xs text-muted-foreground w-10 text-right\">{formatTime(currentTime)}</span>\n                <Slider value={[progress]} max={100} step={0.1} className=\"flex-1\" onValueChange={(value) => setCurrentTime(Math.floor((value[0] / 100) * selectedSermon.durationSeconds))} />\n                <span className=\"text-xs text-muted-foreground w-10\">{selectedSermon.duration}</span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-2 flex-1 justify-end\">\n              <Select value={playbackSpeed} onValueChange={setPlaybackSpeed}>\n                <SelectTrigger className=\"w-16\"><SelectValue /></SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"0.5\">0.5x</SelectItem>\n                  <SelectItem value=\"1\">1x</SelectItem>\n                  <SelectItem value=\"1.5\">1.5x</SelectItem>\n                  <SelectItem value=\"2\">2x</SelectItem>\n                </SelectContent>\n              </Select>\n              <div className=\"hidden xl:flex items-center gap-1\">\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => setIsMuted(!isMuted)}>\n                  {isMuted ? <VolumeX className=\"h-4 w-4\" /> : <Volume2 className=\"h-4 w-4\" />}\n                </Button>\n                <Slider value={isMuted ? [0] : volume} max={100} className=\"w-20\" onValueChange={setVolume} />\n              </div>\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"h-8 w-8\"\n                onClick={() => setShowFullPlayer(true)}\n                data-testid=\"button-maximize-player\"\n              >\n                <Maximize2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n\n          {/* Mobile Player */}\n          <div className=\"md:hidden\">\n            <div \n              className=\"flex items-center gap-3 p-2 -m-2 cursor-pointer rounded-lg\"\n              onClick={() => setShowFullPlayer(true)}\n            >\n              <div className=\"h-12 w-12 rounded-lg overflow-hidden flex-shrink-0 relative\">\n                <img src={selectedSermon.image} alt={selectedSermon.title} className=\"h-full w-full object-cover\" />\n                {isPlaying && (\n                  <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center\">\n                    <motion.div\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{ duration: 1, repeat: Infinity }}\n                    >\n                      <AudioLines className=\"h-4 w-4 text-white\" />\n                    </motion.div>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-semibold text-sm truncate\">{selectedSermon.title}</h4>\n                <p className=\"text-xs text-muted-foreground truncate\">{selectedSermon.preacher}</p>\n                <Progress value={progress} className=\"h-1 mt-1\" />\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10\" onClick={(e) => { e.stopPropagation(); setIsPlaying(!isPlaying); }} data-testid=\"button-play-mobile\">\n                  {isPlaying ? <Pause className=\"h-5 w-5\" /> : <Play className=\"h-5 w-5\" />}\n                </Button>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10\" onClick={(e) => { e.stopPropagation(); setCurrentTime(Math.min(selectedSermon.durationSeconds, currentTime + 15)); }} data-testid=\"button-skip-mobile\">\n                  <SkipForward className=\"h-5 w-5\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </Layout>\n  );\n}","path":null,"size_bytes":80392,"size_tokens":null},"client/src/components/ui/kbd.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 select-none items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","path":null,"size_bytes":862,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1148,"size_tokens":null},"client/src/pages/community.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  MessageCircle, \n  Share2, \n  Heart, \n  MoreHorizontal, \n  Image as ImageIcon, \n  Smile,\n  Send,\n  Users,\n  Search\n} from \"lucide-react\";\n\nexport default function CommunityPage() {\n  return (\n    <Layout>\n      <div className=\"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        {/* Left Sidebar - Groups */}\n        <div className=\"lg:col-span-1 space-y-6\">\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center justify-between mb-4\">\n                 <h3 className=\"font-bold text-lg\">My Groups</h3>\n                 <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\"><Search className=\"h-4 w-4\" /></Button>\n              </div>\n              <div className=\"space-y-3\">\n                {[\n                  { name: \"Young Adults\", members: 124, image: \"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=200&auto=format&fit=crop\" },\n                  { name: \"Bible Study Wed\", members: 12, image: \"https://images.unsplash.com/photo-1511632765486-a01980e01a18?q=80&w=200&auto=format&fit=crop\" },\n                  { name: \"Prayer Warriors\", members: 45, image: \"https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?q=80&w=200&auto=format&fit=crop\" },\n                ].map((group, i) => (\n                  <div key={i} className=\"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\">\n                    <Avatar className=\"h-10 w-10 rounded-lg\">\n                      <AvatarImage src={group.image} className=\"object-cover\" />\n                      <AvatarFallback>G</AvatarFallback>\n                    </Avatar>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-semibold truncate\">{group.name}</p>\n                      <p className=\"text-xs text-muted-foreground\">{group.members} members</p>\n                    </div>\n                  </div>\n                ))}\n                <Button variant=\"outline\" className=\"w-full text-xs\">Discover Groups</Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Main Feed */}\n        <div className=\"lg:col-span-2 space-y-6\">\n           {/* Create Post */}\n           <Card>\n             <CardContent className=\"p-4\">\n               <div className=\"flex gap-4 mb-4\">\n                 <Avatar>\n                   <AvatarImage src=\"https://github.com/shadcn.png\" />\n                   <AvatarFallback>JD</AvatarFallback>\n                 </Avatar>\n                 <Input placeholder=\"Share a prayer, verse, or thought...\" className=\"bg-muted/30 border-none\" />\n               </div>\n               <div className=\"flex justify-between items-center pt-2 border-t border-border/50\">\n                 <div className=\"flex gap-2\">\n                   <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-primary gap-2\">\n                     <ImageIcon className=\"h-4 w-4\" /> Photo\n                   </Button>\n                   <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-primary gap-2\">\n                     <Smile className=\"h-4 w-4\" /> Feeling\n                   </Button>\n                 </div>\n                 <Button size=\"sm\" className=\"px-6 rounded-full\">Post</Button>\n               </div>\n             </CardContent>\n           </Card>\n\n           {/* Feed Items */}\n           <Tabs defaultValue=\"all\" className=\"w-full\">\n             <TabsList className=\"grid w-full grid-cols-3 mb-4\">\n               <TabsTrigger value=\"all\">All Activity</TabsTrigger>\n               <TabsTrigger value=\"following\">Following</TabsTrigger>\n               <TabsTrigger value=\"church\">My Church</TabsTrigger>\n             </TabsList>\n             \n             <TabsContent value=\"all\" className=\"space-y-6\">\n               {[1, 2].map((i) => (\n                 <Card key={i}>\n                   <CardContent className=\"p-6\">\n                     <div className=\"flex items-center justify-between mb-4\">\n                       <div className=\"flex items-center gap-3\">\n                         <Avatar>\n                           <AvatarImage src={`https://i.pravatar.cc/150?u=${i + 10}`} />\n                           <AvatarFallback>U</AvatarFallback>\n                         </Avatar>\n                         <div>\n                           <p className=\"font-bold text-sm\">Michael Chen</p>\n                           <p className=\"text-xs text-muted-foreground\">Young Adults Group • 3h ago</p>\n                         </div>\n                       </div>\n                       <Button variant=\"ghost\" size=\"icon\"><MoreHorizontal className=\"h-4 w-4\" /></Button>\n                     </div>\n                     \n                     <p className=\"text-foreground mb-4\">\n                       Really blessed by today's sermon on grace. It's amazing how God's love meets us exactly where we are.\n                     </p>\n                     \n                     {i === 1 && (\n                       <div className=\"rounded-xl overflow-hidden mb-4\">\n                         <img src=\"https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?q=80&w=1000&auto=format&fit=crop\" className=\"w-full h-64 object-cover\" />\n                       </div>\n                     )}\n\n                     <div className=\"flex items-center justify-between pt-4 border-t border-border/50\">\n                        <div className=\"flex gap-4\">\n                          <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-pink-500 gap-2\">\n                            <Heart className=\"h-4 w-4\" /> 24\n                          </Button>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-blue-500 gap-2\">\n                            <MessageCircle className=\"h-4 w-4\" /> 5\n                          </Button>\n                        </div>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-foreground gap-2\">\n                          <Share2 className=\"h-4 w-4\" /> Share\n                        </Button>\n                     </div>\n                   </CardContent>\n                 </Card>\n               ))}\n             </TabsContent>\n           </Tabs>\n        </div>\n\n        {/* Right Sidebar - Suggested */}\n        <div className=\"lg:col-span-1 space-y-6\">\n           <Card>\n             <CardContent className=\"p-4\">\n               <h3 className=\"font-bold text-lg mb-4\">Suggested People</h3>\n               <div className=\"space-y-4\">\n                 {[1, 2, 3].map((i) => (\n                   <div key={i} className=\"flex items-center justify-between\">\n                     <div className=\"flex items-center gap-3\">\n                       <Avatar className=\"h-9 w-9\">\n                         <AvatarImage src={`https://i.pravatar.cc/150?u=${i + 20}`} />\n                         <AvatarFallback>U</AvatarFallback>\n                       </Avatar>\n                       <div className=\"min-w-0\">\n                         <p className=\"text-sm font-medium truncate\">David Kim</p>\n                         <p className=\"text-xs text-muted-foreground\">New Member</p>\n                       </div>\n                     </div>\n                     <Button size=\"sm\" variant=\"secondary\" className=\"h-7 text-xs\">Follow</Button>\n                   </div>\n                 ))}\n               </div>\n             </CardContent>\n           </Card>\n\n           <Card className=\"bg-gradient-to-br from-primary to-purple-800 text-white border-none\">\n             <CardContent className=\"p-6\">\n               <h3 className=\"font-bold text-lg mb-2\">Prayer Challenge</h3>\n               <p className=\"text-white/80 text-sm mb-4\">Join 500+ members in the 30-day prayer challenge starting tomorrow.</p>\n               <Button variant=\"secondary\" className=\"w-full\">Join Now</Button>\n             </CardContent>\n           </Card>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":8450,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/pages/forums.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  MessageSquare, \n  Users, \n  TrendingUp, \n  Search, \n  Plus, \n  Filter,\n  Pin,\n  MoreHorizontal\n} from \"lucide-react\";\n\nexport default function ForumsPage() {\n  return (\n    <Layout>\n      <div className=\"space-y-8\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Community Forums</h1>\n            <p className=\"text-muted-foreground\">Discuss theology, life, and faith with the community.</p>\n          </div>\n          <div className=\"flex gap-2 w-full md:w-auto\">\n            <div className=\"relative flex-1 md:w-64\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input placeholder=\"Search discussions...\" className=\"pl-9\" />\n            </div>\n            <Button className=\"gap-2\"><Plus className=\"h-4 w-4\" /> New Thread</Button>\n          </div>\n        </div>\n\n        {/* Categories Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {[\n            { name: \"Bible Study\", count: \"1.2k\", icon: \"📖\", color: \"bg-blue-100 text-blue-600\" },\n            { name: \"Prayer Requests\", count: \"850\", icon: \"🙏\", color: \"bg-orange-100 text-orange-600\" },\n            { name: \"Theology\", count: \"2.4k\", icon: \"🎓\", color: \"bg-purple-100 text-purple-600\" },\n            { name: \"Christian Living\", count: \"3.1k\", icon: \"🌱\", color: \"bg-green-100 text-green-600\" },\n          ].map((cat, i) => (\n            <Card key={i} className=\"hover:shadow-md transition-shadow cursor-pointer\">\n              <CardContent className=\"p-4 flex items-center gap-4\">\n                <div className={`h-12 w-12 rounded-xl flex items-center justify-center text-2xl ${cat.color}`}>\n                  {cat.icon}\n                </div>\n                <div>\n                  <h3 className=\"font-bold\">{cat.name}</h3>\n                  <p className=\"text-xs text-muted-foreground\">{cat.count} topics</p>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Thread List */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Tabs defaultValue=\"latest\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <TabsList>\n                  <TabsTrigger value=\"latest\">Latest</TabsTrigger>\n                  <TabsTrigger value=\"popular\">Popular</TabsTrigger>\n                  <TabsTrigger value=\"unanswered\">Unanswered</TabsTrigger>\n                </TabsList>\n                <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\"><Filter className=\"h-4 w-4\" /> Filter</Button>\n              </div>\n\n              <TabsContent value=\"latest\" className=\"space-y-4\">\n                {/* Pinned Thread */}\n                <Card className=\"border-primary/20 bg-primary/5\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex gap-4\">\n                      <div className=\"flex flex-col items-center gap-1 text-muted-foreground min-w-[40px]\">\n                        <Pin className=\"h-5 w-5 text-primary fill-current\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <h3 className=\"font-bold text-lg text-primary\">Community Guidelines: Please Read Before Posting</h3>\n                          <Badge variant=\"outline\">Admin</Badge>\n                        </div>\n                        <p className=\"text-sm text-muted-foreground mb-3\">\n                          Welcome to the Abideon forums! Let's keep our discussions grace-filled and edifying...\n                        </p>\n                        <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\"><MessageSquare className=\"h-3 w-3\" /> 0 replies</span>\n                          <span className=\"flex items-center gap-1\"><Users className=\"h-3 w-3\" /> 5.2k views</span>\n                          <span>Last post by <span className=\"font-bold\">Admin</span> 2 days ago</span>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Regular Threads */}\n                {[1, 2, 3, 4, 5].map((i) => (\n                  <Card key={i} className=\"hover:border-primary/50 transition-colors cursor-pointer\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex gap-4\">\n                        <div className=\"flex flex-col items-center gap-1 min-w-[40px]\">\n                          <Avatar className=\"h-10 w-10\">\n                            <AvatarImage src={`https://i.pravatar.cc/150?u=${i + 50}`} />\n                            <AvatarFallback>U</AvatarFallback>\n                          </Avatar>\n                        </div>\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-start justify-between mb-1\">\n                             <div>\n                               <h3 className=\"font-bold text-lg hover:text-primary transition-colors\">\n                                 {i === 1 ? \"Understanding Predestination vs Free Will\" : \n                                  i === 2 ? \"Best commentaries for studying Romans?\" :\n                                  \"Prayer request for my upcoming mission trip\"}\n                               </h3>\n                               <div className=\"flex gap-2 mt-1\">\n                                 <Badge variant=\"secondary\" className=\"text-[10px] h-5\">{i === 1 ? \"Theology\" : i === 2 ? \"Bible Study\" : \"Missions\"}</Badge>\n                               </div>\n                             </div>\n                             <div className=\"flex flex-col items-end text-xs text-muted-foreground\">\n                               <span>2h ago</span>\n                               <span className=\"font-bold text-foreground\">12 replies</span>\n                             </div>\n                          </div>\n                          \n                          <div className=\"flex items-center gap-4 text-xs text-muted-foreground mt-4\">\n                            <span>Started by <span className=\"font-medium text-foreground\">User{i}</span></span>\n                            <span className=\"flex items-center gap-1\"><TrendingUp className=\"h-3 w-3\" /> {100 * i} views</span>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </TabsContent>\n            </Tabs>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Trending Topics</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {['#SermonOnTheMount', '#FaithInAction', '#Apologetics', '#WorshipMusic', '#BibleReading'].map((tag) => (\n                  <div key={tag} className=\"flex justify-between items-center cursor-pointer group\">\n                    <span className=\"text-sm font-medium text-muted-foreground group-hover:text-primary transition-colors\">{tag}</span>\n                    <span className=\"text-xs bg-muted px-2 py-1 rounded-full\">24 posts</span>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Top Contributors</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"flex items-center gap-3\">\n                    <Avatar>\n                      <AvatarImage src={`https://i.pravatar.cc/150?u=${i + 80}`} />\n                    </Avatar>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-bold\">TheologyNerd{i}</p>\n                      <p className=\"text-xs text-muted-foreground\">1,240 points</p>\n                    </div>\n                    <Badge variant=\"outline\" className=\"text-xs\">Rank {i}</Badge>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":9042,"size_tokens":null},"client/src/index.css":{"content":"@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n@theme inline {\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  \n  --color-background: hsl(var(--background));\n  --color-foreground: hsl(var(--foreground));\n  \n  --color-card: hsl(var(--card));\n  --color-card-foreground: hsl(var(--card-foreground));\n  \n  --color-popover: hsl(var(--popover));\n  --color-popover-foreground: hsl(var(--popover-foreground));\n  \n  --color-primary: hsl(var(--primary));\n  --color-primary-foreground: hsl(var(--primary-foreground));\n  \n  --color-secondary: hsl(var(--secondary));\n  --color-secondary-foreground: hsl(var(--secondary-foreground));\n  \n  --color-muted: hsl(var(--muted));\n  --color-muted-foreground: hsl(var(--muted-foreground));\n  \n  --color-accent: hsl(var(--accent));\n  --color-accent-foreground: hsl(var(--accent-foreground));\n  \n  --color-destructive: hsl(var(--destructive));\n  --color-destructive-foreground: hsl(var(--destructive-foreground));\n  \n  --color-border: hsl(var(--border));\n  --color-input: hsl(var(--input));\n  --color-ring: hsl(var(--ring));\n  \n  --color-chart-1: hsl(var(--chart-1));\n  --color-chart-2: hsl(var(--chart-2));\n  --color-chart-3: hsl(var(--chart-3));\n  --color-chart-4: hsl(var(--chart-4));\n  --color-chart-5: hsl(var(--chart-5));\n  \n  --color-sidebar: hsl(var(--sidebar));\n  --color-sidebar-foreground: hsl(var(--sidebar-foreground));\n  --color-sidebar-primary: hsl(var(--sidebar-primary));\n  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));\n  --color-sidebar-accent: hsl(var(--sidebar-accent));\n  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));\n  --color-sidebar-border: hsl(var(--sidebar-border));\n  --color-sidebar-ring: hsl(var(--sidebar-ring));\n\n  --font-sans: 'Outfit', sans-serif;\n  --font-body: 'Open Sans', sans-serif;\n  --font-serif: 'Lora', serif;\n}\n\n/* LIGHT MODE - Spiritual & Clean */\n:root {\n  /* Base - Soft White/Paper */\n  --background: 210 20% 98%;\n  --foreground: 222 47% 11%;\n\n  /* Primary - Deep Royal Purple/Blue */\n  --primary: 262 47% 35%;\n  --primary-foreground: 210 40% 98%;\n\n  /* Secondary - Soft Teal/Blue */\n  --secondary: 190 60% 94%;\n  --secondary-foreground: 190 90% 20%;\n\n  /* Cards - Pure White with slight warmth */\n  --card: 0 0% 100%;\n  --card-foreground: 222 47% 11%;\n\n  /* Popovers */\n  --popover: 0 0% 100%;\n  --popover-foreground: 222 47% 11%;\n\n  /* Muted - Subtle Grays */\n  --muted: 210 40% 96%;\n  --muted-foreground: 215 16% 47%;\n\n  /* Accent - Warm Gold/Amber for highlights */\n  --accent: 35 90% 96%;\n  --accent-foreground: 35 80% 30%;\n\n  /* Destructive */\n  --destructive: 0 84% 60%;\n  --destructive-foreground: 210 40% 98%;\n\n  /* Borders */\n  --border: 214 32% 91%;\n  --input: 214 32% 91%;\n  --ring: 262 47% 35%;\n\n  /* Charts */\n  --chart-1: 262 47% 55%;\n  --chart-2: 190 60% 45%;\n  --chart-3: 35 80% 50%;\n  --chart-4: 150 60% 45%;\n  --chart-5: 0 70% 60%;\n\n  /* Sidebar */\n  --sidebar: 222 47% 11%;\n  --sidebar-foreground: 210 40% 98%;\n  --sidebar-primary: 262 47% 55%;\n  --sidebar-primary-foreground: 0 0% 100%;\n  --sidebar-accent: 222 47% 15%;\n  --sidebar-accent-foreground: 210 40% 98%;\n  --sidebar-border: 222 47% 15%;\n  --sidebar-ring: 262 47% 55%;\n\n  --radius: 0.75rem;\n}\n\n/* DARK MODE - Deep & Meditative */\n.dark {\n  /* Base - Deep Blue Grey */\n  --background: 222 47% 11%;\n  --foreground: 210 40% 98%;\n\n  /* Primary - Lighter Royal Purple */\n  --primary: 262 47% 65%;\n  --primary-foreground: 222 47% 11%;\n\n  /* Secondary - Deep Teal */\n  --secondary: 190 60% 20%;\n  --secondary-foreground: 190 60% 90%;\n\n  /* Cards - Slightly lighter than bg */\n  --card: 222 47% 13%;\n  --card-foreground: 210 40% 98%;\n\n  /* Popovers */\n  --popover: 222 47% 13%;\n  --popover-foreground: 210 40% 98%;\n\n  /* Muted */\n  --muted: 217 33% 17%;\n  --muted-foreground: 215 20% 65%;\n\n  /* Accent */\n  --accent: 262 47% 20%;\n  --accent-foreground: 210 40% 98%;\n\n  /* Destructive */\n  --destructive: 0 62% 30%;\n  --destructive-foreground: 210 40% 98%;\n\n  /* Borders */\n  --border: 217 33% 20%;\n  --input: 217 33% 20%;\n  --ring: 262 47% 65%;\n\n  /* Sidebar */\n  --sidebar: 222 47% 10%;\n  --sidebar-foreground: 210 40% 98%;\n  --sidebar-primary: 262 47% 65%;\n  --sidebar-primary-foreground: 222 47% 11%;\n  --sidebar-accent: 222 47% 15%;\n  --sidebar-accent-foreground: 210 40% 98%;\n  --sidebar-border: 222 47% 15%;\n  --sidebar-ring: 262 47% 65%;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    @apply font-sans tracking-tight;\n  }\n  p {\n    @apply font-body leading-relaxed;\n  }\n}\n\n@layer utilities {\n  .font-serif {\n    font-family: var(--font-serif);\n  }\n  .font-body {\n    font-family: var(--font-body);\n  }\n  \n  /* Glassmorphism utilities */\n  .glass {\n    @apply bg-white/80 dark:bg-black/30 backdrop-blur-md border border-white/20 dark:border-white/10;\n  }\n  \n  .text-balance {\n    text-wrap: balance;\n  }\n}\n","path":null,"size_bytes":5127,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3007,"size_tokens":null},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","path":null,"size_bytes":894,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, boolean, integer, jsonb } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Categories for organizing notes\nexport const categories = pgTable(\"categories\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(),\n  color: varchar(\"color\", { length: 7 }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertCategorySchema = createInsertSchema(categories).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertCategory = z.infer<typeof insertCategorySchema>;\nexport type Category = typeof categories.$inferSelect;\n\n// Folders for organizing notes hierarchically\nexport const folders = pgTable(\"folders\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(),\n  parentId: varchar(\"parent_id\").references((): any => folders.id, { onDelete: \"cascade\" }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertFolderSchema = createInsertSchema(folders).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertFolder = z.infer<typeof insertFolderSchema>;\nexport type Folder = typeof folders.$inferSelect;\n\n// Main notes table with rich text content\nexport const notes = pgTable(\"notes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  categoryId: varchar(\"category_id\").references(() => categories.id, { onDelete: \"set null\" }),\n  folderId: varchar(\"folder_id\").references(() => folders.id, { onDelete: \"set null\" }),\n  color: varchar(\"color\", { length: 20 }),\n  template: varchar(\"template\", { length: 50 }),\n  isStandalone: boolean(\"is_standalone\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const insertNoteSchema = createInsertSchema(notes).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertNote = z.infer<typeof insertNoteSchema>;\nexport type Note = typeof notes.$inferSelect;\n\n// Tags for notes\nexport const tags = pgTable(\"tags\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertTagSchema = createInsertSchema(tags).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertTag = z.infer<typeof insertTagSchema>;\nexport type Tag = typeof tags.$inferSelect;\n\n// Many-to-many relationship between notes and tags\nexport const noteTags = pgTable(\"note_tags\", {\n  noteId: varchar(\"note_id\").notNull().references(() => notes.id, { onDelete: \"cascade\" }),\n  tagId: varchar(\"tag_id\").notNull().references(() => tags.id, { onDelete: \"cascade\" }),\n});\n\nexport const insertNoteTagSchema = createInsertSchema(noteTags);\nexport type InsertNoteTag = z.infer<typeof insertNoteTagSchema>;\nexport type NoteTag = typeof noteTags.$inferSelect;\n\n// Verse links for notes\nexport const verseLinks = pgTable(\"verse_links\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  noteId: varchar(\"note_id\").notNull().references(() => notes.id, { onDelete: \"cascade\" }),\n  book: text(\"book\").notNull(),\n  chapter: integer(\"chapter\").notNull(),\n  verse: integer(\"verse\"),\n  verseEnd: integer(\"verse_end\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertVerseLinkSchema = createInsertSchema(verseLinks).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertVerseLink = z.infer<typeof insertVerseLinkSchema>;\nexport type VerseLink = typeof verseLinks.$inferSelect;\n\n// Attachments for notes (images, audio)\nexport const attachments = pgTable(\"attachments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  noteId: varchar(\"note_id\").notNull().references(() => notes.id, { onDelete: \"cascade\" }),\n  type: varchar(\"type\", { length: 20 }).notNull(),\n  url: text(\"url\").notNull(),\n  filename: text(\"filename\").notNull(),\n  size: integer(\"size\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertAttachmentSchema = createInsertSchema(attachments).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertAttachment = z.infer<typeof insertAttachmentSchema>;\nexport type Attachment = typeof attachments.$inferSelect;\n\n// Version history for notes\nexport const noteVersions = pgTable(\"note_versions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  noteId: varchar(\"note_id\").notNull().references(() => notes.id, { onDelete: \"cascade\" }),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  version: integer(\"version\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertNoteVersionSchema = createInsertSchema(noteVersions).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertNoteVersion = z.infer<typeof insertNoteVersionSchema>;\nexport type NoteVersion = typeof noteVersions.$inferSelect;\n\n// Note shares for collaboration\nexport const noteShares = pgTable(\"note_shares\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  noteId: varchar(\"note_id\").notNull().references(() => notes.id, { onDelete: \"cascade\" }),\n  sharedWithUserId: varchar(\"shared_with_user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  canEdit: boolean(\"can_edit\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertNoteShareSchema = createInsertSchema(noteShares).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertNoteShare = z.infer<typeof insertNoteShareSchema>;\nexport type NoteShare = typeof noteShares.$inferSelect;\n","path":null,"size_bytes":6649,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1267,"size_tokens":null},"client/src/pages/settings.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useState } from \"react\";\nimport { \n  User, \n  Bell, \n  Lock, \n  CreditCard, \n  Palette, \n  Smartphone,\n  Globe,\n  HelpCircle,\n  LogOut,\n  Shield,\n  Key,\n  Mail,\n  Trash2,\n  AlertTriangle,\n  CheckCircle2,\n  Laptop,\n  Phone\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\n\nexport default function SettingsPage() {\n  const [activeTab, setActiveTab] = useState(\"profile\");\n  const { toast } = useToast();\n\n  const handleSave = () => {\n    toast({\n      title: \"Settings Saved\",\n      description: \"Your changes have been successfully updated.\",\n    });\n  };\n\n  return (\n    <Layout>\n      <div className=\"max-w-5xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Account Settings</h1>\n            <p className=\"text-muted-foreground\">Manage your profile, security, and preferences.</p>\n          </div>\n          <Button onClick={handleSave}>Save Changes</Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-12 gap-6\">\n          {/* Sidebar Navigation */}\n          <Card className=\"md:col-span-3 h-fit border-none shadow-none bg-transparent md:bg-card md:shadow-sm md:border\">\n            <CardContent className=\"p-0 md:p-2\">\n              <nav className=\"flex md:flex-col overflow-x-auto md:overflow-visible gap-2 md:gap-1 pb-2 md:pb-0\">\n                {[\n                  { icon: User, label: \"Profile\", id: \"profile\" },\n                  { icon: Lock, label: \"Security\", id: \"security\" },\n                  { icon: Bell, label: \"Notifications\", id: \"notifications\" },\n                  { icon: Smartphone, label: \"Sessions\", id: \"sessions\" },\n                  { icon: CreditCard, label: \"Billing\", id: \"billing\" },\n                  { icon: Palette, label: \"Appearance\", id: \"appearance\" },\n                  { icon: Shield, label: \"Privacy\", id: \"privacy\" },\n                ].map((item) => (\n                  <Button \n                    key={item.id} \n                    variant={activeTab === item.id ? \"secondary\" : \"ghost\"} \n                    className={`justify-start font-medium whitespace-nowrap ${activeTab === item.id ? \"bg-primary/10 text-primary\" : \"\"}`}\n                    onClick={() => setActiveTab(item.id)}\n                  >\n                    <item.icon className=\"mr-2 h-4 w-4\" /> {item.label}\n                  </Button>\n                ))}\n                <Separator className=\"my-2 hidden md:block\" />\n                <Button variant=\"ghost\" className=\"justify-start text-destructive hover:text-destructive hover:bg-destructive/10 hidden md:flex w-full\">\n                  <LogOut className=\"mr-2 h-4 w-4\" /> Sign Out\n                </Button>\n              </nav>\n            </CardContent>\n          </Card>\n\n          {/* Main Settings Content */}\n          <div className=\"md:col-span-9 space-y-6\">\n             {/* Profile Tab */}\n             {activeTab === \"profile\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Public Profile</CardTitle>\n                     <CardDescription>This information will be displayed publicly.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"flex items-center gap-6\">\n                       <div className=\"relative\">\n                         <Avatar className=\"h-24 w-24 border-4 border-background shadow-lg\">\n                           <AvatarImage src=\"https://github.com/shadcn.png\" />\n                           <AvatarFallback>JD</AvatarFallback>\n                         </Avatar>\n                         <Button size=\"icon\" variant=\"secondary\" className=\"absolute bottom-0 right-0 h-8 w-8 rounded-full shadow-sm\">\n                           <Palette className=\"h-4 w-4\" />\n                         </Button>\n                       </div>\n                       <div className=\"space-y-1\">\n                         <h3 className=\"font-medium text-lg\">Profile Picture</h3>\n                         <p className=\"text-sm text-muted-foreground\">JPG, GIF or PNG. Max size of 800K.</p>\n                         <div className=\"flex gap-2 mt-2\">\n                           <Button variant=\"outline\" size=\"sm\">Upload New</Button>\n                           <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive\">Remove</Button>\n                         </div>\n                       </div>\n                     </div>\n                     \n                     <Separator />\n\n                     <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                       <div className=\"space-y-2\">\n                         <Label htmlFor=\"firstName\">First Name</Label>\n                         <Input id=\"firstName\" defaultValue=\"John\" />\n                       </div>\n                       <div className=\"space-y-2\">\n                         <Label htmlFor=\"lastName\">Last Name</Label>\n                         <Input id=\"lastName\" defaultValue=\"Doe\" />\n                       </div>\n                     </div>\n\n                     <div className=\"space-y-2\">\n                       <Label htmlFor=\"username\">Username</Label>\n                       <div className=\"flex\">\n                         <span className=\"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-muted-foreground text-sm\">\n                           abideon.com/u/\n                         </span>\n                         <Input id=\"username\" className=\"rounded-l-none\" defaultValue=\"johndoe\" />\n                       </div>\n                     </div>\n\n                     <div className=\"space-y-2\">\n                       <Label htmlFor=\"bio\">Bio</Label>\n                       <Textarea id=\"bio\" className=\"resize-none min-h-[100px]\" defaultValue=\"Believer. Husband. Father. Seeking to grow in faith daily.\" />\n                       <p className=\"text-xs text-muted-foreground text-right\">0/160</p>\n                     </div>\n                   </CardContent>\n                 </Card>\n               </div>\n             )}\n\n             {/* Security Tab */}\n             {activeTab === \"security\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Account Security</CardTitle>\n                     <CardDescription>Manage your password and security settings.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"space-y-4\">\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Email Address</Label>\n                           <div className=\"flex items-center gap-2\">\n                             <p className=\"text-sm text-muted-foreground\">john@example.com</p>\n                             <Badge variant=\"secondary\" className=\"text-xs bg-green-100 text-green-800 hover:bg-green-100 border-green-200 gap-1\">\n                               <CheckCircle2 className=\"h-3 w-3\" /> Verified\n                             </Badge>\n                           </div>\n                         </div>\n                         <Button variant=\"outline\" size=\"sm\">Change Email</Button>\n                       </div>\n                       <Separator />\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Password</Label>\n                           <p className=\"text-sm text-muted-foreground\">Last changed 3 months ago</p>\n                         </div>\n                         <Button variant=\"outline\" size=\"sm\">Update Password</Button>\n                       </div>\n                     </div>\n\n                     <Separator />\n\n                     <div className=\"space-y-4\">\n                       <h3 className=\"font-medium flex items-center gap-2\">\n                         <Shield className=\"h-4 w-4 text-primary\" /> \n                         Multi-Factor Authentication (MFA)\n                       </h3>\n                       <div className=\"flex items-center justify-between p-4 border border-border rounded-lg bg-muted/30\">\n                         <div className=\"space-y-1\">\n                           <p className=\"font-medium\">Authenticator App</p>\n                           <p className=\"text-sm text-muted-foreground max-w-md\">\n                             Use an authenticator app like Google Authenticator or Authy to generate verification codes.\n                           </p>\n                         </div>\n                         <Switch />\n                       </div>\n                       <div className=\"flex items-center justify-between p-4 border border-border rounded-lg bg-muted/30\">\n                         <div className=\"space-y-1\">\n                           <p className=\"font-medium\">SMS Authentication</p>\n                           <p className=\"text-sm text-muted-foreground max-w-md\">\n                             Receive verification codes via SMS message.\n                           </p>\n                         </div>\n                         <Button variant=\"outline\" size=\"sm\">Setup</Button>\n                       </div>\n                     </div>\n                   </CardContent>\n                 </Card>\n\n                 <Card className=\"border-destructive/20\">\n                   <CardHeader>\n                     <CardTitle className=\"text-destructive\">Danger Zone</CardTitle>\n                     <CardDescription>Irreversible actions for your account.</CardDescription>\n                   </CardHeader>\n                   <CardContent>\n                     <div className=\"flex items-center justify-between\">\n                       <div className=\"space-y-1\">\n                         <p className=\"font-medium\">Delete Account</p>\n                         <p className=\"text-sm text-muted-foreground\">\n                           Permanently delete your account and all of your content.\n                         </p>\n                       </div>\n                       <Dialog>\n                         <DialogTrigger asChild>\n                           <Button variant=\"destructive\">Delete Account</Button>\n                         </DialogTrigger>\n                         <DialogContent>\n                           <DialogHeader>\n                             <DialogTitle>Are you absolutely sure?</DialogTitle>\n                             <DialogDescription>\n                               This action cannot be undone. This will permanently delete your account and remove your data from our servers.\n                             </DialogDescription>\n                           </DialogHeader>\n                           <DialogFooter>\n                             <Button variant=\"outline\">Cancel</Button>\n                             <Button variant=\"destructive\">Yes, delete my account</Button>\n                           </DialogFooter>\n                         </DialogContent>\n                       </Dialog>\n                     </div>\n                   </CardContent>\n                 </Card>\n               </div>\n             )}\n\n             {/* Notifications Tab */}\n             {activeTab === \"notifications\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Notification Preferences</CardTitle>\n                     <CardDescription>Choose what you want to be notified about.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"space-y-4\">\n                       <h3 className=\"font-medium text-sm text-muted-foreground uppercase tracking-wider mb-4\">Activity</h3>\n                       {[\n                         { title: \"Daily Verse\", desc: \"Receive the verse of the day every morning.\" },\n                         { title: \"Prayer Reminders\", desc: \"Get reminded to pray for your list.\" },\n                         { title: \"Group Activity\", desc: \"New posts and comments in your groups.\" },\n                         { title: \"Sermon Releases\", desc: \"Notify when new sermons are available.\" },\n                       ].map((item, i) => (\n                         <div key={i} className=\"flex items-center justify-between\">\n                           <div className=\"space-y-0.5\">\n                             <Label className=\"text-base\">{item.title}</Label>\n                             <p className=\"text-sm text-muted-foreground\">{item.desc}</p>\n                           </div>\n                           <Switch defaultChecked />\n                         </div>\n                       ))}\n                     </div>\n\n                     <Separator />\n\n                     <div className=\"space-y-4\">\n                       <h3 className=\"font-medium text-sm text-muted-foreground uppercase tracking-wider mb-4\">Security</h3>\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Login Alerts</Label>\n                           <p className=\"text-sm text-muted-foreground\">Notify me of new logins from unknown devices.</p>\n                         </div>\n                         <Switch defaultChecked />\n                       </div>\n                     </div>\n                   </CardContent>\n                 </Card>\n               </div>\n             )}\n\n             {/* Sessions Tab */}\n             {activeTab === \"sessions\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Active Sessions</CardTitle>\n                     <CardDescription>Manage the devices where you're currently logged in.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"flex items-start justify-between p-4 border border-primary/20 bg-primary/5 rounded-lg\">\n                       <div className=\"flex gap-4\">\n                         <div className=\"h-10 w-10 bg-background rounded-full flex items-center justify-center border border-border\">\n                           <Laptop className=\"h-5 w-5 text-primary\" />\n                         </div>\n                         <div>\n                           <p className=\"font-medium flex items-center gap-2\">\n                             MacBook Pro\n                             <Badge className=\"text-[10px] h-5\">Current Device</Badge>\n                           </p>\n                           <p className=\"text-sm text-muted-foreground\">San Francisco, US • Chrome • Active now</p>\n                         </div>\n                       </div>\n                     </div>\n\n                     <div className=\"flex items-start justify-between p-4 border border-border rounded-lg\">\n                       <div className=\"flex gap-4\">\n                         <div className=\"h-10 w-10 bg-muted rounded-full flex items-center justify-center\">\n                           <Phone className=\"h-5 w-5 text-muted-foreground\" />\n                         </div>\n                         <div>\n                           <p className=\"font-medium\">iPhone 13 Pro</p>\n                           <p className=\"text-sm text-muted-foreground\">San Francisco, US • Abideon App • 2 hours ago</p>\n                         </div>\n                       </div>\n                       <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive hover:bg-destructive/10\">\n                         Revoke\n                       </Button>\n                     </div>\n\n                     <div className=\"flex items-start justify-between p-4 border border-border rounded-lg\">\n                       <div className=\"flex gap-4\">\n                         <div className=\"h-10 w-10 bg-muted rounded-full flex items-center justify-center\">\n                           <Laptop className=\"h-5 w-5 text-muted-foreground\" />\n                         </div>\n                         <div>\n                           <p className=\"font-medium\">Windows PC</p>\n                           <p className=\"text-sm text-muted-foreground\">New York, US • Firefox • 3 days ago</p>\n                         </div>\n                       </div>\n                       <Button variant=\"ghost\" size=\"sm\" className=\"text-destructive hover:text-destructive hover:bg-destructive/10\">\n                         Revoke\n                       </Button>\n                     </div>\n                   </CardContent>\n                   <CardFooter className=\"bg-muted/30 border-t border-border p-4\">\n                     <Button variant=\"outline\" className=\"w-full text-destructive hover:text-destructive\">\n                       Sign Out of All Other Devices\n                     </Button>\n                   </CardFooter>\n                 </Card>\n               </div>\n             )}\n\n             {/* Privacy Tab */}\n             {activeTab === \"privacy\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Privacy Settings</CardTitle>\n                     <CardDescription>Control who can see your profile and activity.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"space-y-4\">\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Profile Visibility</Label>\n                           <p className=\"text-sm text-muted-foreground\">Who can see your profile details.</p>\n                         </div>\n                         <Select defaultValue=\"public\">\n                           <SelectTrigger className=\"w-[180px]\">\n                             <SelectValue placeholder=\"Select visibility\" />\n                           </SelectTrigger>\n                           <SelectContent>\n                             <SelectItem value=\"public\">Everyone</SelectItem>\n                             <SelectItem value=\"friends\">Friends Only</SelectItem>\n                             <SelectItem value=\"private\">Only Me</SelectItem>\n                           </SelectContent>\n                         </Select>\n                       </div>\n                       <Separator />\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Show Reading Activity</Label>\n                           <p className=\"text-sm text-muted-foreground\">Let friends see what you're reading.</p>\n                         </div>\n                         <Switch defaultChecked />\n                       </div>\n                       <Separator />\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"space-y-0.5\">\n                           <Label className=\"text-base\">Search Engines</Label>\n                           <p className=\"text-sm text-muted-foreground\">Allow search engines to index your profile.</p>\n                         </div>\n                         <Switch />\n                       </div>\n                     </div>\n                   </CardContent>\n                 </Card>\n               </div>\n             )}\n\n             {/* Billing Tab */}\n             {activeTab === \"billing\" && (\n               <div className=\"space-y-6 animate-in fade-in duration-300\">\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Subscription Plan</CardTitle>\n                     <CardDescription>Manage your subscription and billing information.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-6\">\n                     <div className=\"bg-primary/5 border border-primary/20 p-6 rounded-xl flex items-center justify-between\">\n                       <div>\n                         <div className=\"flex items-center gap-2 mb-1\">\n                           <h3 className=\"font-bold text-xl text-primary\">Premium Plan</h3>\n                           <Badge>Active</Badge>\n                         </div>\n                         <p className=\"text-muted-foreground text-sm\">Billed annually. Next billing date: Dec 24, 2025</p>\n                       </div>\n                       <div className=\"text-right\">\n                         <p className=\"font-bold text-xl\">$59.99</p>\n                         <p className=\"text-xs text-muted-foreground\">/year</p>\n                       </div>\n                     </div>\n                     \n                     <div className=\"flex gap-2\">\n                       <Button variant=\"outline\">Cancel Subscription</Button>\n                       <Button>Upgrade Plan</Button>\n                     </div>\n                   </CardContent>\n                 </Card>\n\n                 <Card>\n                   <CardHeader>\n                     <CardTitle>Payment Methods</CardTitle>\n                   </CardHeader>\n                   <CardContent className=\"space-y-4\">\n                     <div className=\"flex items-center justify-between p-4 border border-border rounded-lg\">\n                       <div className=\"flex items-center gap-4\">\n                         <div className=\"w-10 h-6 bg-foreground rounded text-background text-[8px] flex items-center justify-center font-bold\">\n                           VISA\n                         </div>\n                         <div>\n                           <p className=\"font-medium\">Visa ending in 4242</p>\n                           <p className=\"text-xs text-muted-foreground\">Expires 12/28</p>\n                         </div>\n                       </div>\n                       <Button variant=\"ghost\" size=\"sm\">Edit</Button>\n                     </div>\n                     <Button variant=\"outline\" className=\"w-full border-dashed\">+ Add Payment Method</Button>\n                   </CardContent>\n                 </Card>\n               </div>\n             )}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":23663,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // @replit\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \",\n  {\n    variants: {\n      variant: {\n        default:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary:\n          // @replit no hover because we use hover-elevate\n          \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n          // @replit shadow-xs\" - use badge outline variable\n        outline: \"text-foreground border [border-color:var(--badge-outline)]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1522,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":266,"size_tokens":null},"client/src/pages/bible.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { useState } from \"react\";\nimport { \n  Search, Settings, Share2, Highlighter, Bookmark, Maximize2,\n  ChevronLeft, ChevronRight, Volume2, BookOpen, Library, FileText,\n  Map, History, Languages, PanelRightClose, PanelRightOpen, X,\n  MoreHorizontal, Image as ImageIcon, Download, Copy, Facebook, Twitter,\n  ExternalLink, Minimize2, Grid, List, Layers, Type, SplitSquareHorizontal,\n  BookA, Globe, User, MapPin, Folder, FolderPlus, FileJson, FileType,\n  Menu, ChevronDown, ChevronUp\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Slider } from \"@/components/ui/slider\";\nimport {\n  Select, SelectContent, SelectItem, SelectTrigger, SelectValue,\n} from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogFooter } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { ResizableHandle, ResizablePanel, ResizablePanelGroup } from \"@/components/ui/resizable\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\nimport { cn } from \"@/lib/utils\";\nimport { NotesList } from \"@/components/notes/NotesList\";\n\n// Mock Data\nconst BOOKS = {\n  OT: ['Genesis', 'Exodus', 'Leviticus', 'Numbers', 'Deuteronomy', 'Joshua', 'Judges', 'Ruth', '1 Samuel', '2 Samuel', '1 Kings', '2 Kings', '1 Chronicles', '2 Chronicles', 'Ezra', 'Nehemiah', 'Esther', 'Job', 'Psalms', 'Proverbs', 'Ecclesiastes', 'Song of Solomon', 'Isaiah', 'Jeremiah', 'Lamentations', 'Ezekiel', 'Daniel', 'Hosea', 'Joel', 'Amos', 'Obadiah', 'Jonah', 'Micah', 'Nahum', 'Habakkuk', 'Zephaniah', 'Haggai', 'Zechariah', 'Malachi'],\n  NT: ['Matthew', 'Mark', 'Luke', 'John', 'Acts', 'Romans', '1 Corinthians', '2 Corinthians', 'Galatians', 'Ephesians', 'Philippians', 'Colossians', '1 Thessalonians', '2 Thessalonians', '1 Timothy', '2 Timothy', 'Titus', 'Philemon', 'Hebrews', 'James', '1 Peter', '2 Peter', '1 John', '2 John', '3 John', 'Jude', 'Revelation']\n};\n\nconst COMMENTARIES = [\n  { id: 'mh', name: 'Matthew Henry Complete' },\n  { id: 'gill', name: \"Gill's Exposition\" },\n  { id: 'barnes', name: \"Barnes' Notes\" },\n  { id: 'clarke', name: \"Clarke's Commentary\" },\n  { id: 'jfb', name: \"Jamieson-Fausset-Brown\" },\n];\n\nconst HIGHLIGHT_COLORS = [\n  { id: 'yellow', color: 'bg-yellow-200/50', border: 'border-yellow-400', label: 'General' },\n  { id: 'green', color: 'bg-green-200/50', border: 'border-green-400', label: 'Growth' },\n  { id: 'blue', color: 'bg-blue-200/50', border: 'border-blue-400', label: 'Holy Spirit' },\n  { id: 'red', color: 'bg-red-200/50', border: 'border-red-400', label: 'Salvation' },\n  { id: 'purple', color: 'bg-purple-200/50', border: 'border-purple-400', label: 'Royalty' },\n  { id: 'orange', color: 'bg-orange-200/50', border: 'border-orange-400', label: 'Warning' },\n  { id: 'pink', color: 'bg-pink-200/50', border: 'border-pink-400', label: 'Love' },\n  { id: 'gray', color: 'bg-gray-200/50', border: 'border-gray-400', label: 'Sin' },\n];\n\n// Helper component for arrows\nfunction ArrowRightIcon({ className }: { className?: string }) {\n  return <ChevronRight className={className} />;\n}\n\nexport default function BiblePage() {\n  const [fontSize, setFontSize] = useState(18);\n  const [showTools, setShowTools] = useState(true);\n  const [selectedVerse, setSelectedVerse] = useState<number | null>(null);\n  const [activeTab, setActiveTab] = useState(\"study\");\n  const [selectedCommentary, setSelectedCommentary] = useState(\"mh\");\n  const [highlights, setHighlights] = useState<Record<number, string>>({ 8: 'yellow' });\n  const [bookmarks, setBookmarks] = useState<Record<number, string[]>>({});\n  const [showImageGenerator, setShowImageGenerator] = useState(false);\n  const [interlinearMode, setInterlinearMode] = useState(false);\n  const [selectedBook, setSelectedBook] = useState(\"Genesis\");\n  const [selectedChapter, setSelectedChapter] = useState(\"1\");\n  const [selectedVersion, setSelectedVersion] = useState(\"NIV\");\n  \n  // Mobile-specific state for inline collapsibles\n  const [bookPickerOpen, setBookPickerOpen] = useState(false);\n  const [mobileStudyOpen, setMobileStudyOpen] = useState(false);\n  const [bookTab, setBookTab] = useState<\"ot\" | \"nt\">(\"ot\");\n\n  const handleVerseClick = (verseNum: number) => {\n    setSelectedVerse(verseNum === selectedVerse ? null : verseNum);\n    if (!showTools && verseNum !== selectedVerse) setShowTools(true);\n  };\n\n  const toggleHighlight = (colorId: string) => {\n    if (selectedVerse === null) return;\n    \n    setHighlights(prev => {\n      const newHighlights = { ...prev };\n      if (newHighlights[selectedVerse] === colorId) {\n        delete newHighlights[selectedVerse];\n      } else {\n        newHighlights[selectedVerse] = colorId;\n      }\n      return newHighlights;\n    });\n  };\n\n  const toggleBookmark = (folderId: string = 'default') => {\n    if (selectedVerse === null) return;\n    setBookmarks(prev => {\n      const currentFolders = prev[selectedVerse] || [];\n      if (currentFolders.includes(folderId)) {\n        const newFolders = currentFolders.filter(id => id !== folderId);\n        if (newFolders.length === 0) {\n          const { [selectedVerse]: _, ...rest } = prev;\n          return rest;\n        }\n        return { ...prev, [selectedVerse]: newFolders };\n      } else {\n        return { ...prev, [selectedVerse]: [...currentFolders, folderId] };\n      }\n    });\n  };\n\n  // Verse content component to avoid duplication\n  const VerseContent = ({ verseNum, isMobile = false }: { verseNum: number; isMobile?: boolean }) => {\n    const isSelected = selectedVerse === verseNum;\n    const highlightColor = highlights[verseNum];\n    const colorData = HIGHLIGHT_COLORS.find(c => c.id === highlightColor);\n    \n    return (\n      <div \n        className={cn(\n          \"relative py-2 px-2 -mx-2 rounded transition-colors duration-200 cursor-pointer group\",\n          isSelected ? \"bg-primary/10 ring-1 ring-primary/20\" : isMobile ? \"active:bg-accent/50\" : \"hover:bg-accent/30\",\n          highlightColor && colorData ? colorData.color : \"\"\n        )}\n        onClick={() => handleVerseClick(verseNum)}\n        data-testid={`verse-${isMobile ? 'mobile' : 'desktop'}-${verseNum}`}\n      >\n        {!isMobile && isSelected && (\n          <div className=\"absolute -top-10 left-0 z-10 flex items-center gap-1 p-1 rounded-lg bg-popover shadow-lg border border-border animate-in fade-in zoom-in-95 duration-200\">\n            {HIGHLIGHT_COLORS.slice(0, 4).map(color => (\n              <button \n                key={color.id}\n                className={cn(\"w-5 h-5 rounded-full border\", color.color, color.border)}\n                onClick={(e) => { e.stopPropagation(); toggleHighlight(color.id); }}\n              />\n            ))}\n            <div className=\"w-px h-4 bg-border mx-1\" />\n            \n            <Popover>\n              <PopoverTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={(e) => e.stopPropagation()}>\n                  <Bookmark className={cn(\"h-3 w-3\", bookmarks[verseNum] ? \"fill-primary text-primary\" : \"\")} />\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-48 p-2\" onClick={(e) => e.stopPropagation()}>\n                <p className=\"text-xs font-bold mb-2 px-2\">Save to Folder</p>\n                <div className=\"space-y-1\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start h-7 text-xs\" onClick={() => toggleBookmark('favorites')}>\n                    <Folder className=\"h-3 w-3 mr-2 text-yellow-500\" /> Favorites\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start h-7 text-xs\" onClick={() => toggleBookmark('study')}>\n                    <Folder className=\"h-3 w-3 mr-2 text-blue-500\" /> Bible Study\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start h-7 text-xs\" onClick={() => toggleBookmark('sermon')}>\n                    <Folder className=\"h-3 w-3 mr-2 text-green-500\" /> Sermon Prep\n                  </Button>\n                  <Separator className=\"my-1\" />\n                  <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start h-7 text-xs\">\n                    <FolderPlus className=\"h-3 w-3 mr-2\" /> New Folder\n                  </Button>\n                </div>\n              </PopoverContent>\n            </Popover>\n\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={(e) => { e.stopPropagation(); setShowImageGenerator(true); }}>\n              <ImageIcon className=\"h-3 w-3\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n              <Share2 className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        )}\n        \n        <span className=\"text-xs font-bold text-muted-foreground mr-2 select-none font-sans relative top-[-0.3em]\">{verseNum}</span>\n        \n        {interlinearMode ? (\n          <span className=\"leading-relaxed\">\n            In the beginning <span className=\"text-muted-foreground text-sm block mb-1\">reshith</span>\n            God <span className=\"text-muted-foreground text-sm block mb-1\">elohim</span>\n            created <span className=\"text-muted-foreground text-sm block mb-1\">bara</span>\n            the heavens <span className=\"text-muted-foreground text-sm block mb-1\">shamayim</span>\n            and the earth. <span className=\"text-muted-foreground text-sm block mb-1\">erets</span>\n          </span>\n        ) : (\n          <span>\n            In the beginning God created the heavens and the earth.\n            {verseNum === 2 && \" Now the earth was formless and empty, darkness was over the surface of the deep, and the Spirit of God was hovering over the waters.\"}\n            {verseNum === 3 && \" And God said, \\\"Let there be light,\\\" and there was light.\"}\n            {verseNum > 3 && \" Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"}\n          </span>\n        )}\n        \n        {bookmarks[verseNum] && (\n          <Bookmark className=\"absolute right-1 top-2 h-3 w-3 text-primary fill-primary opacity-50\" />\n        )}\n      </div>\n    );\n  };\n\n  // Study Tools Content - shared between mobile and desktop\n  const StudyToolsContent = ({ compact = false }: { compact?: boolean }) => (\n    <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col\">\n      <div className=\"border-b border-border\">\n        <ScrollArea className=\"w-full whitespace-nowrap\">\n          <TabsList className={cn(\"w-full justify-start p-0 bg-transparent\", compact ? \"h-10\" : \"h-12\")}>\n            <TabsTrigger value=\"study\" className={cn(\"px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-accent/50\", compact ? \"h-10 text-xs\" : \"h-12\")}>\n              <BookOpen className={cn(\"mr-1.5\", compact ? \"h-3.5 w-3.5\" : \"h-4 w-4\")} /> Study\n            </TabsTrigger>\n            <TabsTrigger value=\"reference\" className={cn(\"px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-accent/50\", compact ? \"h-10 text-xs\" : \"h-12\")}>\n              <BookA className={cn(\"mr-1.5\", compact ? \"h-3.5 w-3.5\" : \"h-4 w-4\")} /> Ref\n            </TabsTrigger>\n            <TabsTrigger value=\"compare\" className={cn(\"px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-accent/50\", compact ? \"h-10 text-xs\" : \"h-12\")}>\n              <SplitSquareHorizontal className={cn(\"mr-1.5\", compact ? \"h-3.5 w-3.5\" : \"h-4 w-4\")} /> Compare\n            </TabsTrigger>\n            <TabsTrigger value=\"notes\" className={cn(\"px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-accent/50\", compact ? \"h-10 text-xs\" : \"h-12\")}>\n              <FileText className={cn(\"mr-1.5\", compact ? \"h-3.5 w-3.5\" : \"h-4 w-4\")} /> Notes\n            </TabsTrigger>\n          </TabsList>\n        </ScrollArea>\n      </div>\n\n      <div className=\"flex-1 overflow-hidden relative\">\n        <TabsContent value=\"study\" className=\"h-full m-0 overflow-hidden flex flex-col\">\n          <div className={cn(\"border-b border-border bg-muted/10\", compact ? \"p-2\" : \"p-4\")}>\n            <Select value={selectedCommentary} onValueChange={setSelectedCommentary}>\n              <SelectTrigger className={cn(\"w-full\", compact && \"text-sm\")}>\n                <SelectValue placeholder=\"Select Commentary\" />\n              </SelectTrigger>\n              <SelectContent>\n                {COMMENTARIES.map(c => <SelectItem key={c.id} value={c.id}>{c.name}</SelectItem>)}\n              </SelectContent>\n            </Select>\n          </div>\n          <ScrollArea className=\"flex-1\">\n            <div className={cn(\"space-y-4\", compact ? \"p-3\" : \"p-4\")}>\n              <div className=\"bg-muted/30 rounded-lg p-3 border border-border\">\n                <h3 className={cn(\"font-bold mb-2 flex items-center gap-2\", compact ? \"text-xs\" : \"text-sm\")}>\n                  <span className=\"w-1 h-4 bg-primary rounded-full\"></span>\n                  Verse Analysis {selectedVerse ? `(v.${selectedVerse})` : ''}\n                </h3>\n                <p className={cn(\"leading-relaxed text-muted-foreground\", compact ? \"text-xs\" : \"text-sm\")}>\n                  {selectedVerse === 1 \n                    ? \"This opening verse of the Bible serves as a formal introduction to the entire Pentateuch.\" \n                    : \"Select a verse to see detailed commentary.\"}\n                </p>\n              </div>\n\n              <div>\n                <h3 className={cn(\"font-bold mb-2 flex items-center gap-2\", compact ? \"text-xs\" : \"text-sm\")}>\n                  <Library className={cn(\"text-primary\", compact ? \"h-3.5 w-3.5\" : \"h-4 w-4\")} /> \n                  Cross References\n                </h3>\n                <div className=\"space-y-2\">\n                  {['John 1:1', 'Psalm 33:6', 'Isaiah 45:18'].map((ref, i) => (\n                    <div key={i} className=\"p-2 rounded-lg border border-border bg-card hover:bg-accent/50 transition-colors cursor-pointer\">\n                      <span className={cn(\"font-bold text-primary\", compact ? \"text-xs\" : \"text-sm\")}>{ref}</span>\n                      <p className={cn(\"text-muted-foreground mt-1 line-clamp-2\", compact ? \"text-xs\" : \"text-xs\")}>\n                        In the beginning was the Word...\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </ScrollArea>\n        </TabsContent>\n\n        <TabsContent value=\"reference\" className=\"h-full m-0 overflow-hidden flex flex-col\">\n          <ScrollArea className=\"flex-1\">\n            <div className={cn(\"space-y-4\", compact ? \"p-3\" : \"p-4\")}>\n              <div className=\"relative\">\n                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <Input placeholder=\"Search Dictionary...\" className=\"pl-8\" />\n              </div>\n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-bold text-primary text-sm\">Creation</h4>\n                  <p className=\"text-sm text-muted-foreground mt-1\">The act of God in bringing the universe into existence.</p>\n                </div>\n                <Separator />\n                <div>\n                  <h4 className=\"font-bold text-primary text-sm\">Cosmology</h4>\n                  <p className=\"text-sm text-muted-foreground mt-1\">The study of the origin and structure of the universe.</p>\n                </div>\n              </div>\n            </div>\n          </ScrollArea>\n        </TabsContent>\n\n        <TabsContent value=\"compare\" className=\"h-full m-0 overflow-hidden flex flex-col\">\n          <ScrollArea className=\"flex-1\">\n            <div className={cn(\"space-y-4\", compact ? \"p-3\" : \"p-4\")}>\n              {selectedVerse ? (\n                <div className=\"space-y-3\">\n                  <h3 className=\"font-bold text-center pb-2 border-b border-border text-sm\">{selectedBook} {selectedChapter}:{selectedVerse}</h3>\n                  {[\n                    { ver: 'NIV', text: 'In the beginning God created the heavens and the earth.' },\n                    { ver: 'ESV', text: 'In the beginning, God created the heavens and the earth.' },\n                    { ver: 'KJV', text: 'In the beginning God created the heaven and the earth.' },\n                  ].map(({ ver, text }) => (\n                    <div key={ver} className=\"space-y-1\">\n                      <Badge variant=\"outline\" className=\"text-xs\">{ver}</Badge>\n                      <p className=\"text-sm leading-relaxed\">{text}</p>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"flex flex-col items-center justify-center h-40 text-muted-foreground text-center p-4\">\n                  <SplitSquareHorizontal className=\"h-8 w-8 mb-3 opacity-20\" />\n                  <p className=\"text-sm\">Select a verse to compare translations.</p>\n                </div>\n              )}\n            </div>\n          </ScrollArea>\n        </TabsContent>\n\n        <TabsContent value=\"notes\" className=\"h-full m-0 overflow-hidden flex flex-col\">\n          <NotesList verseReference={`${selectedBook} ${selectedChapter}`} />\n        </TabsContent>\n      </div>\n    </Tabs>\n  );\n\n  return (\n    <Layout>\n      <div className=\"flex flex-col min-h-screen\">\n        \n        {/* ===== MOBILE LAYOUT ===== */}\n        <div className=\"md:hidden flex flex-col flex-1\">\n          \n          {/* Mobile Header Bar */}\n          <div className=\"flex items-center justify-between px-3 py-2 border-b border-border bg-card/50\">\n            <div className=\"flex items-center gap-2\">\n              <Select value={selectedVersion} onValueChange={setSelectedVersion}>\n                <SelectTrigger className=\"w-16 h-8 text-xs border-none bg-transparent\" data-testid=\"select-version-mobile\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"NIV\">NIV</SelectItem>\n                  <SelectItem value=\"ESV\">ESV</SelectItem>\n                  <SelectItem value=\"KJV\">KJV</SelectItem>\n                  <SelectItem value=\"NASB\">NASB</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div className=\"flex items-center gap-1\">\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"h-8 w-8\"\n                onClick={() => setInterlinearMode(!interlinearMode)}\n                data-testid=\"button-interlinear-mobile\"\n              >\n                <Languages className={cn(\"h-4 w-4\", interlinearMode ? \"text-primary\" : \"text-muted-foreground\")} />\n              </Button>\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"h-8 w-8\"\n                data-testid=\"button-settings-mobile\"\n              >\n                <Settings className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n\n          {/* Mobile Book/Chapter Picker - Inline Collapsible */}\n          <Collapsible open={bookPickerOpen} onOpenChange={setBookPickerOpen}>\n            <CollapsibleTrigger asChild>\n              <button \n                className=\"w-full flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border hover:bg-muted/50 transition-colors\"\n                data-testid=\"button-book-picker-mobile\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <BookOpen className=\"h-4 w-4 text-primary\" />\n                  <span className=\"font-bold\">{selectedBook} {selectedChapter}</span>\n                </div>\n                {bookPickerOpen ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n              </button>\n            </CollapsibleTrigger>\n            <CollapsibleContent className=\"border-b border-border bg-card\">\n              <div className=\"p-3\">\n                {/* Testament Tabs */}\n                <div className=\"flex gap-2 mb-3\">\n                  <Button \n                    variant={bookTab === \"ot\" ? \"secondary\" : \"ghost\"} \n                    size=\"sm\" \n                    className=\"flex-1 text-xs\"\n                    onClick={() => setBookTab(\"ot\")}\n                  >\n                    Old Testament\n                  </Button>\n                  <Button \n                    variant={bookTab === \"nt\" ? \"secondary\" : \"ghost\"} \n                    size=\"sm\" \n                    className=\"flex-1 text-xs\"\n                    onClick={() => setBookTab(\"nt\")}\n                  >\n                    New Testament\n                  </Button>\n                </div>\n                \n                {/* Books Grid */}\n                <ScrollArea className=\"h-32\">\n                  <div className=\"grid grid-cols-3 gap-1\">\n                    {(bookTab === \"ot\" ? BOOKS.OT : BOOKS.NT).map(b => (\n                      <Button \n                        key={b} \n                        variant={selectedBook === b ? \"secondary\" : \"ghost\"} \n                        size=\"sm\" \n                        className=\"justify-start text-xs h-7 px-2\"\n                        onClick={() => {\n                          setSelectedBook(b);\n                        }}\n                      >\n                        {b.length > 10 ? b.slice(0, 10) + '...' : b}\n                      </Button>\n                    ))}\n                  </div>\n                </ScrollArea>\n                \n                {/* Chapter Selection */}\n                <div className=\"mt-3 pt-3 border-t border-border\">\n                  <p className=\"text-xs font-medium text-muted-foreground mb-2\">Chapter</p>\n                  <ScrollArea className=\"h-16\">\n                    <div className=\"flex flex-wrap gap-1\">\n                      {Array.from({length: 50}, (_, i) => i + 1).map(num => (\n                        <Button \n                          key={num} \n                          variant={selectedChapter === num.toString() ? \"secondary\" : \"ghost\"} \n                          size=\"sm\" \n                          className=\"w-9 h-7 text-xs p-0\"\n                          onClick={() => {\n                            setSelectedChapter(num.toString());\n                            setBookPickerOpen(false);\n                          }}\n                        >\n                          {num}\n                        </Button>\n                      ))}\n                    </div>\n                  </ScrollArea>\n                </div>\n              </div>\n            </CollapsibleContent>\n          </Collapsible>\n\n          {/* Mobile Bible Content */}\n          <ScrollArea className=\"flex-1\">\n            <div className=\"p-4 pb-32\">\n              <h1 className=\"font-serif text-2xl font-bold text-center mb-1\">{selectedBook} {selectedChapter}</h1>\n              <p className=\"text-center text-muted-foreground mb-6 font-sans text-xs uppercase tracking-widest\">The Beginning</p>\n              \n              <div className=\"prose dark:prose-invert max-w-none font-serif leading-relaxed\" style={{ fontSize: `${Math.max(fontSize - 2, 14)}px` }}>\n                {Array.from({length: 31}, (_, i) => i + 1).map((verseNum) => (\n                  <VerseContent key={verseNum} verseNum={verseNum} isMobile={true} />\n                ))}\n              </div>\n            </div>\n          </ScrollArea>\n\n          {/* Mobile Verse Actions - Sticky at Bottom */}\n          {selectedVerse !== null && (\n            <div className=\"sticky bottom-0 left-0 right-0 border-t border-border p-2 bg-card/95 backdrop-blur-sm z-20\">\n              <div className=\"flex items-center justify-between gap-2\">\n                <span className=\"text-xs font-medium text-muted-foreground\">Verse {selectedVerse}</span>\n                <div className=\"flex items-center gap-1\">\n                  {HIGHLIGHT_COLORS.slice(0, 4).map(color => (\n                    <button \n                      key={color.id}\n                      className={cn(\"w-6 h-6 rounded-full border\", color.color, color.border, highlights[selectedVerse] === color.id && \"ring-2 ring-offset-1 ring-primary\")}\n                      onClick={() => toggleHighlight(color.id)}\n                      data-testid={`button-highlight-${color.id}-mobile`}\n                    />\n                  ))}\n                  <div className=\"w-px h-4 bg-border mx-1\" />\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={() => toggleBookmark()} data-testid=\"button-bookmark-mobile\">\n                    <Bookmark className={cn(\"h-4 w-4\", bookmarks[selectedVerse] ? \"fill-primary text-primary\" : \"\")} />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" data-testid=\"button-share-mobile\">\n                    <Share2 className=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={() => setSelectedVerse(null)} data-testid=\"button-close-verse-mobile\">\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Mobile Chapter Navigation */}\n          <div className=\"sticky bottom-0 left-0 right-0 h-12 border-t border-border flex items-center justify-between px-3 bg-card z-10\">\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground text-xs px-2\" data-testid=\"button-prev-chapter-mobile\">\n              <ChevronLeft className=\"h-4 w-4\" /> Prev\n            </Button>\n            <div className=\"flex items-center gap-1 overflow-x-auto\">\n              {[1, 2, 3, 4, 5].map(ch => (\n                <button \n                  key={ch} \n                  className={cn(\n                    \"px-2.5 py-1 rounded-full text-xs font-medium transition-colors whitespace-nowrap min-w-[28px]\",\n                    ch === parseInt(selectedChapter) ? \"bg-primary text-primary-foreground\" : \"hover:bg-accent\"\n                  )}\n                  onClick={() => setSelectedChapter(ch.toString())}\n                >\n                  {ch}\n                </button>\n              ))}\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground text-xs px-2\" data-testid=\"button-next-chapter-mobile\">\n              Next <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n\n          {/* Mobile Study Tools - Inline Collapsible Section */}\n          <Collapsible open={mobileStudyOpen} onOpenChange={setMobileStudyOpen}>\n            <CollapsibleTrigger asChild>\n              <button \n                className=\"w-full flex items-center justify-between px-4 py-3 bg-muted/50 border-t border-border hover:bg-muted/70 transition-colors\"\n                data-testid=\"button-study-tools-mobile\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Library className=\"h-4 w-4 text-primary\" />\n                  <span className=\"font-medium text-sm\">Study Tools</span>\n                </div>\n                {mobileStudyOpen ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n              </button>\n            </CollapsibleTrigger>\n            <CollapsibleContent className=\"border-t border-border bg-card\">\n              <div className=\"h-[50vh]\">\n                <StudyToolsContent compact={true} />\n              </div>\n            </CollapsibleContent>\n          </Collapsible>\n        </div>\n\n        {/* ===== DESKTOP LAYOUT ===== */}\n        <div className=\"hidden md:flex flex-col flex-1\">\n          {/* Desktop Toolbar */}\n          <div className=\"h-14 border border-border rounded-t-xl flex items-center justify-between px-4 bg-card/50 backdrop-blur-sm mb-2\">\n            <div className=\"flex items-center gap-2\">\n              <Select value={selectedBook} onValueChange={setSelectedBook}>\n                <SelectTrigger className=\"w-[140px] h-9 border-none bg-transparent hover:bg-accent/50 focus:ring-0 font-bold\" data-testid=\"select-book-desktop\">\n                  <SelectValue placeholder=\"Book\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <div className=\"grid grid-cols-2 gap-2 p-2 w-[400px]\">\n                    <div>\n                      <div className=\"text-xs font-bold text-muted-foreground mb-2 px-2\">OT</div>\n                      {BOOKS.OT.map(b => <SelectItem key={b} value={b}>{b}</SelectItem>)}\n                    </div>\n                    <div>\n                      <div className=\"text-xs font-bold text-muted-foreground mb-2 px-2\">NT</div>\n                      {BOOKS.NT.map(b => <SelectItem key={b} value={b}>{b}</SelectItem>)}\n                    </div>\n                  </div>\n                </SelectContent>\n              </Select>\n\n              <Select value={selectedChapter} onValueChange={setSelectedChapter}>\n                <SelectTrigger className=\"w-[70px] h-9 border-none bg-transparent hover:bg-accent/50 focus:ring-0 font-bold\" data-testid=\"select-chapter-desktop\">\n                  <SelectValue placeholder=\"Ch\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {Array.from({length: 50}, (_, i) => i + 1).map(num => (\n                    <SelectItem key={num} value={num.toString()}>{num}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              <div className=\"h-4 w-px bg-border mx-1\"></div>\n\n              <Select value={selectedVersion} onValueChange={setSelectedVersion}>\n                <SelectTrigger className=\"w-[80px] h-9 border-none bg-transparent hover:bg-accent/50 focus:ring-0\" data-testid=\"select-version-desktop\">\n                  <SelectValue placeholder=\"Version\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"NIV\">NIV</SelectItem>\n                  <SelectItem value=\"ESV\">ESV</SelectItem>\n                  <SelectItem value=\"KJV\">KJV</SelectItem>\n                  <SelectItem value=\"NASB\">NASB</SelectItem>\n                  <SelectItem value=\"CSB\">CSB</SelectItem>\n                </SelectContent>\n              </Select>\n\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => setInterlinearMode(!interlinearMode)} title=\"Interlinear Mode\" data-testid=\"button-interlinear\">\n                <Languages className={cn(\"h-4 w-4\", interlinearMode ? \"text-primary\" : \"text-muted-foreground\")} />\n              </Button>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <div className=\"hidden lg:flex items-center gap-1 mr-2\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                  <Type className=\"h-4 w-4\" />\n                </Button>\n                <Slider \n                  className=\"w-24\" \n                  min={14} \n                  max={32} \n                  step={1} \n                  value={[fontSize]} \n                  onValueChange={(val) => setFontSize(val[0])} \n                  data-testid=\"slider-font-size\"\n                />\n              </div>\n              \n              <Button \n                variant={showTools ? \"secondary\" : \"outline\"} \n                size=\"sm\" \n                onClick={() => setShowTools(!showTools)}\n                className=\"gap-2\"\n                data-testid=\"button-study-tools-desktop\"\n              >\n                <Library className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Study Tools</span>\n              </Button>\n            </div>\n          </div>\n\n          {/* Desktop Workspace */}\n          <ResizablePanelGroup direction=\"horizontal\" className=\"flex-1 rounded-xl border border-border overflow-hidden bg-background\">\n            {/* Main Reader Panel */}\n            <ResizablePanel defaultSize={70} minSize={30}>\n              <div className=\"h-full flex flex-col bg-card\">\n                <ScrollArea className=\"flex-1 p-6 lg:p-12\">\n                  <div className=\"max-w-3xl mx-auto pb-20\">\n                    <h1 className=\"font-serif text-3xl lg:text-4xl font-bold text-center mb-2\">{selectedBook} {selectedChapter}</h1>\n                    <p className=\"text-center text-muted-foreground mb-10 font-sans text-sm uppercase tracking-widest\">The Beginning</p>\n                    \n                    <div className=\"prose prose-lg dark:prose-invert max-w-none font-serif leading-loose transition-all\" style={{ fontSize: `${fontSize}px` }}>\n                      {Array.from({length: 31}, (_, i) => i + 1).map((verseNum) => (\n                        <VerseContent key={verseNum} verseNum={verseNum} isMobile={false} />\n                      ))}\n                    </div>\n                  </div>\n                </ScrollArea>\n                \n                {/* Bottom Navigation */}\n                <div className=\"h-12 border-t border-border flex items-center justify-between px-6 bg-card/50\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-foreground\">\n                    <ChevronLeft className=\"h-4 w-4 mr-2\" /> Previous Chapter\n                  </Button>\n                  <div className=\"flex items-center gap-2\">\n                    {['Gen 1', 'Gen 2', 'Gen 3', 'Gen 4', 'Gen 5'].map(ch => (\n                      <div key={ch} className={cn(\n                        \"px-3 py-1 rounded-full text-xs font-medium cursor-pointer transition-colors\",\n                        ch === 'Gen 1' ? \"bg-primary text-primary-foreground\" : \"hover:bg-accent\"\n                      )}>\n                        {ch}\n                      </div>\n                    ))}\n                  </div>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-foreground\">\n                    Next Chapter <ChevronRight className=\"h-4 w-4 ml-2\" />\n                  </Button>\n                </div>\n              </div>\n            </ResizablePanel>\n\n            {showTools && (\n              <>\n                <ResizableHandle />\n                <ResizablePanel defaultSize={30} minSize={20} maxSize={50}>\n                  <div className=\"h-full flex flex-col bg-card\">\n                    <StudyToolsContent compact={false} />\n                  </div>\n                </ResizablePanel>\n              </>\n            )}\n          </ResizablePanelGroup>\n        </div>\n      </div>\n\n      {/* Image Generator Dialog */}\n      <Dialog open={showImageGenerator} onOpenChange={setShowImageGenerator}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Generate Scripture Art</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <p className=\"text-sm text-muted-foreground\">\n              Create beautiful shareable images with this verse.\n            </p>\n            <div className=\"bg-muted/50 p-4 rounded-lg text-center font-serif italic\">\n              \"{selectedBook} {selectedChapter}:{selectedVerse}\"\n            </div>\n            <div className=\"grid grid-cols-3 gap-2\">\n              {['Sunset', 'Mountains', 'Ocean', 'Forest', 'Sky', 'Minimal'].map(style => (\n                <Button key={style} variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                  {style}\n                </Button>\n              ))}\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowImageGenerator(false)}>Cancel</Button>\n            <Button>Generate</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":36456,"size_tokens":null},"client/src/components/ui/spinner.tsx":{"content":"import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","path":null,"size_bytes":331,"size_tokens":null},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser,\n  type Note,\n  type InsertNote,\n  type Category,\n  type InsertCategory,\n  type Tag,\n  type InsertTag,\n  type Folder,\n  type InsertFolder,\n  type VerseLink,\n  type InsertVerseLink,\n  type Attachment,\n  type InsertAttachment,\n  type NoteVersion,\n  type InsertNoteVersion,\n  type NoteShare,\n  type InsertNoteShare,\n  users,\n  notes,\n  categories,\n  tags,\n  noteTags,\n  folders,\n  verseLinks,\n  attachments,\n  noteVersions,\n  noteShares,\n} from \"@shared/schema\";\nimport { drizzle } from \"drizzle-orm/node-postgres\";\nimport pkg from \"pg\";\nconst { Pool } = pkg;\nimport { eq, and, or, like, desc, sql, inArray } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User methods\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Note methods\n  getNoteById(id: string): Promise<Note | undefined>;\n  getNotesByUserId(userId: string): Promise<Note[]>;\n  getNotesByFolderId(folderId: string): Promise<Note[]>;\n  getNotesByCategoryId(categoryId: string): Promise<Note[]>;\n  searchNotes(userId: string, query: string): Promise<Note[]>;\n  createNote(note: InsertNote): Promise<Note>;\n  updateNote(id: string, note: Partial<InsertNote>): Promise<Note | undefined>;\n  deleteNote(id: string): Promise<boolean>;\n  \n  // Category methods\n  getCategoriesByUserId(userId: string): Promise<Category[]>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined>;\n  deleteCategory(id: string): Promise<boolean>;\n  \n  // Tag methods\n  getTagsByUserId(userId: string): Promise<Tag[]>;\n  getTagsByNoteId(noteId: string): Promise<Tag[]>;\n  createTag(tag: InsertTag): Promise<Tag>;\n  addTagToNote(noteId: string, tagId: string): Promise<void>;\n  removeTagFromNote(noteId: string, tagId: string): Promise<void>;\n  deleteTag(id: string): Promise<boolean>;\n  \n  // Folder methods\n  getFoldersByUserId(userId: string): Promise<Folder[]>;\n  createFolder(folder: InsertFolder): Promise<Folder>;\n  updateFolder(id: string, folder: Partial<InsertFolder>): Promise<Folder | undefined>;\n  deleteFolder(id: string): Promise<boolean>;\n  \n  // Verse link methods\n  getVerseLinksByNoteId(noteId: string): Promise<VerseLink[]>;\n  createVerseLink(verseLink: InsertVerseLink): Promise<VerseLink>;\n  deleteVerseLink(id: string): Promise<boolean>;\n  \n  // Attachment methods\n  getAttachmentsByNoteId(noteId: string): Promise<Attachment[]>;\n  createAttachment(attachment: InsertAttachment): Promise<Attachment>;\n  deleteAttachment(id: string): Promise<boolean>;\n  \n  // Version history methods\n  getVersionsByNoteId(noteId: string): Promise<NoteVersion[]>;\n  createNoteVersion(version: InsertNoteVersion): Promise<NoteVersion>;\n  \n  // Share methods\n  getSharesByNoteId(noteId: string): Promise<NoteShare[]>;\n  getSharedNotesForUser(userId: string): Promise<Note[]>;\n  createNoteShare(share: InsertNoteShare): Promise<NoteShare>;\n  deleteNoteShare(id: string): Promise<boolean>;\n}\n\nexport class DbStorage implements IStorage {\n  private db;\n\n  constructor() {\n    const pool = new Pool({\n      connectionString: process.env.DATABASE_URL,\n    });\n    this.db = drizzle(pool);\n  }\n\n  // User methods\n  async getUser(id: string): Promise<User | undefined> {\n    const result = await this.db.select().from(users).where(eq(users.id, id));\n    return result[0];\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const result = await this.db.select().from(users).where(eq(users.username, username));\n    return result[0];\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const result = await this.db.insert(users).values(insertUser).returning();\n    return result[0];\n  }\n\n  // Note methods\n  async getNoteById(id: string): Promise<Note | undefined> {\n    const result = await this.db.select().from(notes).where(eq(notes.id, id));\n    return result[0];\n  }\n\n  async getNotesByUserId(userId: string): Promise<Note[]> {\n    return await this.db\n      .select()\n      .from(notes)\n      .where(eq(notes.userId, userId))\n      .orderBy(desc(notes.updatedAt));\n  }\n\n  async getNotesByFolderId(folderId: string): Promise<Note[]> {\n    return await this.db\n      .select()\n      .from(notes)\n      .where(eq(notes.folderId, folderId))\n      .orderBy(desc(notes.updatedAt));\n  }\n\n  async getNotesByCategoryId(categoryId: string): Promise<Note[]> {\n    return await this.db\n      .select()\n      .from(notes)\n      .where(eq(notes.categoryId, categoryId))\n      .orderBy(desc(notes.updatedAt));\n  }\n\n  async searchNotes(userId: string, query: string): Promise<Note[]> {\n    const searchPattern = `%${query}%`;\n    return await this.db\n      .select()\n      .from(notes)\n      .where(\n        and(\n          eq(notes.userId, userId),\n          or(\n            like(notes.title, searchPattern),\n            like(notes.content, searchPattern)\n          )\n        )\n      )\n      .orderBy(desc(notes.updatedAt));\n  }\n\n  async createNote(note: InsertNote): Promise<Note> {\n    const result = await this.db.insert(notes).values(note).returning();\n    return result[0];\n  }\n\n  async updateNote(id: string, note: Partial<InsertNote>): Promise<Note | undefined> {\n    const result = await this.db\n      .update(notes)\n      .set({ ...note, updatedAt: new Date() })\n      .where(eq(notes.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async deleteNote(id: string): Promise<boolean> {\n    const result = await this.db.delete(notes).where(eq(notes.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Category methods\n  async getCategoriesByUserId(userId: string): Promise<Category[]> {\n    return await this.db\n      .select()\n      .from(categories)\n      .where(eq(categories.userId, userId))\n      .orderBy(categories.name);\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const result = await this.db.insert(categories).values(category).returning();\n    return result[0];\n  }\n\n  async updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined> {\n    const result = await this.db\n      .update(categories)\n      .set(category)\n      .where(eq(categories.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async deleteCategory(id: string): Promise<boolean> {\n    const result = await this.db.delete(categories).where(eq(categories.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Tag methods\n  async getTagsByUserId(userId: string): Promise<Tag[]> {\n    return await this.db\n      .select()\n      .from(tags)\n      .where(eq(tags.userId, userId))\n      .orderBy(tags.name);\n  }\n\n  async getTagsByNoteId(noteId: string): Promise<Tag[]> {\n    const result = await this.db\n      .select({\n        id: tags.id,\n        userId: tags.userId,\n        name: tags.name,\n        createdAt: tags.createdAt,\n      })\n      .from(noteTags)\n      .innerJoin(tags, eq(noteTags.tagId, tags.id))\n      .where(eq(noteTags.noteId, noteId));\n    return result;\n  }\n\n  async createTag(tag: InsertTag): Promise<Tag> {\n    const result = await this.db.insert(tags).values(tag).returning();\n    return result[0];\n  }\n\n  async addTagToNote(noteId: string, tagId: string): Promise<void> {\n    await this.db.insert(noteTags).values({ noteId, tagId });\n  }\n\n  async removeTagFromNote(noteId: string, tagId: string): Promise<void> {\n    await this.db\n      .delete(noteTags)\n      .where(and(eq(noteTags.noteId, noteId), eq(noteTags.tagId, tagId)));\n  }\n\n  async deleteTag(id: string): Promise<boolean> {\n    const result = await this.db.delete(tags).where(eq(tags.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Folder methods\n  async getFoldersByUserId(userId: string): Promise<Folder[]> {\n    return await this.db\n      .select()\n      .from(folders)\n      .where(eq(folders.userId, userId))\n      .orderBy(folders.name);\n  }\n\n  async createFolder(folder: InsertFolder): Promise<Folder> {\n    const result = await this.db.insert(folders).values(folder).returning();\n    return result[0];\n  }\n\n  async updateFolder(id: string, folder: Partial<InsertFolder>): Promise<Folder | undefined> {\n    const result = await this.db\n      .update(folders)\n      .set(folder)\n      .where(eq(folders.id, id))\n      .returning();\n    return result[0];\n  }\n\n  async deleteFolder(id: string): Promise<boolean> {\n    const result = await this.db.delete(folders).where(eq(folders.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Verse link methods\n  async getVerseLinksByNoteId(noteId: string): Promise<VerseLink[]> {\n    return await this.db\n      .select()\n      .from(verseLinks)\n      .where(eq(verseLinks.noteId, noteId))\n      .orderBy(verseLinks.book, verseLinks.chapter, verseLinks.verse);\n  }\n\n  async createVerseLink(verseLink: InsertVerseLink): Promise<VerseLink> {\n    const result = await this.db.insert(verseLinks).values(verseLink).returning();\n    return result[0];\n  }\n\n  async deleteVerseLink(id: string): Promise<boolean> {\n    const result = await this.db.delete(verseLinks).where(eq(verseLinks.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Attachment methods\n  async getAttachmentsByNoteId(noteId: string): Promise<Attachment[]> {\n    return await this.db\n      .select()\n      .from(attachments)\n      .where(eq(attachments.noteId, noteId))\n      .orderBy(attachments.createdAt);\n  }\n\n  async createAttachment(attachment: InsertAttachment): Promise<Attachment> {\n    const result = await this.db.insert(attachments).values(attachment).returning();\n    return result[0];\n  }\n\n  async deleteAttachment(id: string): Promise<boolean> {\n    const result = await this.db.delete(attachments).where(eq(attachments.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n\n  // Version history methods\n  async getVersionsByNoteId(noteId: string): Promise<NoteVersion[]> {\n    return await this.db\n      .select()\n      .from(noteVersions)\n      .where(eq(noteVersions.noteId, noteId))\n      .orderBy(desc(noteVersions.version));\n  }\n\n  async createNoteVersion(version: InsertNoteVersion): Promise<NoteVersion> {\n    const result = await this.db.insert(noteVersions).values(version).returning();\n    return result[0];\n  }\n\n  // Share methods\n  async getSharesByNoteId(noteId: string): Promise<NoteShare[]> {\n    return await this.db\n      .select()\n      .from(noteShares)\n      .where(eq(noteShares.noteId, noteId));\n  }\n\n  async getSharedNotesForUser(userId: string): Promise<Note[]> {\n    const sharedNoteIds = await this.db\n      .select({ noteId: noteShares.noteId })\n      .from(noteShares)\n      .where(eq(noteShares.sharedWithUserId, userId));\n    \n    if (sharedNoteIds.length === 0) return [];\n    \n    const noteIds = sharedNoteIds.map(s => s.noteId);\n    return await this.db\n      .select()\n      .from(notes)\n      .where(inArray(notes.id, noteIds))\n      .orderBy(desc(notes.updatedAt));\n  }\n\n  async createNoteShare(share: InsertNoteShare): Promise<NoteShare> {\n    const result = await this.db.insert(noteShares).values(share).returning();\n    return result[0];\n  }\n\n  async deleteNoteShare(id: string): Promise<boolean> {\n    const result = await this.db.delete(noteShares).where(eq(noteShares.id, id));\n    return (result.rowCount ?? 0) > 0;\n  }\n}\n\nexport const storage = new DbStorage();\n","path":null,"size_bytes":11347,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2356,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":2001,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1598,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { \n  insertNoteSchema,\n  insertCategorySchema,\n  insertTagSchema,\n  insertFolderSchema,\n  insertVerseLinkSchema,\n  insertAttachmentSchema,\n  insertNoteVersionSchema,\n  insertNoteShareSchema,\n} from \"@shared/schema\";\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  // Helper function to get userId from session\n  const getUserId = (req: any): string | null => {\n    // For now, return a default user ID for testing\n    // In production, this would come from req.session or authentication\n    return \"default-user-id\";\n  };\n\n  // ============= Note Routes =============\n  \n  // Get all notes for user\n  app.get(\"/api/notes\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const notes = await storage.getNotesByUserId(userId);\n      res.json(notes);\n    } catch (error) {\n      console.error(\"Error fetching notes:\", error);\n      res.status(500).json({ error: \"Failed to fetch notes\" });\n    }\n  });\n\n  // Get note by ID\n  app.get(\"/api/notes/:id\", async (req, res) => {\n    try {\n      const note = await storage.getNoteById(req.params.id);\n      if (!note) {\n        return res.status(404).json({ error: \"Note not found\" });\n      }\n      res.json(note);\n    } catch (error) {\n      console.error(\"Error fetching note:\", error);\n      res.status(500).json({ error: \"Failed to fetch note\" });\n    }\n  });\n\n  // Search notes\n  app.get(\"/api/notes/search/:query\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const notes = await storage.searchNotes(userId, req.params.query);\n      res.json(notes);\n    } catch (error) {\n      console.error(\"Error searching notes:\", error);\n      res.status(500).json({ error: \"Failed to search notes\" });\n    }\n  });\n\n  // Create note\n  app.post(\"/api/notes\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const validatedData = insertNoteSchema.parse({ ...req.body, userId });\n      const note = await storage.createNote(validatedData);\n      \n      // Create initial version\n      await storage.createNoteVersion({\n        noteId: note.id,\n        title: note.title,\n        content: note.content,\n        version: 1,\n      });\n      \n      res.status(201).json(note);\n    } catch (error) {\n      console.error(\"Error creating note:\", error);\n      res.status(400).json({ error: \"Failed to create note\" });\n    }\n  });\n\n  // Update note\n  app.patch(\"/api/notes/:id\", async (req, res) => {\n    try {\n      const existingNote = await storage.getNoteById(req.params.id);\n      if (!existingNote) {\n        return res.status(404).json({ error: \"Note not found\" });\n      }\n      \n      const note = await storage.updateNote(req.params.id, req.body);\n      \n      // Create version history\n      if (note) {\n        const versions = await storage.getVersionsByNoteId(note.id);\n        const nextVersion = (versions[0]?.version || 0) + 1;\n        await storage.createNoteVersion({\n          noteId: note.id,\n          title: note.title,\n          content: note.content,\n          version: nextVersion,\n        });\n      }\n      \n      res.json(note);\n    } catch (error) {\n      console.error(\"Error updating note:\", error);\n      res.status(400).json({ error: \"Failed to update note\" });\n    }\n  });\n\n  // Delete note\n  app.delete(\"/api/notes/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteNote(req.params.id);\n      if (success) {\n        res.json({ success: true });\n      } else {\n        res.status(404).json({ error: \"Note not found\" });\n      }\n    } catch (error) {\n      console.error(\"Error deleting note:\", error);\n      res.status(500).json({ error: \"Failed to delete note\" });\n    }\n  });\n\n  // ============= Category Routes =============\n  \n  app.get(\"/api/categories\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const categories = await storage.getCategoriesByUserId(userId);\n      res.json(categories);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch categories\" });\n    }\n  });\n\n  app.post(\"/api/categories\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const validatedData = insertCategorySchema.parse({ ...req.body, userId });\n      const category = await storage.createCategory(validatedData);\n      res.status(201).json(category);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create category\" });\n    }\n  });\n\n  app.patch(\"/api/categories/:id\", async (req, res) => {\n    try {\n      const category = await storage.updateCategory(req.params.id, req.body);\n      if (category) {\n        res.json(category);\n      } else {\n        res.status(404).json({ error: \"Category not found\" });\n      }\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to update category\" });\n    }\n  });\n\n  app.delete(\"/api/categories/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteCategory(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete category\" });\n    }\n  });\n\n  // ============= Tag Routes =============\n  \n  app.get(\"/api/tags\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const tags = await storage.getTagsByUserId(userId);\n      res.json(tags);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch tags\" });\n    }\n  });\n\n  app.get(\"/api/notes/:noteId/tags\", async (req, res) => {\n    try {\n      const tags = await storage.getTagsByNoteId(req.params.noteId);\n      res.json(tags);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch note tags\" });\n    }\n  });\n\n  app.post(\"/api/tags\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const validatedData = insertTagSchema.parse({ ...req.body, userId });\n      const tag = await storage.createTag(validatedData);\n      res.status(201).json(tag);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create tag\" });\n    }\n  });\n\n  app.post(\"/api/notes/:noteId/tags/:tagId\", async (req, res) => {\n    try {\n      await storage.addTagToNote(req.params.noteId, req.params.tagId);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to add tag to note\" });\n    }\n  });\n\n  app.delete(\"/api/notes/:noteId/tags/:tagId\", async (req, res) => {\n    try {\n      await storage.removeTagFromNote(req.params.noteId, req.params.tagId);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to remove tag from note\" });\n    }\n  });\n\n  app.delete(\"/api/tags/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteTag(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete tag\" });\n    }\n  });\n\n  // ============= Folder Routes =============\n  \n  app.get(\"/api/folders\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const folders = await storage.getFoldersByUserId(userId);\n      res.json(folders);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch folders\" });\n    }\n  });\n\n  app.post(\"/api/folders\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const validatedData = insertFolderSchema.parse({ ...req.body, userId });\n      const folder = await storage.createFolder(validatedData);\n      res.status(201).json(folder);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create folder\" });\n    }\n  });\n\n  app.patch(\"/api/folders/:id\", async (req, res) => {\n    try {\n      const folder = await storage.updateFolder(req.params.id, req.body);\n      if (folder) {\n        res.json(folder);\n      } else {\n        res.status(404).json({ error: \"Folder not found\" });\n      }\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to update folder\" });\n    }\n  });\n\n  app.delete(\"/api/folders/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteFolder(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete folder\" });\n    }\n  });\n\n  // ============= Verse Link Routes =============\n  \n  app.get(\"/api/notes/:noteId/verses\", async (req, res) => {\n    try {\n      const verseLinks = await storage.getVerseLinksByNoteId(req.params.noteId);\n      res.json(verseLinks);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch verse links\" });\n    }\n  });\n\n  app.post(\"/api/notes/:noteId/verses\", async (req, res) => {\n    try {\n      const validatedData = insertVerseLinkSchema.parse({ \n        ...req.body, \n        noteId: req.params.noteId \n      });\n      const verseLink = await storage.createVerseLink(validatedData);\n      res.status(201).json(verseLink);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create verse link\" });\n    }\n  });\n\n  app.delete(\"/api/verses/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteVerseLink(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete verse link\" });\n    }\n  });\n\n  // ============= Attachment Routes =============\n  \n  app.get(\"/api/notes/:noteId/attachments\", async (req, res) => {\n    try {\n      const attachments = await storage.getAttachmentsByNoteId(req.params.noteId);\n      res.json(attachments);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch attachments\" });\n    }\n  });\n\n  app.post(\"/api/notes/:noteId/attachments\", async (req, res) => {\n    try {\n      const validatedData = insertAttachmentSchema.parse({\n        ...req.body,\n        noteId: req.params.noteId,\n      });\n      const attachment = await storage.createAttachment(validatedData);\n      res.status(201).json(attachment);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create attachment\" });\n    }\n  });\n\n  app.delete(\"/api/attachments/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteAttachment(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete attachment\" });\n    }\n  });\n\n  // ============= Version History Routes =============\n  \n  app.get(\"/api/notes/:noteId/versions\", async (req, res) => {\n    try {\n      const versions = await storage.getVersionsByNoteId(req.params.noteId);\n      res.json(versions);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch versions\" });\n    }\n  });\n\n  // ============= Share Routes =============\n  \n  app.get(\"/api/notes/:noteId/shares\", async (req, res) => {\n    try {\n      const shares = await storage.getSharesByNoteId(req.params.noteId);\n      res.json(shares);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch shares\" });\n    }\n  });\n\n  app.get(\"/api/notes/shared/with-me\", async (req, res) => {\n    try {\n      const userId = getUserId(req);\n      if (!userId) {\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n      \n      const notes = await storage.getSharedNotesForUser(userId);\n      res.json(notes);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch shared notes\" });\n    }\n  });\n\n  app.post(\"/api/notes/:noteId/shares\", async (req, res) => {\n    try {\n      const validatedData = insertNoteShareSchema.parse({\n        ...req.body,\n        noteId: req.params.noteId,\n      });\n      const share = await storage.createNoteShare(validatedData);\n      res.status(201).json(share);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create share\" });\n    }\n  });\n\n  app.delete(\"/api/shares/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteNoteShare(req.params.id);\n      res.json({ success });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete share\" });\n    }\n  });\n\n  return httpServer;\n}\n","path":null,"size_bytes":13032,"size_tokens":null},"client/src/pages/landing.tsx":{"content":"import { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport Layout from \"@/components/layout\";\nimport heroImage from \"@assets/generated_images/peaceful_sunrise_landscape_for_landing_page_hero.png\";\nimport { ArrowRight, CheckCircle2, Book, Heart, Users, Play, Star } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nexport default function LandingPage() {\n  return (\n    <Layout hideSidebar>\n      <div className=\"flex flex-col min-h-screen\">\n        {/* Navigation */}\n        <nav className=\"fixed w-full z-50 bg-white/10 backdrop-blur-md border-b border-white/10\">\n          <div className=\"container mx-auto px-4 h-20 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white\">\n                <span className=\"font-serif italic text-lg\">A</span>\n              </div>\n              <span className=\"text-xl font-bold text-white tracking-tight\">Abideon</span>\n            </div>\n            \n            <div className=\"hidden md:flex items-center gap-8 text-white/80 text-sm font-medium\">\n              <a href=\"#features\" className=\"hover:text-white transition-colors\">Features</a>\n              <a href=\"#testimonials\" className=\"hover:text-white transition-colors\">Testimonials</a>\n              <a href=\"#pricing\" className=\"hover:text-white transition-colors\">Pricing</a>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <Link href=\"/login\">\n                <Button variant=\"ghost\" className=\"text-white hover:bg-white/10 hover:text-white\">Sign In</Button>\n              </Link>\n              <Link href=\"/dashboard\">\n                <Button className=\"bg-white text-primary hover:bg-white/90\">Get Started</Button>\n              </Link>\n            </div>\n          </div>\n        </nav>\n\n        {/* Hero Section */}\n        <section className=\"relative h-screen min-h-[700px] flex items-center justify-center overflow-hidden\">\n          <div className=\"absolute inset-0 z-0\">\n            <img \n              src={heroImage} \n              alt=\"Peaceful Sunrise\" \n              className=\"w-full h-full object-cover\"\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-background\"></div>\n          </div>\n\n          <div className=\"container relative z-10 px-4 pt-20 text-center\">\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.8 }}\n            >\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white mb-8\">\n                <span className=\"relative flex h-2 w-2\">\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75\"></span>\n                  <span className=\"relative inline-flex rounded-full h-2 w-2 bg-accent\"></span>\n                </span>\n                <span className=\"text-sm font-medium\">New: Study Groups are now live</span>\n              </div>\n              \n              <h1 className=\"text-5xl md:text-7xl font-bold text-white tracking-tight mb-6 max-w-4xl mx-auto leading-tight\">\n                Grow in Faith, <br/>\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-purple-200 font-serif italic\">Together.</span>\n              </h1>\n              \n              <p className=\"text-lg md:text-xl text-white/80 max-w-2xl mx-auto mb-10 leading-relaxed font-body\">\n                A comprehensive platform for Bible study, community connection, and spiritual growth. Experience faith in a modern way.\n              </p>\n              \n              <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n                <Link href=\"/dashboard\">\n                  <Button size=\"lg\" className=\"h-14 px-8 text-lg rounded-full bg-primary hover:bg-primary/90 border border-white/10 shadow-xl shadow-primary/20\">\n                    Start Your Journey\n                    <ArrowRight className=\"ml-2 h-5 w-5\" />\n                  </Button>\n                </Link>\n                <Button size=\"lg\" variant=\"outline\" className=\"h-14 px-8 text-lg rounded-full bg-white/10 backdrop-blur-md border-white/20 text-white hover:bg-white/20 border-0\">\n                  <Play className=\"mr-2 h-5 w-5\" />\n                  Watch Demo\n                </Button>\n              </div>\n            </motion.div>\n          </div>\n        </section>\n\n        {/* Features Grid */}\n        <section className=\"py-24 bg-background relative z-10\" id=\"features\">\n          <div className=\"container mx-auto px-4\">\n            <div className=\"text-center max-w-3xl mx-auto mb-16\">\n              <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">Everything needed for your spiritual walk</h2>\n              <p className=\"text-muted-foreground text-lg\">Designed to be your daily companion for prayer, study, and connection.</p>\n            </div>\n\n            <div className=\"grid md:grid-cols-3 gap-8\">\n              {[\n                {\n                  icon: Book,\n                  title: \"Digital Bible Reader\",\n                  desc: \"Distraction-free reading with multiple translations, highlighting, and smart cross-references.\"\n                },\n                {\n                  icon: Users,\n                  title: \"Community Groups\",\n                  desc: \"Connect with your church small groups, share prayer requests, and discuss scripture together.\"\n                },\n                {\n                  icon: Heart,\n                  title: \"Prayer Management\",\n                  desc: \"Organize your prayer life with lists, reminders, and shared prayer walls for your community.\"\n                }\n              ].map((feature, i) => (\n                <motion.div\n                  key={i}\n                  initial={{ opacity: 0, y: 20 }}\n                  whileInView={{ opacity: 1, y: 0 }}\n                  viewport={{ once: true }}\n                  transition={{ delay: i * 0.1 }}\n                  className=\"p-8 rounded-2xl bg-card border border-border hover:shadow-lg transition-all group\"\n                >\n                  <div className=\"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center text-primary mb-6 group-hover:scale-110 transition-transform\">\n                    <feature.icon className=\"h-6 w-6\" />\n                  </div>\n                  <h3 className=\"text-xl font-bold text-foreground mb-3\">{feature.title}</h3>\n                  <p className=\"text-muted-foreground leading-relaxed\">{feature.desc}</p>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n        </section>\n\n        {/* Social Proof */}\n        <section className=\"py-20 bg-muted/30\">\n          <div className=\"container mx-auto px-4 text-center\">\n            <p className=\"text-sm font-semibold text-muted-foreground uppercase tracking-widest mb-8\">Trusted by over 500 Churches</p>\n            <div className=\"flex flex-wrap justify-center gap-12 opacity-50 grayscale\">\n               {/* Placeholders for logos */}\n               <div className=\"text-2xl font-bold font-serif\">GraceChurch</div>\n               <div className=\"text-2xl font-bold font-serif\">LifePoint</div>\n               <div className=\"text-2xl font-bold font-serif\">TheRock</div>\n               <div className=\"text-2xl font-bold font-serif\">Cornerstone</div>\n               <div className=\"text-2xl font-bold font-serif\">Hillsong</div>\n            </div>\n          </div>\n        </section>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":7785,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7606,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2859,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/pages/plans.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Play, CheckCircle2, Flame, ArrowRight } from \"lucide-react\";\n\nexport default function ReadingPlansPage() {\n  return (\n    <Layout>\n       <div className=\"space-y-8\">\n         {/* Current Plan */}\n         <div className=\"rounded-3xl bg-primary text-primary-foreground overflow-hidden relative\">\n           <div className=\"absolute right-0 top-0 bottom-0 w-1/2 bg-gradient-to-l from-black/20 to-transparent hidden md:block\"></div>\n           <div className=\"p-8 md:p-12 relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6\">\n             <div className=\"max-w-xl\">\n               <Badge className=\"mb-4 bg-white/20 hover:bg-white/30 text-white border-none\">Current Plan</Badge>\n               <h1 className=\"text-3xl md:text-4xl font-bold mb-4\">The Gospels in 90 Days</h1>\n               <p className=\"text-primary-foreground/80 mb-6 text-lg\">\n                 Journey through the life of Jesus as recorded by Matthew, Mark, Luke, and John.\n               </p>\n               <div className=\"flex items-center gap-4 mb-6\">\n                  <div className=\"flex-1 w-full md:w-64\">\n                    <div className=\"flex justify-between text-sm mb-2 font-medium\">\n                      <span>Progress</span>\n                      <span>35%</span>\n                    </div>\n                    <Progress value={35} className=\"h-2 bg-primary-foreground/20\" />\n                  </div>\n                  <div className=\"flex items-center gap-1 text-orange-300 font-bold\">\n                    <Flame className=\"h-5 w-5 fill-current\" /> 12 Days\n                  </div>\n               </div>\n               <Button size=\"lg\" variant=\"secondary\" className=\"rounded-full px-8 font-bold\">\n                 Continue Reading <ArrowRight className=\"ml-2 h-5 w-5\" />\n               </Button>\n             </div>\n             <div className=\"hidden md:block\">\n                <div className=\"h-48 w-32 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 rotate-3 shadow-2xl flex items-center justify-center\">\n                  <span className=\"font-serif text-6xl font-bold opacity-20\">90</span>\n                </div>\n             </div>\n           </div>\n         </div>\n\n         {/* Browse Plans */}\n         <div>\n           <h2 className=\"text-2xl font-bold mb-6\">Browse Plans</h2>\n           <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n             {[\n               { title: \"Proverbs Wisdom\", days: \"31 Days\", category: \"Devotional\", img: \"https://images.unsplash.com/photo-1507692049790-de58293a469d?q=80&w=1000&auto=format&fit=crop\" },\n               { title: \"Bible in a Year\", days: \"365 Days\", category: \"Whole Bible\", img: \"https://images.unsplash.com/photo-1491841550275-ad7854e35ca6?q=80&w=1000&auto=format&fit=crop\" },\n               { title: \"Anxiety & Peace\", days: \"7 Days\", category: \"Topical\", img: \"https://images.unsplash.com/photo-1474418397713-7ede21d49118?q=80&w=1000&auto=format&fit=crop\" },\n               { title: \"Paul's Letters\", days: \"60 Days\", category: \"New Testament\", img: \"https://images.unsplash.com/photo-1455849318743-b2233052fcff?q=80&w=1000&auto=format&fit=crop\" },\n               { title: \"Psalms for Sleep\", days: \"14 Days\", category: \"Topical\", img: \"https://images.unsplash.com/photo-1519817650390-64a93db51149?q=80&w=1000&auto=format&fit=crop\" },\n               { title: \"Marriage Builder\", days: \"21 Days\", category: \"Relationships\", img: \"https://images.unsplash.com/photo-1516589178581-a709f9788a64?q=80&w=1000&auto=format&fit=crop\" },\n             ].map((plan, i) => (\n               <Card key={i} className=\"group cursor-pointer overflow-hidden hover:shadow-lg transition-all\">\n                 <div className=\"h-40 relative overflow-hidden\">\n                   <img \n                     src={plan.img} \n                     className=\"w-full h-full object-cover transition-transform group-hover:scale-105\" \n                     alt={plan.title} \n                   />\n                   <Badge className=\"absolute top-2 left-2 bg-black/60 backdrop-blur-sm hover:bg-black/70 border-none text-white\">\n                     {plan.category}\n                   </Badge>\n                 </div>\n                 <CardContent className=\"p-4\">\n                   <h3 className=\"font-bold text-lg mb-1 group-hover:text-primary transition-colors\">{plan.title}</h3>\n                   <p className=\"text-sm text-muted-foreground mb-4\">{plan.days}</p>\n                   <Button variant=\"outline\" className=\"w-full group-hover:bg-primary group-hover:text-white transition-colors\">Start Plan</Button>\n                 </CardContent>\n               </Card>\n             ))}\n           </div>\n         </div>\n       </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":5006,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":792,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1237,"size_tokens":null},"client/src/components/layout.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { \n  BookOpen, \n  Home, \n  Music, \n  Heart, \n  Calendar, \n  Settings, \n  Search,\n  Bell,\n  Menu,\n  X,\n  LogOut,\n  GraduationCap,\n  Bookmark,\n  Library,\n  Baby,\n  Sun,\n  MessageSquare,\n  PanelLeftClose,\n  PanelLeftOpen\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\n\ninterface LayoutProps {\n  children: React.ReactNode;\n  hideSidebar?: boolean;\n}\n\nexport default function Layout({ children, hideSidebar = false }: LayoutProps) {\n  const [location] = useLocation();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(true);\n\n  const navigation = [\n    { name: \"Dashboard\", href: \"/dashboard\", icon: Home },\n    { name: \"Daily Devotional\", href: \"/devotional\", icon: Sun },\n    { name: \"Bible Reader\", href: \"/bible\", icon: BookOpen },\n    { name: \"Reading Plans\", href: \"/plans\", icon: Bookmark },\n    { name: \"Courses & Learning\", href: \"/courses\", icon: GraduationCap },\n    { name: \"Audio & Sermons\", href: \"/audio\", icon: Music },\n    { name: \"Forums\", href: \"/forums\", icon: MessageSquare },\n    { name: \"Prayer\", href: \"/prayer\", icon: Heart },\n    { name: \"Study Groups\", href: \"/groups\", icon: Library },\n    { name: \"Events\", href: \"/events\", icon: Calendar },\n  ];\n\n  if (hideSidebar) {\n    return (\n      <div className=\"min-h-screen bg-background font-sans\">\n        {children}\n      </div>\n    );\n  }\n\n  const SidebarContent = ({ collapsed = false }: { collapsed?: boolean }) => (\n    <div className=\"flex flex-col h-full transition-all duration-300\">\n      <div className={cn(\"p-4 flex items-center\", collapsed ? \"justify-center\" : \"justify-between\")}>\n        <Link href=\"/dashboard\">\n          <div className={cn(\"flex items-center gap-2 transition-all duration-300\", collapsed ? \"justify-center\" : \"\")}>\n            <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white shrink-0\">\n              <span className=\"font-serif italic\">A</span>\n            </div>\n            {!collapsed && (\n              <h1 className=\"text-2xl font-bold tracking-tight text-primary cursor-pointer whitespace-nowrap overflow-hidden animate-in fade-in duration-300\">\n                Abideon\n              </h1>\n            )}\n          </div>\n        </Link>\n        {!collapsed && (\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => setIsSidebarCollapsed(true)} className=\"hidden md:flex h-8 w-8 text-muted-foreground\">\n            <PanelLeftClose className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n\n      <div className=\"flex-1 px-2 space-y-1 overflow-y-auto overflow-x-hidden scrollbar-thin\">\n        <div className=\"mb-4 py-2\">\n          {!collapsed && (\n            <p className=\"px-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 animate-in fade-in\">\n              Menu\n            </p>\n          )}\n          {collapsed && (\n             <Button \n               variant=\"ghost\" \n               size=\"icon\" \n               onClick={() => setIsSidebarCollapsed(false)} \n               className=\"mx-auto flex mb-4 h-8 w-8 text-muted-foreground hover:text-foreground\"\n               title=\"Expand Menu\"\n             >\n               <PanelLeftOpen className=\"h-4 w-4\" />\n             </Button>\n          )}\n          \n          {navigation.map((item) => {\n            const isActive = location === item.href;\n            \n            if (collapsed) {\n              return (\n                <Tooltip key={item.name}>\n                  <TooltipTrigger asChild>\n                    <Link href={item.href}>\n                      <div\n                        className={cn(\n                          \"group flex items-center justify-center p-2 my-1 rounded-xl transition-colors cursor-pointer mx-auto w-10 h-10\",\n                          isActive\n                            ? \"bg-primary/10 text-primary\"\n                            : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n                        )}\n                      >\n                        <item.icon\n                          className={cn(\n                            \"h-5 w-5 shrink-0 transition-colors\",\n                            isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-foreground\"\n                          )}\n                        />\n                      </div>\n                    </Link>\n                  </TooltipTrigger>\n                  <TooltipContent side=\"right\">\n                    <p>{item.name}</p>\n                  </TooltipContent>\n                </Tooltip>\n              );\n            }\n\n            return (\n              <Link key={item.name} href={item.href}>\n                <div\n                  className={cn(\n                    \"group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-colors cursor-pointer\",\n                    isActive\n                      ? \"bg-primary/10 text-primary\"\n                      : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n                  )}\n                >\n                  <item.icon\n                    className={cn(\n                      \"mr-3 h-5 w-5 shrink-0 transition-colors\",\n                      isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-foreground\"\n                    )}\n                  />\n                  <span className=\"whitespace-nowrap overflow-hidden text-ellipsis\">{item.name}</span>\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"p-4 border-t border-border\">\n        {collapsed ? (\n           <div className=\"flex flex-col items-center gap-2\">\n              <Link href=\"/settings\">\n                <div className={cn(\n                  \"w-10 h-10 flex items-center justify-center rounded-xl transition-colors cursor-pointer\",\n                  location === \"/settings\" ? \"bg-primary/10 text-primary\" : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n                )}>\n                   <Settings className=\"h-5 w-5\" />\n                </div>\n              </Link>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Avatar className=\"h-9 w-9 cursor-pointer hover:opacity-80\">\n                    <AvatarImage src=\"https://github.com/shadcn.png\" />\n                    <AvatarFallback>JD</AvatarFallback>\n                  </Avatar>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" side=\"right\" className=\"w-56 ml-2\">\n                  <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  <Link href=\"/settings\">\n                    <DropdownMenuItem>Profile</DropdownMenuItem>\n                  </Link>\n                  <Link href=\"/kids\">\n                    <DropdownMenuItem className=\"text-primary font-bold\">\n                      <Baby className=\"mr-2 h-4 w-4\" /> Kids Mode\n                    </DropdownMenuItem>\n                  </Link>\n                  <DropdownMenuSeparator />\n                  <Link href=\"/auth\">\n                    <DropdownMenuItem className=\"text-destructive\">\n                      <LogOut className=\"mr-2 h-4 w-4\" /> Log out\n                    </DropdownMenuItem>\n                  </Link>\n                </DropdownMenuContent>\n              </DropdownMenu>\n           </div>\n        ) : (\n          <>\n            <Link href=\"/settings\">\n              <div className={cn(\n                \"group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-colors cursor-pointer mb-1\",\n                location === \"/settings\" ? \"bg-primary/10 text-primary\" : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n              )}>\n                <Settings className=\"mr-3 h-5 w-5\" />\n                Settings\n              </div>\n            </Link>\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <div className=\"flex items-center p-4 mt-2 rounded-xl bg-muted/50 hover:bg-muted cursor-pointer transition-colors\">\n                  <Avatar className=\"h-9 w-9\">\n                    <AvatarImage src=\"https://github.com/shadcn.png\" />\n                    <AvatarFallback>JD</AvatarFallback>\n                  </Avatar>\n                  <div className=\"ml-3 overflow-hidden flex-1\">\n                    <p className=\"text-sm font-medium text-foreground truncate\">John Doe</p>\n                    <p className=\"text-xs text-muted-foreground truncate\">john@example.com</p>\n                  </div>\n                </div>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56\" side=\"top\">\n                <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <Link href=\"/settings\">\n                  <DropdownMenuItem>Profile</DropdownMenuItem>\n                </Link>\n                <Link href=\"/kids\">\n                  <DropdownMenuItem className=\"text-primary font-bold\">\n                    <Baby className=\"mr-2 h-4 w-4\" /> Kids Mode\n                  </DropdownMenuItem>\n                </Link>\n                <DropdownMenuSeparator />\n                <Link href=\"/auth\">\n                  <DropdownMenuItem className=\"text-destructive\">\n                    <LogOut className=\"mr-2 h-4 w-4\" /> Log out\n                  </DropdownMenuItem>\n                </Link>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </>\n        )}\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-background font-sans flex\">\n      {/* Desktop Sidebar */}\n      <div className={cn(\n        \"hidden md:flex md:flex-col md:fixed md:inset-y-0 border-r border-border bg-card/50 backdrop-blur-sm z-50 transition-all duration-300\",\n        isSidebarCollapsed ? \"md:w-20\" : \"md:w-64\"\n      )}>\n        <SidebarContent collapsed={isSidebarCollapsed} />\n      </div>\n\n      {/* Mobile Header */}\n      <div className=\"md:hidden fixed top-0 left-0 right-0 h-16 border-b border-border bg-background/80 backdrop-blur-md z-40 flex items-center justify-between px-4\">\n        <Link href=\"/dashboard\">\n          <h1 className=\"text-xl font-bold text-primary flex items-center gap-2\">\n            <div className=\"w-6 h-6 bg-primary rounded-md flex items-center justify-center text-white text-xs\">\n              <span className=\"font-serif italic\">A</span>\n            </div>\n            Abideon\n          </h1>\n        </Link>\n        <Sheet open={isMobileMenuOpen} onOpenChange={setIsMobileMenuOpen}>\n          <SheetTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\">\n              <Menu className=\"h-6 w-6\" />\n            </Button>\n          </SheetTrigger>\n          <SheetContent side=\"left\" className=\"p-0 w-64\">\n            <SidebarContent collapsed={false} />\n          </SheetContent>\n        </Sheet>\n      </div>\n\n      {/* Main Content */}\n      <div className={cn(\n        \"flex-1 flex flex-col min-h-screen transition-all duration-300\",\n        isSidebarCollapsed ? \"md:pl-20\" : \"md:pl-64\"\n      )}>\n        {/* Top Bar */}\n        <header className=\"sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-border bg-background/80 backdrop-blur-md px-6 justify-between md:justify-end\">\n           <div className=\"hidden md:flex items-center flex-1 max-w-xl relative\">\n             <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n             <input \n               type=\"text\" \n               placeholder=\"Search scripture, sermons, people...\" \n               className=\"w-full h-10 pl-10 pr-4 rounded-full bg-muted/50 border-none focus:ring-2 focus:ring-primary/20 text-sm placeholder:text-muted-foreground\"\n             />\n           </div>\n\n           <div className=\"flex items-center gap-4\">\n             <Button variant=\"ghost\" size=\"icon\" className=\"relative text-muted-foreground hover:text-primary\">\n               <Bell className=\"h-5 w-5\" />\n               <span className=\"absolute top-2 right-2 h-2 w-2 bg-destructive rounded-full border-2 border-background\"></span>\n             </Button>\n           </div>\n        </header>\n\n        <main className=\"flex-1 p-4 md:p-6 lg:p-8 overflow-x-hidden\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":12917,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2143,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1410,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/notes/NoteDialog.tsx":{"content":"import { useState, useEffect } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { RichTextEditor } from './RichTextEditor'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { X, Plus, BookOpen, ChevronRight } from 'lucide-react'\nimport type { Note, Category, Tag } from '@shared/schema'\n\ninterface NoteDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  note?: Note | null\n  categories: Category[]\n  tags: Tag[]\n  onSave: (data: any) => void\n  onCreateCategory: (name: string, color: string) => void\n  onCreateTag: (name: string) => void\n}\n\nconst COLOR_OPTIONS = [\n  { value: 'yellow', label: 'Yellow', class: 'bg-yellow-100 border-yellow-200 text-yellow-800' },\n  { value: 'blue', label: 'Blue', class: 'bg-blue-100 border-blue-200 text-blue-800' },\n  { value: 'green', label: 'Green', class: 'bg-green-100 border-green-200 text-green-800' },\n  { value: 'red', label: 'Red', class: 'bg-red-100 border-red-200 text-red-800' },\n  { value: 'purple', label: 'Purple', class: 'bg-purple-100 border-purple-200 text-purple-800' },\n  { value: 'pink', label: 'Pink', class: 'bg-pink-100 border-pink-200 text-pink-800' },\n  { value: 'gray', label: 'Gray', class: 'bg-gray-100 border-gray-200 text-gray-800' },\n]\n\nconst TEMPLATE_OPTIONS = [\n  { value: '', label: 'None' },\n  { value: 'sermon', label: 'Sermon Notes' },\n  { value: 'study', label: 'Bible Study' },\n  { value: 'devotional', label: 'Devotional' },\n  { value: 'prayer', label: 'Prayer Request' },\n]\n\n// Bible books for verse linking\nconst BIBLE_BOOKS = [\n  // Old Testament\n  'Genesis', 'Exodus', 'Leviticus', 'Numbers', 'Deuteronomy',\n  'Joshua', 'Judges', 'Ruth', '1 Samuel', '2 Samuel',\n  '1 Kings', '2 Kings', '1 Chronicles', '2 Chronicles',\n  'Ezra', 'Nehemiah', 'Esther', 'Job', 'Psalms', 'Proverbs',\n  'Ecclesiastes', 'Song of Solomon', 'Isaiah', 'Jeremiah', 'Lamentations',\n  'Ezekiel', 'Daniel', 'Hosea', 'Joel', 'Amos', 'Obadiah',\n  'Jonah', 'Micah', 'Nahum', 'Habakkuk', 'Zephaniah', 'Haggai',\n  'Zechariah', 'Malachi',\n  // New Testament\n  'Matthew', 'Mark', 'Luke', 'John', 'Acts',\n  'Romans', '1 Corinthians', '2 Corinthians', 'Galatians', 'Ephesians',\n  'Philippians', 'Colossians', '1 Thessalonians', '2 Thessalonians',\n  '1 Timothy', '2 Timothy', 'Titus', 'Philemon', 'Hebrews',\n  'James', '1 Peter', '2 Peter', '1 John', '2 John', '3 John',\n  'Jude', 'Revelation',\n]\n\n// Chapter counts per book (simplified - using common counts)\nconst CHAPTER_COUNTS: Record<string, number> = {\n  'Genesis': 50, 'Exodus': 40, 'Leviticus': 27, 'Numbers': 36, 'Deuteronomy': 34,\n  'Joshua': 24, 'Judges': 21, 'Ruth': 4, '1 Samuel': 31, '2 Samuel': 24,\n  '1 Kings': 22, '2 Kings': 25, '1 Chronicles': 29, '2 Chronicles': 36,\n  'Ezra': 10, 'Nehemiah': 13, 'Esther': 10, 'Job': 42, 'Psalms': 150, 'Proverbs': 31,\n  'Ecclesiastes': 12, 'Song of Solomon': 8, 'Isaiah': 66, 'Jeremiah': 52, 'Lamentations': 5,\n  'Ezekiel': 48, 'Daniel': 12, 'Hosea': 14, 'Joel': 3, 'Amos': 9, 'Obadiah': 1,\n  'Jonah': 4, 'Micah': 7, 'Nahum': 3, 'Habakkuk': 3, 'Zephaniah': 3, 'Haggai': 2,\n  'Zechariah': 14, 'Malachi': 4,\n  'Matthew': 28, 'Mark': 16, 'Luke': 24, 'John': 21, 'Acts': 28,\n  'Romans': 16, '1 Corinthians': 16, '2 Corinthians': 13, 'Galatians': 6, 'Ephesians': 6,\n  'Philippians': 4, 'Colossians': 4, '1 Thessalonians': 5, '2 Thessalonians': 3,\n  '1 Timothy': 6, '2 Timothy': 4, 'Titus': 3, 'Philemon': 1, 'Hebrews': 13,\n  'James': 5, '1 Peter': 5, '2 Peter': 3, '1 John': 5, '2 John': 1, '3 John': 1,\n  'Jude': 1, 'Revelation': 22,\n}\n\ninterface VerseLink {\n  id: string\n  book: string\n  chapter: number\n  verse?: number\n  verseEnd?: number\n}\n\nexport function NoteDialog({\n  open,\n  onOpenChange,\n  note,\n  categories,\n  tags,\n  onSave,\n  onCreateCategory,\n  onCreateTag,\n}: NoteDialogProps) {\n  const [title, setTitle] = useState('')\n  const [content, setContent] = useState('')\n  const [categoryId, setCategoryId] = useState<string>('')\n  const [color, setColor] = useState('')\n  const [template, setTemplate] = useState('')\n  const [selectedTags, setSelectedTags] = useState<string[]>([])\n  const [newTagName, setNewTagName] = useState('')\n  \n  // Verse linking state\n  const [verseLinks, setVerseLinks] = useState<VerseLink[]>([])\n  const [verseLinkOpen, setVerseLinkOpen] = useState(false)\n  const [selectedBook, setSelectedBook] = useState('')\n  const [selectedChapter, setSelectedChapter] = useState<number | null>(null)\n  const [selectedVerse, setSelectedVerse] = useState('')\n  const [selectedVerseEnd, setSelectedVerseEnd] = useState('')\n\n  useEffect(() => {\n    if (note) {\n      setTitle(note.title)\n      setContent(note.content)\n      setCategoryId(note.categoryId || '')\n      setColor(note.color || '')\n      setTemplate(note.template || '')\n      // Mock verse links for editing\n      setVerseLinks([])\n    } else {\n      setTitle('')\n      setContent('')\n      setCategoryId('')\n      setColor('')\n      setTemplate('')\n      setSelectedTags([])\n      setVerseLinks([])\n    }\n  }, [note, open])\n\n  const handleSave = () => {\n    onSave({\n      title,\n      content,\n      categoryId: categoryId || null,\n      color: color || null,\n      template: template || null,\n      isStandalone: false,\n      tags: selectedTags,\n      verseLinks, // Include verse links in save data\n    })\n    onOpenChange(false)\n  }\n\n  const handleAddTag = () => {\n    if (newTagName.trim()) {\n      onCreateTag(newTagName.trim())\n      setNewTagName('')\n    }\n  }\n\n  const toggleTag = (tagId: string) => {\n    setSelectedTags((prev) =>\n      prev.includes(tagId) ? prev.filter((id) => id !== tagId) : [...prev, tagId]\n    )\n  }\n  \n  // Verse linking functions\n  const handleAddVerseLink = () => {\n    if (selectedBook && selectedChapter) {\n      const newLink: VerseLink = {\n        id: Date.now().toString(),\n        book: selectedBook,\n        chapter: selectedChapter,\n        verse: selectedVerse ? parseInt(selectedVerse) : undefined,\n        verseEnd: selectedVerseEnd ? parseInt(selectedVerseEnd) : undefined,\n      }\n      setVerseLinks(prev => [...prev, newLink])\n      // Reset selections\n      setSelectedBook('')\n      setSelectedChapter(null)\n      setSelectedVerse('')\n      setSelectedVerseEnd('')\n      setVerseLinkOpen(false)\n    }\n  }\n  \n  const handleRemoveVerseLink = (id: string) => {\n    setVerseLinks(prev => prev.filter(link => link.id !== id))\n  }\n  \n  const formatVerseLink = (link: VerseLink) => {\n    let ref = `${link.book} ${link.chapter}`\n    if (link.verse) {\n      ref += `:${link.verse}`\n      if (link.verseEnd && link.verseEnd > link.verse) {\n        ref += `-${link.verseEnd}`\n      }\n    }\n    return ref\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle data-testid=\"text-note-dialog-title\">\n            {note ? 'Edit Note' : 'Create New Note'}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"title\">Title</Label>\n            <Input\n              id=\"title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Note title...\"\n              data-testid=\"input-note-title\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"category\">Category</Label>\n              <Select value={categoryId} onValueChange={setCategoryId}>\n                <SelectTrigger id=\"category\" data-testid=\"select-note-category\">\n                  <SelectValue placeholder=\"Select category\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">No Category</SelectItem>\n                  {categories.map((cat) => (\n                    <SelectItem key={cat.id} value={cat.id}>\n                      {cat.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"color\">Color</Label>\n              <Select value={color} onValueChange={setColor}>\n                <SelectTrigger id=\"color\" data-testid=\"select-note-color\">\n                  <SelectValue placeholder=\"Select color\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">No Color</SelectItem>\n                  {COLOR_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"template\">Template</Label>\n            <Select value={template} onValueChange={setTemplate}>\n              <SelectTrigger id=\"template\" data-testid=\"select-note-template\">\n                <SelectValue placeholder=\"Select template\" />\n              </SelectTrigger>\n              <SelectContent>\n                {TEMPLATE_OPTIONS.map((opt) => (\n                  <SelectItem key={opt.value} value={opt.value}>\n                    {opt.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          \n          {/* Verse Linking Section */}\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              <BookOpen className=\"h-4 w-4\" />\n              Linked Bible Verses\n            </Label>\n            \n            {/* Display linked verses */}\n            {verseLinks.length > 0 && (\n              <div className=\"flex flex-wrap gap-2 mb-2\">\n                {verseLinks.map(link => (\n                  <Badge \n                    key={link.id} \n                    variant=\"secondary\" \n                    className=\"gap-1 pr-1\"\n                    data-testid={`badge-verse-${link.id}`}\n                  >\n                    <BookOpen className=\"h-3 w-3\" />\n                    {formatVerseLink(link)}\n                    <Button\n                      type=\"button\"\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      className=\"h-4 w-4 p-0 ml-1\"\n                      onClick={() => handleRemoveVerseLink(link.id)}\n                      data-testid={`button-remove-verse-${link.id}`}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </Button>\n                  </Badge>\n                ))}\n              </div>\n            )}\n            \n            {/* Add verse link popover */}\n            <Popover open={verseLinkOpen} onOpenChange={setVerseLinkOpen}>\n              <PopoverTrigger asChild>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"gap-1\"\n                  data-testid=\"button-add-verse-link\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Link a Bible Verse\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-80\" align=\"start\">\n                <div className=\"space-y-3\">\n                  <div className=\"font-medium text-sm\">Select Bible Reference</div>\n                  \n                  {/* Book Selection */}\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-xs text-muted-foreground\">Book</Label>\n                    <Select value={selectedBook} onValueChange={(v) => { setSelectedBook(v); setSelectedChapter(null); }}>\n                      <SelectTrigger data-testid=\"select-verse-book\">\n                        <SelectValue placeholder=\"Select book\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <ScrollArea className=\"h-60\">\n                          {BIBLE_BOOKS.map(book => (\n                            <SelectItem key={book} value={book}>{book}</SelectItem>\n                          ))}\n                        </ScrollArea>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  {/* Chapter Selection */}\n                  {selectedBook && (\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">Chapter</Label>\n                      <Select \n                        value={selectedChapter?.toString() || ''} \n                        onValueChange={(v) => setSelectedChapter(parseInt(v))}\n                      >\n                        <SelectTrigger data-testid=\"select-verse-chapter\">\n                          <SelectValue placeholder=\"Select chapter\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <ScrollArea className=\"h-40\">\n                            {Array.from({ length: CHAPTER_COUNTS[selectedBook] || 1 }, (_, i) => (\n                              <SelectItem key={i + 1} value={(i + 1).toString()}>\n                                Chapter {i + 1}\n                              </SelectItem>\n                            ))}\n                          </ScrollArea>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  )}\n                  \n                  {/* Verse Range */}\n                  {selectedChapter && (\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">Verse (optional)</Label>\n                      <div className=\"flex items-center gap-2\">\n                        <Input\n                          type=\"number\"\n                          min=\"1\"\n                          placeholder=\"From\"\n                          value={selectedVerse}\n                          onChange={(e) => setSelectedVerse(e.target.value)}\n                          className=\"w-20\"\n                          data-testid=\"input-verse-start\"\n                        />\n                        <span className=\"text-muted-foreground\">-</span>\n                        <Input\n                          type=\"number\"\n                          min=\"1\"\n                          placeholder=\"To\"\n                          value={selectedVerseEnd}\n                          onChange={(e) => setSelectedVerseEnd(e.target.value)}\n                          className=\"w-20\"\n                          data-testid=\"input-verse-end\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Preview and Add button */}\n                  {selectedBook && selectedChapter && (\n                    <div className=\"pt-2 border-t border-border\">\n                      <div className=\"text-sm mb-2 flex items-center gap-1\">\n                        <ChevronRight className=\"h-3 w-3\" />\n                        <span className=\"text-muted-foreground\">Preview:</span>\n                        <span className=\"font-medium\">\n                          {selectedBook} {selectedChapter}\n                          {selectedVerse && `:${selectedVerse}`}\n                          {selectedVerseEnd && selectedVerse && `-${selectedVerseEnd}`}\n                        </span>\n                      </div>\n                      <Button\n                        type=\"button\"\n                        size=\"sm\"\n                        className=\"w-full\"\n                        onClick={handleAddVerseLink}\n                        data-testid=\"button-confirm-verse-link\"\n                      >\n                        Add Verse Link\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </PopoverContent>\n            </Popover>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Tags</Label>\n            <div className=\"flex flex-wrap gap-2 mb-2\">\n              {tags.map((tag) => (\n                <Badge\n                  key={tag.id}\n                  variant={selectedTags.includes(tag.id) ? 'default' : 'outline'}\n                  className=\"cursor-pointer hover-elevate\"\n                  onClick={() => toggleTag(tag.id)}\n                  data-testid={`badge-tag-${tag.name}`}\n                >\n                  {tag.name}\n                  {selectedTags.includes(tag.id) && (\n                    <X className=\"ml-1 h-3 w-3\" />\n                  )}\n                </Badge>\n              ))}\n            </div>\n            <div className=\"flex gap-2\">\n              <Input\n                value={newTagName}\n                onChange={(e) => setNewTagName(e.target.value)}\n                placeholder=\"New tag name...\"\n                onKeyPress={(e) => e.key === 'Enter' && handleAddTag()}\n                data-testid=\"input-new-tag\"\n              />\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                onClick={handleAddTag}\n                data-testid=\"button-add-tag\"\n              >\n                <Plus className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Content</Label>\n            <RichTextEditor content={content} onChange={setContent} />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            data-testid=\"button-cancel-note\"\n          >\n            Cancel\n          </Button>\n          <Button onClick={handleSave} data-testid=\"button-save-note\">\n            {note ? 'Update Note' : 'Create Note'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","path":null,"size_bytes":18389,"size_tokens":null},"replit.md":{"content":"# Abideon - Christian Web Application\n\n## Overview\n\nAbideon is a comprehensive Christian web application that combines Bible study, audio streaming, community features, learning, and church integration. The application provides a modern, sleek, and intuitive interface for spiritual growth and community engagement.\n\nThe platform is built as a full-stack TypeScript application with a React frontend and Express backend, designed to be mobile-first, accessible (WCAG 2.1 AAA compliant), and spiritually sophisticated without feeling dated.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build System:**\n- React 18 with TypeScript for type safety and developer experience\n- Vite as the build tool and development server for fast HMR and optimized production builds\n- Wouter for lightweight client-side routing (alternative to React Router)\n- TanStack Query (React Query) for server state management and data fetching\n\n**UI Component System:**\n- Radix UI primitives for accessible, unstyled components\n- Shadcn/ui component library with \"new-york\" style variant\n- Tailwind CSS v4 for utility-first styling with custom design tokens\n- Framer Motion for animations and transitions\n- Custom CSS variables for theming (light/dark mode support)\n\n**Styling Approach:**\n- CSS variables for dynamic theming (`--background`, `--foreground`, `--primary`, etc.)\n- Custom utility classes like `hover-elevate` and `active-elevate-2` for consistent micro-interactions\n- Responsive design with mobile-first breakpoints\n- Font stack: Outfit (headings), Open Sans (body), Lora (serif/scripture)\n\n**Rich Text Editing:**\n- TipTap editor for note-taking functionality\n- Extensions: Tables, Code blocks with syntax highlighting (lowlight), Text alignment, Links, Color, Highlights\n- Supports formatted Bible study notes with verse references\n\n**Key Frontend Features:**\n- Bible reader with multiple translations, highlighting, annotations, and bookmarks\n- Audio streaming for sermons and worship music\n- Community feeds and social interactions\n- Prayer journal with privacy controls\n- Reading plans with progress tracking\n- Course learning platform\n- Events and group management\n- Kids mode with gamification\n\n### Backend Architecture\n\n**Server Framework:**\n- Express.js for HTTP routing and middleware\n- Node.js with ES modules (type: \"module\" in package.json)\n- TypeScript for type safety across the stack\n- HTTP server created with Node's `http` module for potential WebSocket upgrades\n\n**Development vs Production:**\n- Development: Vite middleware mode with HMR at `/vite-hmr`\n- Production: Compiled with esbuild, static file serving from `dist/public`\n- Custom build script bundles allowlisted dependencies to reduce cold start times\n\n**API Design:**\n- RESTful endpoints under `/api/*` namespace\n- JSON request/response format with error handling\n- Session-based authentication (placeholder user ID for development)\n- Request logging with timing and status code tracking\n\n**Data Layer:**\n- Drizzle ORM for type-safe database queries\n- PostgreSQL as the primary database (configured via `DATABASE_URL`)\n- Schema-first approach with Zod validation\n- Migrations stored in `./migrations` directory\n\n### Database Schema\n\n**Core Entities:**\n\n1. **Users** - Authentication and profile data\n   - Username/password credentials\n   - UUID primary keys\n\n2. **Notes** - Bible study annotations\n   - Rich text content (JSONB)\n   - Verse references\n   - Privacy levels (private, friends, public)\n   - Color coding for organization\n   - Pinning and favoriting\n   - Soft deletion support\n\n3. **Categories** - Note organization\n   - User-specific color-coded categories\n   - One-to-many relationship with notes\n\n4. **Tags** - Flexible note tagging\n   - Many-to-many relationship with notes via `noteTags` junction table\n\n5. **Folders** - Hierarchical note organization\n   - Self-referencing parent-child structure\n   - Cascade deletion\n\n6. **Verse Links** - Bible reference tracking\n   - Links notes to specific Bible verses\n   - Supports multiple verses per note\n\n7. **Attachments** - File uploads for notes\n   - File type and size tracking\n   - URL storage\n\n8. **Note Versions** - Version history\n   - Tracks content changes over time\n   - Enables rollback functionality\n\n9. **Note Shares** - Collaboration\n   - Share notes with specific users\n   - Permission levels (view, edit)\n\n**Data Access Pattern:**\n- Storage interface abstraction layer (`IStorage`)\n- Methods for CRUD operations on all entities\n- Supports complex queries (search, filtering, relationships)\n\n### External Dependencies\n\n**UI & Styling:**\n- @radix-ui/* - Accessible UI primitives (accordion, dialog, dropdown, etc.)\n- tailwindcss - Utility-first CSS framework\n- lucide-react - Icon library\n- framer-motion - Animation library\n- class-variance-authority & clsx - Dynamic className utilities\n\n**Data Management:**\n- @tanstack/react-query - Server state management\n- drizzle-orm - TypeScript ORM\n- drizzle-kit - Database migration tool\n- pg (node-postgres) - PostgreSQL client\n- zod - Schema validation\n\n**Rich Text Editing:**\n- @tiptap/react - Headless editor framework\n- @tiptap/starter-kit - Essential editor extensions\n- @tiptap/extension-* - Additional formatting capabilities\n\n**Forms & Validation:**\n- react-hook-form - Form state management\n- @hookform/resolvers - Form validation resolvers\n- zod-validation-error - Human-readable validation errors\n\n**Development Tools:**\n- @replit/vite-plugin-* - Replit-specific development enhancements\n- tsx - TypeScript execution for Node.js\n- esbuild - Fast JavaScript bundler\n- vite - Frontend build tool\n\n**Build & Deployment:**\n- Custom build pipeline compiles both client (Vite) and server (esbuild)\n- Allowlisted dependencies bundled to reduce syscalls on cold starts\n- Static assets served from `dist/public` in production\n- Environment-based configuration (NODE_ENV, DATABASE_URL, REPL_ID)\n\n**Image & Asset Management:**\n- Custom Vite plugin for meta tag OG images (`vite-plugin-meta-images.ts`)\n- Supports opengraph images in multiple formats (PNG, JPG, JPEG)\n- Auto-detects Replit deployment domain\n\n**Planned Integrations:**\n- Authentication providers: Google, Facebook, Apple (OAuth)\n- Email service: nodemailer (in dependencies)\n- Payment processing: Stripe\n- AI capabilities: OpenAI, Google Generative AI\n\n## Recent Changes\n\n### December 5, 2025 - Comprehensive Responsive Polish & QA Readiness\n- **FullPagePlayer responsive improvements:**\n  - Album art responsive sizing (180px mobile → 240px tablet → 320px desktop)\n  - Title typography scaling with text-lg/xl/2xl/3xl across breakpoints\n  - Action buttons with mobile-friendly sizing and visibility toggling\n  - Volume/speed controls stack vertically on mobile, inline on desktop\n  - Comments/notes sections with responsive spacing\n- **Preachers/Churches tabs:**\n  - Compact card layout with smaller avatars on mobile (h-12 → h-14 → h-16)\n  - Responsive padding and gaps\n  - Icon-only subscribe button on mobile\n- **History tab:**\n  - Continue/recently played cards with mobile-friendly sizing\n  - Resume button shows icon-only on mobile, text on desktop\n  - Done badge shows icon-only on mobile\n- **Data-testid coverage:**\n  - Mobile player controls: button-play-mobile, button-skip-mobile\n  - Resume buttons: button-resume-{id}, button-resume-mobile-{id}\n  - History cards: card-continue-{id}, card-recently-played-{id}\n  - Sermon card actions: button-bookmark-{id}, button-download-{id}, button-sermon-menu-{id}\n  - All dropdown menu items properly tagged for QA\n\n### December 4, 2025 - Audio & Sermons Page Responsive Redesign\n- **Complete rewrite** of the Audio page (`client/src/pages/audio.tsx`) for full responsiveness\n- **Layout improvements:**\n  - Full-height flex column layout that works across all screen sizes\n  - Horizontally scrollable tabs on mobile with proper icons\n  - Category filter pills scroll horizontally instead of wrapping\n- **Mobile optimizations:**\n  - Sermon cards with responsive sizing (w-20/w-28/w-32 for thumbnails)\n  - Queue panel shows on desktop, accessible via Sheet on mobile/tablet\n  - Filter options in a Sheet for mobile\n  - Full-screen player Sheet when tapping the mini player\n- **Player bar:**\n  - Desktop: Full controls with play/pause, skip, shuffle, repeat, volume, playback speed\n  - Mobile: Compact player bar with tap-to-expand full player\n- **Sidebar:** Set to collapsed by default so menu icon is always visible","path":null,"size_bytes":8522,"size_tokens":null},"client/src/components/notes/RichTextEditor.tsx":{"content":"import { useEditor, EditorContent } from '@tiptap/react'\nimport StarterKit from '@tiptap/starter-kit'\nimport Underline from '@tiptap/extension-underline'\nimport TextAlign from '@tiptap/extension-text-align'\nimport Link from '@tiptap/extension-link'\nimport { TextStyle } from '@tiptap/extension-text-style'\nimport { Color } from '@tiptap/extension-color'\nimport { Highlight } from '@tiptap/extension-highlight'\nimport { Table } from '@tiptap/extension-table'\nimport { TableRow } from '@tiptap/extension-table-row'\nimport { TableCell } from '@tiptap/extension-table-cell'\nimport { TableHeader } from '@tiptap/extension-table-header'\nimport {\n  Bold,\n  Italic,\n  Underline as UnderlineIcon,\n  Strikethrough,\n  Heading1,\n  Heading2,\n  Heading3,\n  List,\n  ListOrdered,\n  Quote,\n  Code,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  Link as LinkIcon,\n  Table as TableIcon,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\n\ninterface RichTextEditorProps {\n  content: string\n  onChange: (content: string) => void\n  placeholder?: string\n}\n\nexport function RichTextEditor({ content, onChange, placeholder }: RichTextEditorProps) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        heading: {\n          levels: [1, 2, 3],\n        },\n      }),\n      Underline,\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Link.configure({\n        openOnClick: false,\n      }),\n      TextStyle,\n      Color,\n      Highlight.configure({\n        multicolor: true,\n      }),\n      Table.configure({\n        resizable: true,\n      }),\n      TableRow,\n      TableHeader,\n      TableCell,\n    ],\n    content,\n    onUpdate: ({ editor }) => {\n      onChange(editor.getHTML())\n    },\n    editorProps: {\n      attributes: {\n        class: 'prose prose-sm max-w-none focus:outline-none min-h-[200px] p-3',\n      },\n    },\n  })\n\n  if (!editor) {\n    return null\n  }\n\n  const addLink = () => {\n    const url = window.prompt('Enter URL')\n    if (url) {\n      editor.chain().focus().setLink({ href: url }).run()\n    }\n  }\n\n  return (\n    <div className=\"border border-border rounded-md\">\n      <div className=\"border-b border-border p-2 flex flex-wrap gap-1 bg-muted/30\">\n        <div className=\"flex gap-0.5\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('bold') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleBold().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-bold\"\n          >\n            <Bold className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('italic') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleItalic().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-italic\"\n          >\n            <Italic className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('underline') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleUnderline().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-underline\"\n          >\n            <UnderlineIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('strike') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleStrike().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-strike\"\n          >\n            <Strikethrough className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-8\" />\n\n        <div className=\"flex gap-0.5\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('heading', { level: 1 }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-h1\"\n          >\n            <Heading1 className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('heading', { level: 2 }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-h2\"\n          >\n            <Heading2 className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('heading', { level: 3 }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-h3\"\n          >\n            <Heading3 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-8\" />\n\n        <div className=\"flex gap-0.5\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('bulletList') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleBulletList().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-bulletlist\"\n          >\n            <List className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('orderedList') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleOrderedList().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-orderedlist\"\n          >\n            <ListOrdered className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-8\" />\n\n        <div className=\"flex gap-0.5\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive({ textAlign: 'left' }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().setTextAlign('left').run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-alignleft\"\n          >\n            <AlignLeft className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive({ textAlign: 'center' }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().setTextAlign('center').run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-aligncenter\"\n          >\n            <AlignCenter className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive({ textAlign: 'right' }) ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().setTextAlign('right').run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-alignright\"\n          >\n            <AlignRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-8\" />\n\n        <div className=\"flex gap-0.5\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('blockquote') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleBlockquote().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-quote\"\n          >\n            <Quote className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('codeBlock') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().toggleCodeBlock().run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-code\"\n          >\n            <Code className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('link') ? 'secondary' : 'ghost'}\n            onClick={addLink}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-link\"\n          >\n            <LinkIcon className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant={editor.isActive('table') ? 'secondary' : 'ghost'}\n            onClick={() => editor.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run()}\n            className=\"h-8 w-8 p-0\"\n            data-testid=\"button-format-table\"\n          >\n            <TableIcon className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      <EditorContent editor={editor} />\n    </div>\n  )\n}\n","path":null,"size_bytes":8971,"size_tokens":null},"client/src/components/notes/NotesList.tsx":{"content":"import { useState, useRef } from 'react'\nimport { useQuery, useMutation } from '@tanstack/react-query'\nimport { queryClient, apiRequest } from '@/lib/queryClient'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Badge } from '@/components/ui/badge'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Calendar } from '@/components/ui/calendar'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n  DialogDescription,\n} from '@/components/ui/dialog'\nimport { Label } from '@/components/ui/label'\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { useToast } from '@/hooks/use-toast'\nimport { \n  FileText, \n  Plus, \n  MoreHorizontal, \n  Search, \n  Edit, \n  Trash, \n  Download, \n  Star,\n  StarOff,\n  CheckSquare,\n  Square,\n  X,\n  Filter,\n  Calendar as CalendarIcon,\n  Share2,\n  Users,\n  FolderInput,\n  Tag,\n  BookOpen,\n  ArrowUpDown,\n  ArrowUp,\n  ArrowDown,\n  Folder,\n  FolderPlus,\n  History,\n  RotateCcw,\n  Printer,\n  Archive,\n  ArchiveRestore,\n  FileJson,\n  FileDown,\n  ChevronRight,\n  FolderOpen,\n  Pencil,\n} from 'lucide-react'\nimport { NoteDialog } from './NoteDialog'\nimport type { Note, Category, Tag as TagType } from '@shared/schema'\nimport { formatDistanceToNow, format } from 'date-fns'\n\nconst COLOR_MAP: Record<string, string> = {\n  yellow: 'bg-yellow-100 border-yellow-200 text-yellow-800 dark:bg-yellow-900 dark:border-yellow-700 dark:text-yellow-100',\n  blue: 'bg-blue-100 border-blue-200 text-blue-800 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-100',\n  green: 'bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100',\n  red: 'bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-100',\n  purple: 'bg-purple-100 border-purple-200 text-purple-800 dark:bg-purple-900 dark:border-purple-700 dark:text-purple-100',\n  pink: 'bg-pink-100 border-pink-200 text-pink-800 dark:bg-pink-900 dark:border-pink-700 dark:text-pink-100',\n  gray: 'bg-gray-100 border-gray-200 text-gray-800 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100',\n}\n\nconst COLOR_OPTIONS = ['yellow', 'blue', 'green', 'red', 'purple', 'pink', 'gray']\n\ninterface NotesListProps {\n  verseReference?: string\n}\n\ninterface MockVerseLink {\n  id: string\n  book: string\n  chapter: number\n  verse?: number\n  verseEnd?: number\n}\n\ninterface MockShare {\n  id: string\n  email: string\n  name: string\n  avatar?: string\n  permission: 'view' | 'edit'\n}\n\ninterface MockFolder {\n  id: string\n  name: string\n  parentId: string | null\n  noteIds: string[]\n}\n\ninterface MockVersion {\n  id: string\n  noteId: string\n  title: string\n  content: string\n  version: number\n  createdAt: Date\n}\n\ntype SortOption = 'date-desc' | 'date-asc' | 'title-asc' | 'title-desc' | 'category'\n\nexport function NotesList({ verseReference }: NotesListProps) {\n  const { toast } = useToast()\n  const printRef = useRef<HTMLDivElement>(null)\n  \n  const [searchQuery, setSearchQuery] = useState('')\n  const [dialogOpen, setDialogOpen] = useState(false)\n  const [editingNote, setEditingNote] = useState<Note | null>(null)\n  \n  // Sorting State\n  const [sortOption, setSortOption] = useState<SortOption>('date-desc')\n  \n  // Advanced Filters State\n  const [showFilters, setShowFilters] = useState(false)\n  const [filterCategory, setFilterCategory] = useState<string>('')\n  const [filterTag, setFilterTag] = useState<string>('')\n  const [filterColor, setFilterColor] = useState<string>('')\n  const [filterDateFrom, setFilterDateFrom] = useState<Date | undefined>()\n  const [filterDateTo, setFilterDateTo] = useState<Date | undefined>()\n  \n  // Archive State\n  const [showArchived, setShowArchived] = useState(false)\n  const [archivedNotes, setArchivedNotes] = useState<Set<string>>(new Set())\n  \n  // Favorites/Pinned State (mockup - local state)\n  const [pinnedNotes, setPinnedNotes] = useState<Set<string>>(new Set(['mock-pinned-1']))\n  \n  // Bulk Operations State\n  const [selectionMode, setSelectionMode] = useState(false)\n  const [selectedNotes, setSelectedNotes] = useState<Set<string>>(new Set())\n  \n  // Share Dialog State\n  const [shareDialogOpen, setShareDialogOpen] = useState(false)\n  const [sharingNote, setSharingNote] = useState<Note | null>(null)\n  const [shareEmail, setShareEmail] = useState('')\n  const [sharePermission, setSharePermission] = useState<'view' | 'edit'>('view')\n  const [mockSharesPerNote, setMockSharesPerNote] = useState<Record<string, MockShare[]>>({\n    'demo-note': [\n      { id: '1', email: 'john@example.com', name: 'John Doe', permission: 'edit' },\n      { id: '2', email: 'jane@example.com', name: 'Jane Smith', permission: 'view' },\n    ]\n  })\n  \n  // Mock verse links for demo (scoped per note)\n  const [mockVerseLinks] = useState<Record<string, MockVerseLink[]>>({\n    'demo-note': [\n      { id: '1', book: 'John', chapter: 3, verse: 16 },\n      { id: '2', book: 'Romans', chapter: 8, verse: 28, verseEnd: 30 },\n    ]\n  })\n  \n  // Folder State\n  const [folderDialogOpen, setFolderDialogOpen] = useState(false)\n  const [editingFolder, setEditingFolder] = useState<MockFolder | null>(null)\n  const [newFolderName, setNewFolderName] = useState('')\n  const [selectedFolder, setSelectedFolder] = useState<string | null>(null)\n  const [folders, setFolders] = useState<MockFolder[]>([\n    { id: 'folder-1', name: 'Bible Studies', parentId: null, noteIds: [] },\n    { id: 'folder-2', name: 'Sermon Notes', parentId: null, noteIds: [] },\n    { id: 'folder-3', name: 'Personal Devotions', parentId: null, noteIds: [] },\n  ])\n  const [moveToFolderDialogOpen, setMoveToFolderDialogOpen] = useState(false)\n  const [noteToMove, setNoteToMove] = useState<Note | null>(null)\n  \n  // Version History State\n  const [versionDialogOpen, setVersionDialogOpen] = useState(false)\n  const [versionHistoryNote, setVersionHistoryNote] = useState<Note | null>(null)\n  const [mockVersions, setMockVersions] = useState<Record<string, MockVersion[]>>({})\n  \n  // Export Dialog State\n  const [exportDialogOpen, setExportDialogOpen] = useState(false)\n  const [exportNote, setExportNote] = useState<Note | null>(null)\n\n  const { data: notes = [], isLoading: notesLoading } = useQuery<Note[]>({\n    queryKey: ['/api/notes'],\n  })\n\n  const { data: categories = [] } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  })\n\n  const { data: tags = [] } = useQuery<TagType[]>({\n    queryKey: ['/api/tags'],\n  })\n\n  const createNoteMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const res = await apiRequest('POST', '/api/notes', data)\n      const note = await res.json()\n      \n      if (data.tags && data.tags.length > 0) {\n        for (const tagId of data.tags) {\n          await apiRequest('POST', `/api/notes/${note.id}/tags/${tagId}`)\n        }\n      }\n      \n      return note\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/notes'] })\n    },\n  })\n\n  const updateNoteMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: any }) => {\n      const res = await apiRequest('PATCH', `/api/notes/${id}`, data)\n      return await res.json()\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/notes'] })\n    },\n  })\n\n  const deleteNoteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const res = await apiRequest('DELETE', `/api/notes/${id}`)\n      return await res.json()\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/notes'] })\n    },\n  })\n\n  const createCategoryMutation = useMutation({\n    mutationFn: async ({ name, color }: { name: string; color: string }) => {\n      const res = await apiRequest('POST', '/api/categories', { name, color })\n      return await res.json()\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] })\n    },\n  })\n\n  const createTagMutation = useMutation({\n    mutationFn: async (name: string) => {\n      const res = await apiRequest('POST', '/api/tags', { name })\n      return await res.json()\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/tags'] })\n    },\n  })\n\n  const handleSaveNote = (data: any) => {\n    if (editingNote) {\n      // Save version before updating\n      saveVersion(editingNote)\n      updateNoteMutation.mutate({ id: editingNote.id, data })\n    } else {\n      createNoteMutation.mutate(data)\n    }\n    setEditingNote(null)\n  }\n\n  const handleEditNote = (note: Note) => {\n    setEditingNote(note)\n    setDialogOpen(true)\n  }\n\n  const handleDeleteNote = (id: string) => {\n    if (confirm('Are you sure you want to delete this note?')) {\n      deleteNoteMutation.mutate(id)\n    }\n  }\n\n  const handleCreateCategory = (name: string, color: string) => {\n    createCategoryMutation.mutate({ name, color })\n  }\n\n  const handleCreateTag = (name: string) => {\n    createTagMutation.mutate(name)\n  }\n  \n  // Version History Functions\n  const saveVersion = (note: Note) => {\n    const existingVersions = mockVersions[note.id] || []\n    const newVersion: MockVersion = {\n      id: Date.now().toString(),\n      noteId: note.id,\n      title: note.title,\n      content: note.content,\n      version: existingVersions.length + 1,\n      createdAt: new Date(),\n    }\n    setMockVersions(prev => ({\n      ...prev,\n      [note.id]: [...(prev[note.id] || []), newVersion]\n    }))\n  }\n  \n  const openVersionHistory = (note: Note) => {\n    setVersionHistoryNote(note)\n    setVersionDialogOpen(true)\n  }\n  \n  const restoreVersion = (version: MockVersion) => {\n    if (versionHistoryNote) {\n      updateNoteMutation.mutate({\n        id: versionHistoryNote.id,\n        data: { title: version.title, content: version.content }\n      })\n      toast({\n        title: \"Version Restored\",\n        description: `Restored to version ${version.version} from ${format(version.createdAt, 'MMM d, yyyy h:mm a')}`,\n      })\n      setVersionDialogOpen(false)\n    }\n  }\n  \n  // Archive Functions\n  const toggleArchive = (noteId: string) => {\n    setArchivedNotes(prev => {\n      const next = new Set(prev)\n      if (next.has(noteId)) {\n        next.delete(noteId)\n        toast({ title: \"Note Unarchived\", description: \"Note has been restored from archive\" })\n      } else {\n        next.add(noteId)\n        toast({ title: \"Note Archived\", description: \"Note has been moved to archive\" })\n      }\n      return next\n    })\n  }\n  \n  // Export Functions\n  const openExportDialog = (note: Note) => {\n    setExportNote(note)\n    setExportDialogOpen(true)\n  }\n  \n  const exportAsMarkdown = (note: Note) => {\n    const htmlToText = (html: string) => {\n      const temp = document.createElement('div')\n      temp.innerHTML = html\n      return temp.textContent || temp.innerText || ''\n    }\n    \n    const content = `# ${note.title}\\n\\n${htmlToText(note.content)}\\n\\n---\\nCreated: ${format(new Date(note.createdAt), 'MMMM d, yyyy')}\\nLast Updated: ${format(new Date(note.updatedAt), 'MMMM d, yyyy')}`\n    \n    const blob = new Blob([content], { type: 'text/markdown' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${note.title.replace(/[^a-z0-9]/gi, '_')}.md`\n    a.click()\n    URL.revokeObjectURL(url)\n    \n    toast({ title: \"Exported\", description: \"Note exported as Markdown\" })\n    setExportDialogOpen(false)\n  }\n  \n  const exportAsJSON = (note: Note) => {\n    const data = {\n      title: note.title,\n      content: note.content,\n      color: note.color,\n      template: note.template,\n      createdAt: note.createdAt,\n      updatedAt: note.updatedAt,\n    }\n    \n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${note.title.replace(/[^a-z0-9]/gi, '_')}.json`\n    a.click()\n    URL.revokeObjectURL(url)\n    \n    toast({ title: \"Exported\", description: \"Note exported as JSON\" })\n    setExportDialogOpen(false)\n  }\n  \n  const exportAsText = (note: Note) => {\n    const htmlToText = (html: string) => {\n      const temp = document.createElement('div')\n      temp.innerHTML = html\n      return temp.textContent || temp.innerText || ''\n    }\n    \n    const content = `${note.title}\\n${'='.repeat(note.title.length)}\\n\\n${htmlToText(note.content)}`\n    \n    const blob = new Blob([content], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${note.title.replace(/[^a-z0-9]/gi, '_')}.txt`\n    a.click()\n    URL.revokeObjectURL(url)\n    \n    toast({ title: \"Exported\", description: \"Note exported as text file\" })\n    setExportDialogOpen(false)\n  }\n  \n  // Print Function\n  const printNote = (note: Note) => {\n    const printWindow = window.open('', '_blank')\n    if (printWindow) {\n      printWindow.document.write(`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${note.title}</title>\n          <style>\n            body { font-family: Georgia, serif; max-width: 800px; margin: 40px auto; padding: 20px; }\n            h1 { color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }\n            .content { line-height: 1.6; }\n            .meta { color: #666; font-size: 0.9em; margin-top: 40px; border-top: 1px solid #ccc; padding-top: 10px; }\n          </style>\n        </head>\n        <body>\n          <h1>${note.title}</h1>\n          <div class=\"content\">${note.content}</div>\n          <div class=\"meta\">\n            Created: ${format(new Date(note.createdAt), 'MMMM d, yyyy')} | \n            Last Updated: ${format(new Date(note.updatedAt), 'MMMM d, yyyy')}\n          </div>\n        </body>\n        </html>\n      `)\n      printWindow.document.close()\n      printWindow.print()\n    }\n  }\n  \n  // Folder Functions\n  const createFolder = () => {\n    if (newFolderName.trim()) {\n      const newFolder: MockFolder = {\n        id: `folder-${Date.now()}`,\n        name: newFolderName.trim(),\n        parentId: null,\n        noteIds: [],\n      }\n      setFolders(prev => [...prev, newFolder])\n      setNewFolderName('')\n      setFolderDialogOpen(false)\n      toast({ title: \"Folder Created\", description: `Created folder \"${newFolder.name}\"` })\n    }\n  }\n  \n  const renameFolder = () => {\n    if (editingFolder && newFolderName.trim()) {\n      setFolders(prev => prev.map(f => \n        f.id === editingFolder.id ? { ...f, name: newFolderName.trim() } : f\n      ))\n      setEditingFolder(null)\n      setNewFolderName('')\n      setFolderDialogOpen(false)\n      toast({ title: \"Folder Renamed\", description: `Folder renamed to \"${newFolderName.trim()}\"` })\n    }\n  }\n  \n  const deleteFolder = (folderId: string) => {\n    const folder = folders.find(f => f.id === folderId)\n    if (folder && confirm(`Delete folder \"${folder.name}\"? Notes in this folder will not be deleted.`)) {\n      setFolders(prev => prev.filter(f => f.id !== folderId))\n      if (selectedFolder === folderId) {\n        setSelectedFolder(null)\n      }\n      toast({ title: \"Folder Deleted\", description: `Folder \"${folder.name}\" has been deleted` })\n    }\n  }\n  \n  const moveNoteToFolder = (noteId: string, folderId: string | null) => {\n    setFolders(prev => prev.map(f => ({\n      ...f,\n      noteIds: f.id === folderId \n        ? [...f.noteIds.filter(id => id !== noteId), noteId]\n        : f.noteIds.filter(id => id !== noteId)\n    })))\n    setMoveToFolderDialogOpen(false)\n    setNoteToMove(null)\n    toast({ \n      title: folderId ? \"Note Moved\" : \"Note Removed from Folder\", \n      description: folderId \n        ? `Note moved to \"${folders.find(f => f.id === folderId)?.name}\"`\n        : \"Note removed from folder\"\n    })\n  }\n  \n  const openMoveDialog = (note: Note) => {\n    setNoteToMove(note)\n    setMoveToFolderDialogOpen(true)\n  }\n  \n  // Favorites/Pin handlers\n  const togglePin = (noteId: string) => {\n    setPinnedNotes(prev => {\n      const next = new Set(prev)\n      if (next.has(noteId)) {\n        next.delete(noteId)\n      } else {\n        next.add(noteId)\n      }\n      return next\n    })\n  }\n  \n  // Bulk selection handlers\n  const toggleSelectNote = (noteId: string) => {\n    setSelectedNotes(prev => {\n      const next = new Set(prev)\n      if (next.has(noteId)) {\n        next.delete(noteId)\n      } else {\n        next.add(noteId)\n      }\n      return next\n    })\n  }\n  \n  const selectAllNotes = () => {\n    setSelectedNotes(new Set(displayedNotes.map(n => n.id)))\n  }\n  \n  const deselectAllNotes = () => {\n    setSelectedNotes(new Set())\n  }\n  \n  const handleBulkDelete = () => {\n    if (confirm(`Delete ${selectedNotes.size} notes? This action cannot be undone.`)) {\n      selectedNotes.forEach(id => deleteNoteMutation.mutate(id))\n      setSelectedNotes(new Set())\n      setSelectionMode(false)\n      toast({ title: \"Notes Deleted\", description: `${selectedNotes.size} notes have been deleted` })\n    }\n  }\n  \n  const handleBulkArchive = () => {\n    const count = selectedNotes.size\n    setArchivedNotes(prev => {\n      const next = new Set(prev)\n      selectedNotes.forEach(id => next.add(id))\n      return next\n    })\n    setSelectedNotes(new Set())\n    setSelectionMode(false)\n    toast({ title: \"Notes Archived\", description: `${count} notes have been archived` })\n  }\n  \n  // Share handlers (mockup - scoped per note)\n  const openShareDialog = (note: Note) => {\n    setSharingNote(note)\n    setShareDialogOpen(true)\n  }\n  \n  const getCurrentNoteShares = (): MockShare[] => {\n    if (!sharingNote) return []\n    return mockSharesPerNote[sharingNote.id] || []\n  }\n  \n  const handleAddShare = () => {\n    if (shareEmail.trim() && sharingNote) {\n      setMockSharesPerNote(prev => ({\n        ...prev,\n        [sharingNote.id]: [\n          ...(prev[sharingNote.id] || []),\n          {\n            id: Date.now().toString(),\n            email: shareEmail,\n            name: shareEmail.split('@')[0],\n            permission: sharePermission\n          }\n        ]\n      }))\n      setShareEmail('')\n      toast({ title: \"Share Added\", description: `Shared with ${shareEmail}` })\n    }\n  }\n  \n  const handleRemoveShare = (shareId: string) => {\n    if (!sharingNote) return\n    setMockSharesPerNote(prev => ({\n      ...prev,\n      [sharingNote.id]: (prev[sharingNote.id] || []).filter(s => s.id !== shareId)\n    }))\n  }\n  \n  // Clear filters\n  const clearFilters = () => {\n    setFilterCategory('')\n    setFilterTag('')\n    setFilterColor('')\n    setFilterDateFrom(undefined)\n    setFilterDateTo(undefined)\n  }\n  \n  const hasActiveFilters = filterCategory || filterTag || filterColor || filterDateFrom || filterDateTo\n\n  // Filter notes\n  let filteredNotes = notes.filter((note) =>\n    note.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    note.content.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n  \n  // Filter by archive status\n  if (showArchived) {\n    filteredNotes = filteredNotes.filter(n => archivedNotes.has(n.id))\n  } else {\n    filteredNotes = filteredNotes.filter(n => !archivedNotes.has(n.id))\n  }\n  \n  // Filter by folder\n  if (selectedFolder) {\n    const folder = folders.find(f => f.id === selectedFolder)\n    if (folder) {\n      filteredNotes = filteredNotes.filter(n => folder.noteIds.includes(n.id))\n    }\n  }\n  \n  // Apply advanced filters\n  if (filterCategory) {\n    filteredNotes = filteredNotes.filter(n => n.categoryId === filterCategory)\n  }\n  if (filterColor) {\n    filteredNotes = filteredNotes.filter(n => n.color === filterColor)\n  }\n  if (filterDateFrom) {\n    filteredNotes = filteredNotes.filter(n => new Date(n.createdAt) >= filterDateFrom)\n  }\n  if (filterDateTo) {\n    filteredNotes = filteredNotes.filter(n => new Date(n.createdAt) <= filterDateTo)\n  }\n  \n  // Sort notes\n  const sortedNotes = [...filteredNotes].sort((a, b) => {\n    switch (sortOption) {\n      case 'date-desc':\n        return new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime()\n      case 'date-asc':\n        return new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime()\n      case 'title-asc':\n        return a.title.localeCompare(b.title)\n      case 'title-desc':\n        return b.title.localeCompare(a.title)\n      case 'category':\n        return (a.categoryId || '').localeCompare(b.categoryId || '')\n      default:\n        return 0\n    }\n  })\n  \n  // Separate pinned and regular notes\n  const pinnedNotesList = sortedNotes.filter(n => pinnedNotes.has(n.id))\n  const regularNotes = sortedNotes.filter(n => !pinnedNotes.has(n.id))\n  const displayedNotes = [...pinnedNotesList, ...regularNotes]\n\n  const renderNoteCard = (note: Note, isPinned: boolean = false) => (\n    <div\n      key={note.id}\n      className={`border border-border rounded-lg p-3 bg-card shadow-sm hover-elevate ${\n        selectedNotes.has(note.id) ? 'ring-2 ring-primary' : ''\n      }`}\n      data-testid={`card-note-${note.id}`}\n    >\n      <div className=\"flex justify-between items-start mb-2\">\n        <div className=\"flex items-center gap-2 flex-wrap flex-1\">\n          {selectionMode && (\n            <Checkbox\n              checked={selectedNotes.has(note.id)}\n              onCheckedChange={() => toggleSelectNote(note.id)}\n              data-testid={`checkbox-note-${note.id}`}\n            />\n          )}\n          <Button\n            size=\"icon\"\n            variant=\"ghost\"\n            className=\"h-6 w-6 p-0\"\n            onClick={() => togglePin(note.id)}\n            data-testid={`button-pin-note-${note.id}`}\n          >\n            {pinnedNotes.has(note.id) ? (\n              <Star className=\"h-4 w-4 text-yellow-500 fill-yellow-500\" />\n            ) : (\n              <StarOff className=\"h-4 w-4 text-muted-foreground\" />\n            )}\n          </Button>\n          {note.color && (\n            <Badge\n              variant=\"outline\"\n              className={COLOR_MAP[note.color] || 'bg-gray-100 border-gray-200 text-gray-800'}\n              data-testid={`badge-note-color-${note.color}`}\n            >\n              {note.title}\n            </Badge>\n          )}\n          {!note.color && (\n            <span className=\"font-medium text-sm\">{note.title}</span>\n          )}\n          <span className=\"text-xs text-muted-foreground\" data-testid={`text-note-time-${note.id}`}>\n            {formatDistanceToNow(new Date(note.updatedAt), { addSuffix: true })}\n          </span>\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              className=\"h-6 w-6 p-0\"\n              data-testid={`button-note-menu-${note.id}`}\n            >\n              <MoreHorizontal className=\"h-4 w-4 text-muted-foreground\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem\n              onClick={() => handleEditNote(note)}\n              data-testid={`menu-edit-note-${note.id}`}\n            >\n              <Edit className=\"h-4 w-4 mr-2\" /> Edit\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() => openShareDialog(note)}\n              data-testid={`menu-share-note-${note.id}`}\n            >\n              <Share2 className=\"h-4 w-4 mr-2\" /> Share\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() => togglePin(note.id)}\n              data-testid={`menu-pin-note-${note.id}`}\n            >\n              {pinnedNotes.has(note.id) ? (\n                <>\n                  <StarOff className=\"h-4 w-4 mr-2\" /> Unpin\n                </>\n              ) : (\n                <>\n                  <Star className=\"h-4 w-4 mr-2\" /> Pin\n                </>\n              )}\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              onClick={() => openMoveDialog(note)}\n              data-testid={`menu-move-note-${note.id}`}\n            >\n              <FolderInput className=\"h-4 w-4 mr-2\" /> Move to Folder\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() => openVersionHistory(note)}\n              data-testid={`menu-history-note-${note.id}`}\n            >\n              <History className=\"h-4 w-4 mr-2\" /> Version History\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              onClick={() => openExportDialog(note)}\n              data-testid={`menu-export-note-${note.id}`}\n            >\n              <Download className=\"h-4 w-4 mr-2\" /> Export\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() => printNote(note)}\n              data-testid={`menu-print-note-${note.id}`}\n            >\n              <Printer className=\"h-4 w-4 mr-2\" /> Print\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              onClick={() => toggleArchive(note.id)}\n              data-testid={`menu-archive-note-${note.id}`}\n            >\n              {archivedNotes.has(note.id) ? (\n                <>\n                  <ArchiveRestore className=\"h-4 w-4 mr-2\" /> Unarchive\n                </>\n              ) : (\n                <>\n                  <Archive className=\"h-4 w-4 mr-2\" /> Archive\n                </>\n              )}\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() => handleDeleteNote(note.id)}\n              className=\"text-destructive\"\n              data-testid={`menu-delete-note-${note.id}`}\n            >\n              <Trash className=\"h-4 w-4 mr-2\" /> Delete\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      \n      {/* Verse Links Display */}\n      {mockVerseLinks[note.id] && mockVerseLinks[note.id].length > 0 && (\n        <div className=\"flex flex-wrap gap-1 mb-2\">\n          {mockVerseLinks[note.id].map(link => (\n            <Badge \n              key={link.id} \n              variant=\"secondary\" \n              className=\"text-xs cursor-pointer\"\n              data-testid={`badge-verse-link-${link.id}`}\n            >\n              <BookOpen className=\"h-3 w-3 mr-1\" />\n              {link.book} {link.chapter}:{link.verse}\n              {link.verseEnd && `-${link.verseEnd}`}\n            </Badge>\n          ))}\n        </div>\n      )}\n      \n      <div\n        className=\"text-sm text-foreground/90 mb-2 prose prose-sm max-w-none\"\n        dangerouslySetInnerHTML={{ __html: note.content }}\n        data-testid={`text-note-content-${note.id}`}\n      />\n      \n      {/* Shared with indicator - show for notes that have shares */}\n      {mockSharesPerNote[note.id] && mockSharesPerNote[note.id].length > 0 && (\n        <div className=\"flex items-center gap-1 mt-2 pt-2 border-t border-border\">\n          <Users className=\"h-3 w-3 text-muted-foreground\" />\n          <span className=\"text-xs text-muted-foreground\">Shared with {mockSharesPerNote[note.id].length} people</span>\n          <div className=\"flex -space-x-2 ml-1\">\n            {mockSharesPerNote[note.id].slice(0, 3).map(share => (\n              <Avatar key={share.id} className=\"h-5 w-5 border-2 border-background\">\n                <AvatarFallback className=\"text-[8px]\">{share.name[0]}</AvatarFallback>\n              </Avatar>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"p-4 border-b border-border flex justify-between items-center gap-2\">\n        <h3 className=\"font-bold text-sm\" data-testid=\"text-notes-title\">\n          {showArchived ? 'Archived Notes' : 'My Notes'}\n        </h3>\n        <div className=\"flex gap-1\">\n          {/* Sort Dropdown */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"h-7 w-7 p-0\"\n                title=\"Sort Notes\"\n                data-testid=\"button-sort-notes\"\n              >\n                <ArrowUpDown className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuItem onClick={() => setSortOption('date-desc')} data-testid=\"sort-date-desc\">\n                <ArrowDown className=\"h-4 w-4 mr-2\" /> Newest First\n                {sortOption === 'date-desc' && <Badge variant=\"secondary\" className=\"ml-auto text-xs\">Active</Badge>}\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => setSortOption('date-asc')} data-testid=\"sort-date-asc\">\n                <ArrowUp className=\"h-4 w-4 mr-2\" /> Oldest First\n                {sortOption === 'date-asc' && <Badge variant=\"secondary\" className=\"ml-auto text-xs\">Active</Badge>}\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => setSortOption('title-asc')} data-testid=\"sort-title-asc\">\n                <ArrowUp className=\"h-4 w-4 mr-2\" /> Title A-Z\n                {sortOption === 'title-asc' && <Badge variant=\"secondary\" className=\"ml-auto text-xs\">Active</Badge>}\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => setSortOption('title-desc')} data-testid=\"sort-title-desc\">\n                <ArrowDown className=\"h-4 w-4 mr-2\" /> Title Z-A\n                {sortOption === 'title-desc' && <Badge variant=\"secondary\" className=\"ml-auto text-xs\">Active</Badge>}\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => setSortOption('category')} data-testid=\"sort-category\">\n                <Folder className=\"h-4 w-4 mr-2\" /> By Category\n                {sortOption === 'category' && <Badge variant=\"secondary\" className=\"ml-auto text-xs\">Active</Badge>}\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n          \n          {/* Archive Toggle */}\n          <Button\n            size=\"sm\"\n            variant={showArchived ? 'secondary' : 'ghost'}\n            className=\"h-7 w-7 p-0\"\n            title={showArchived ? 'Show Active Notes' : 'Show Archived'}\n            onClick={() => setShowArchived(!showArchived)}\n            data-testid=\"button-toggle-archive\"\n          >\n            <Archive className=\"h-4 w-4\" />\n          </Button>\n          \n          <Button\n            size=\"sm\"\n            variant={selectionMode ? 'secondary' : 'ghost'}\n            className=\"h-7 w-7 p-0\"\n            title={selectionMode ? 'Exit Selection Mode' : 'Select Multiple'}\n            onClick={() => {\n              setSelectionMode(!selectionMode)\n              if (selectionMode) {\n                setSelectedNotes(new Set())\n              }\n            }}\n            data-testid=\"button-toggle-selection\"\n          >\n            {selectionMode ? <CheckSquare className=\"h-4 w-4\" /> : <Square className=\"h-4 w-4\" />}\n          </Button>\n          <Button\n            size=\"sm\"\n            variant={showFilters ? 'secondary' : 'outline'}\n            className=\"h-7 text-xs gap-1\"\n            onClick={() => setShowFilters(!showFilters)}\n            data-testid=\"button-filter-notes\"\n          >\n            <Filter className=\"h-3 w-3\" /> \n            Filter\n            {hasActiveFilters && (\n              <Badge variant=\"default\" className=\"ml-1 h-4 w-4 p-0 flex items-center justify-center text-[10px]\">\n                {[filterCategory, filterTag, filterColor, filterDateFrom, filterDateTo].filter(Boolean).length}\n              </Badge>\n            )}\n          </Button>\n        </div>\n      </div>\n      \n      {/* Folders Section */}\n      <div className=\"p-2 border-b border-border bg-muted/30\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <span className=\"text-xs font-medium text-muted-foreground\">FOLDERS</span>\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            className=\"h-6 text-xs gap-1\"\n            onClick={() => {\n              setEditingFolder(null)\n              setNewFolderName('')\n              setFolderDialogOpen(true)\n            }}\n            data-testid=\"button-new-folder\"\n          >\n            <FolderPlus className=\"h-3 w-3\" /> New\n          </Button>\n        </div>\n        <div className=\"flex flex-wrap gap-1\">\n          <Button\n            size=\"sm\"\n            variant={selectedFolder === null ? 'secondary' : 'ghost'}\n            className=\"h-7 text-xs gap-1\"\n            onClick={() => setSelectedFolder(null)}\n            data-testid=\"button-folder-all\"\n          >\n            <FolderOpen className=\"h-3 w-3\" /> All Notes\n          </Button>\n          {folders.map(folder => (\n            <div key={folder.id} className=\"group relative\">\n              <Button\n                size=\"sm\"\n                variant={selectedFolder === folder.id ? 'secondary' : 'ghost'}\n                className=\"h-7 text-xs gap-1\"\n                onClick={() => setSelectedFolder(folder.id)}\n                data-testid={`button-folder-${folder.id}`}\n              >\n                <Folder className=\"h-3 w-3\" /> {folder.name}\n                <Badge variant=\"outline\" className=\"ml-1 h-4 px-1 text-[10px]\">\n                  {folder.noteIds.length}\n                </Badge>\n              </Button>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    className=\"h-5 w-5 p-0 absolute -top-1 -right-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                  >\n                    <MoreHorizontal className=\"h-3 w-3\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent>\n                  <DropdownMenuItem onClick={() => {\n                    setEditingFolder(folder)\n                    setNewFolderName(folder.name)\n                    setFolderDialogOpen(true)\n                  }}>\n                    <Pencil className=\"h-4 w-4 mr-2\" /> Rename\n                  </DropdownMenuItem>\n                  <DropdownMenuItem \n                    onClick={() => deleteFolder(folder.id)}\n                    className=\"text-destructive\"\n                  >\n                    <Trash className=\"h-4 w-4 mr-2\" /> Delete\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      {/* Bulk Actions Bar */}\n      {selectionMode && selectedNotes.size > 0 && (\n        <div className=\"p-2 border-b border-border bg-muted/50 flex items-center gap-2 flex-wrap\">\n          <span className=\"text-sm font-medium\">{selectedNotes.size} selected</span>\n          <div className=\"flex gap-1 ml-auto\">\n            <Button size=\"sm\" variant=\"outline\" className=\"h-7 text-xs gap-1\" onClick={selectAllNotes} data-testid=\"button-select-all\">\n              Select All\n            </Button>\n            <Button size=\"sm\" variant=\"outline\" className=\"h-7 text-xs gap-1\" onClick={deselectAllNotes} data-testid=\"button-deselect-all\">\n              Deselect All\n            </Button>\n            <Button size=\"sm\" variant=\"outline\" className=\"h-7 text-xs gap-1\" onClick={handleBulkArchive} data-testid=\"button-bulk-archive\">\n              <Archive className=\"h-3 w-3\" /> Archive\n            </Button>\n            <Button size=\"sm\" variant=\"destructive\" className=\"h-7 text-xs gap-1\" onClick={handleBulkDelete} data-testid=\"button-bulk-delete\">\n              <Trash className=\"h-3 w-3\" /> Delete\n            </Button>\n          </div>\n        </div>\n      )}\n      \n      {/* Advanced Filters Panel */}\n      {showFilters && (\n        <div className=\"p-3 border-b border-border bg-muted/30 space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-sm font-medium\">Filters</span>\n            {hasActiveFilters && (\n              <Button size=\"sm\" variant=\"ghost\" className=\"h-6 text-xs\" onClick={clearFilters} data-testid=\"button-clear-filters\">\n                <X className=\"h-3 w-3 mr-1\" /> Clear All\n              </Button>\n            )}\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-2\">\n            <div>\n              <Label className=\"text-xs text-muted-foreground\">Category</Label>\n              <Select value={filterCategory} onValueChange={setFilterCategory}>\n                <SelectTrigger className=\"h-8 text-xs\" data-testid=\"select-filter-category\">\n                  <SelectValue placeholder=\"All Categories\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">All Categories</SelectItem>\n                  {categories.map(cat => (\n                    <SelectItem key={cat.id} value={cat.id}>{cat.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div>\n              <Label className=\"text-xs text-muted-foreground\">Tag</Label>\n              <Select value={filterTag} onValueChange={setFilterTag}>\n                <SelectTrigger className=\"h-8 text-xs\" data-testid=\"select-filter-tag\">\n                  <SelectValue placeholder=\"All Tags\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">All Tags</SelectItem>\n                  {tags.map(tag => (\n                    <SelectItem key={tag.id} value={tag.id}>{tag.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div>\n              <Label className=\"text-xs text-muted-foreground\">Color</Label>\n              <Select value={filterColor} onValueChange={setFilterColor}>\n                <SelectTrigger className=\"h-8 text-xs\" data-testid=\"select-filter-color\">\n                  <SelectValue placeholder=\"All Colors\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">All Colors</SelectItem>\n                  {COLOR_OPTIONS.map(color => (\n                    <SelectItem key={color} value={color}>\n                      <div className=\"flex items-center gap-2\">\n                        <div className={`h-3 w-3 rounded-full ${COLOR_MAP[color]?.split(' ')[0]}`} />\n                        {color.charAt(0).toUpperCase() + color.slice(1)}\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div>\n              <Label className=\"text-xs text-muted-foreground\">Date Range</Label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" className=\"h-8 w-full justify-start text-xs font-normal\" data-testid=\"button-filter-date\">\n                    <CalendarIcon className=\"h-3 w-3 mr-2\" />\n                    {filterDateFrom || filterDateTo ? (\n                      <>\n                        {filterDateFrom ? format(filterDateFrom, 'MMM d') : 'Start'} - {filterDateTo ? format(filterDateTo, 'MMM d') : 'End'}\n                      </>\n                    ) : (\n                      'Select dates'\n                    )}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                  <div className=\"flex gap-2 p-2\">\n                    <div>\n                      <Label className=\"text-xs\">From</Label>\n                      <Calendar\n                        mode=\"single\"\n                        selected={filterDateFrom}\n                        onSelect={setFilterDateFrom}\n                        className=\"rounded-md border\"\n                      />\n                    </div>\n                    <div>\n                      <Label className=\"text-xs\">To</Label>\n                      <Calendar\n                        mode=\"single\"\n                        selected={filterDateTo}\n                        onSelect={setFilterDateTo}\n                        className=\"rounded-md border\"\n                      />\n                    </div>\n                  </div>\n                </PopoverContent>\n              </Popover>\n            </div>\n          </div>\n          \n          {/* Active Filter Chips */}\n          {hasActiveFilters && (\n            <div className=\"flex flex-wrap gap-1\">\n              {filterCategory && (\n                <Badge variant=\"secondary\" className=\"text-xs gap-1\">\n                  Category: {categories.find(c => c.id === filterCategory)?.name}\n                  <X className=\"h-3 w-3 cursor-pointer\" onClick={() => setFilterCategory('')} />\n                </Badge>\n              )}\n              {filterTag && (\n                <Badge variant=\"secondary\" className=\"text-xs gap-1\">\n                  Tag: {tags.find(t => t.id === filterTag)?.name}\n                  <X className=\"h-3 w-3 cursor-pointer\" onClick={() => setFilterTag('')} />\n                </Badge>\n              )}\n              {filterColor && (\n                <Badge variant=\"secondary\" className=\"text-xs gap-1\">\n                  Color: {filterColor}\n                  <X className=\"h-3 w-3 cursor-pointer\" onClick={() => setFilterColor('')} />\n                </Badge>\n              )}\n              {(filterDateFrom || filterDateTo) && (\n                <Badge variant=\"secondary\" className=\"text-xs gap-1\">\n                  Date: {filterDateFrom ? format(filterDateFrom, 'MMM d') : 'Start'} - {filterDateTo ? format(filterDateTo, 'MMM d') : 'End'}\n                  <X className=\"h-3 w-3 cursor-pointer\" onClick={() => { setFilterDateFrom(undefined); setFilterDateTo(undefined); }} />\n                </Badge>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      <div className=\"p-4 border-b border-border\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search notes...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-9\"\n            data-testid=\"input-search-notes\"\n          />\n        </div>\n      </div>\n\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-4 space-y-4\">\n          {notesLoading ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Loading notes...\n            </div>\n          ) : displayedNotes.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              {showArchived \n                ? 'No archived notes' \n                : searchQuery || hasActiveFilters || selectedFolder \n                  ? 'No notes found' \n                  : 'No notes yet. Create your first note!'}\n            </div>\n          ) : (\n            <>\n              {/* Pinned Notes Section */}\n              {pinnedNotesList.length > 0 && !showArchived && (\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-xs text-muted-foreground font-medium\">\n                    <Star className=\"h-3 w-3 text-yellow-500 fill-yellow-500\" />\n                    PINNED ({pinnedNotesList.length})\n                  </div>\n                  {pinnedNotesList.map(note => renderNoteCard(note, true))}\n                </div>\n              )}\n              \n              {/* Regular Notes Section */}\n              {regularNotes.length > 0 && (\n                <div className=\"space-y-2\">\n                  {pinnedNotesList.length > 0 && !showArchived && (\n                    <div className=\"flex items-center gap-2 text-xs text-muted-foreground font-medium pt-2\">\n                      ALL NOTES ({regularNotes.length})\n                    </div>\n                  )}\n                  <div className=\"space-y-4\">\n                    {regularNotes.map(note => renderNoteCard(note, false))}\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </ScrollArea>\n\n      <div className=\"p-4 border-t border-border bg-card\">\n        <Button\n          className=\"w-full gap-2\"\n          onClick={() => {\n            setEditingNote(null)\n            setDialogOpen(true)\n          }}\n          data-testid=\"button-add-note\"\n        >\n          <FileText className=\"h-4 w-4\" /> Add New Note\n        </Button>\n      </div>\n\n      <NoteDialog\n        open={dialogOpen}\n        onOpenChange={setDialogOpen}\n        note={editingNote}\n        categories={categories}\n        tags={tags}\n        onSave={handleSaveNote}\n        onCreateCategory={handleCreateCategory}\n        onCreateTag={handleCreateTag}\n      />\n      \n      {/* Share Dialog */}\n      <Dialog open={shareDialogOpen} onOpenChange={setShareDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle data-testid=\"text-share-dialog-title\">Share Note</DialogTitle>\n            <DialogDescription>\n              Invite others to view or edit this note\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4 py-4\">\n            <div className=\"flex gap-2\">\n              <Input\n                placeholder=\"Enter email address...\"\n                value={shareEmail}\n                onChange={(e) => setShareEmail(e.target.value)}\n                className=\"flex-1\"\n                data-testid=\"input-share-email\"\n              />\n              <Select value={sharePermission} onValueChange={(v: 'view' | 'edit') => setSharePermission(v)}>\n                <SelectTrigger className=\"w-24\" data-testid=\"select-share-permission\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"view\">View</SelectItem>\n                  <SelectItem value=\"edit\">Edit</SelectItem>\n                </SelectContent>\n              </Select>\n              <Button onClick={handleAddShare} data-testid=\"button-add-share\">\n                <Plus className=\"h-4 w-4\" />\n              </Button>\n            </div>\n            \n            {/* Current Shares - scoped per note */}\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm text-muted-foreground\">Shared with</Label>\n              {getCurrentNoteShares().length === 0 ? (\n                <p className=\"text-sm text-muted-foreground py-4 text-center\">\n                  Not shared with anyone yet\n                </p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {getCurrentNoteShares().map(share => (\n                    <div key={share.id} className=\"flex items-center justify-between p-2 rounded-lg bg-muted/50\">\n                      <div className=\"flex items-center gap-2\">\n                        <Avatar className=\"h-8 w-8\">\n                          <AvatarImage src={share.avatar} />\n                          <AvatarFallback>{share.name[0]}</AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <p className=\"text-sm font-medium\">{share.name}</p>\n                          <p className=\"text-xs text-muted-foreground\">{share.email}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {share.permission === 'edit' ? 'Can Edit' : 'Can View'}\n                        </Badge>\n                        <Button\n                          size=\"icon\"\n                          variant=\"ghost\"\n                          className=\"h-6 w-6\"\n                          onClick={() => handleRemoveShare(share.id)}\n                          data-testid={`button-remove-share-${share.id}`}\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShareDialogOpen(false)}>\n              Done\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      \n      {/* Folder Dialog */}\n      <Dialog open={folderDialogOpen} onOpenChange={setFolderDialogOpen}>\n        <DialogContent className=\"max-w-sm\">\n          <DialogHeader>\n            <DialogTitle>{editingFolder ? 'Rename Folder' : 'Create New Folder'}</DialogTitle>\n          </DialogHeader>\n          <div className=\"py-4\">\n            <Label htmlFor=\"folder-name\">Folder Name</Label>\n            <Input\n              id=\"folder-name\"\n              value={newFolderName}\n              onChange={(e) => setNewFolderName(e.target.value)}\n              placeholder=\"Enter folder name...\"\n              data-testid=\"input-folder-name\"\n            />\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setFolderDialogOpen(false)}>\n              Cancel\n            </Button>\n            <Button onClick={editingFolder ? renameFolder : createFolder} data-testid=\"button-save-folder\">\n              {editingFolder ? 'Rename' : 'Create'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      \n      {/* Move to Folder Dialog */}\n      <Dialog open={moveToFolderDialogOpen} onOpenChange={setMoveToFolderDialogOpen}>\n        <DialogContent className=\"max-w-sm\">\n          <DialogHeader>\n            <DialogTitle>Move Note to Folder</DialogTitle>\n            <DialogDescription>\n              Select a folder for \"{noteToMove?.title}\"\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 space-y-2\">\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start gap-2\"\n              onClick={() => noteToMove && moveNoteToFolder(noteToMove.id, null)}\n              data-testid=\"button-remove-from-folder\"\n            >\n              <X className=\"h-4 w-4\" /> Remove from folder\n            </Button>\n            {folders.map(folder => (\n              <Button\n                key={folder.id}\n                variant=\"outline\"\n                className=\"w-full justify-start gap-2\"\n                onClick={() => noteToMove && moveNoteToFolder(noteToMove.id, folder.id)}\n                data-testid={`button-move-to-${folder.id}`}\n              >\n                <Folder className=\"h-4 w-4\" /> {folder.name}\n              </Button>\n            ))}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setMoveToFolderDialogOpen(false)}>\n              Cancel\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      \n      {/* Version History Dialog */}\n      <Dialog open={versionDialogOpen} onOpenChange={setVersionDialogOpen}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Version History</DialogTitle>\n            <DialogDescription>\n              View and restore previous versions of \"{versionHistoryNote?.title}\"\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4\">\n            {versionHistoryNote && (mockVersions[versionHistoryNote.id]?.length || 0) === 0 ? (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                <History className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                <p>No previous versions yet</p>\n                <p className=\"text-xs mt-2\">Versions are saved automatically when you edit a note</p>\n              </div>\n            ) : (\n              <ScrollArea className=\"h-64\">\n                <div className=\"space-y-2\">\n                  {versionHistoryNote && mockVersions[versionHistoryNote.id]?.slice().reverse().map(version => (\n                    <div \n                      key={version.id} \n                      className=\"p-3 border rounded-lg bg-muted/30 hover-elevate\"\n                    >\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <Badge variant=\"outline\">v{version.version}</Badge>\n                          <span className=\"text-xs text-muted-foreground\">\n                            {format(version.createdAt, 'MMM d, yyyy h:mm a')}\n                          </span>\n                        </div>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          className=\"h-7 text-xs gap-1\"\n                          onClick={() => restoreVersion(version)}\n                          data-testid={`button-restore-version-${version.id}`}\n                        >\n                          <RotateCcw className=\"h-3 w-3\" /> Restore\n                        </Button>\n                      </div>\n                      <p className=\"text-sm font-medium\">{version.title}</p>\n                      <p className=\"text-xs text-muted-foreground line-clamp-2 mt-1\">\n                        {version.content.replace(/<[^>]*>/g, '').slice(0, 100)}...\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </ScrollArea>\n            )}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setVersionDialogOpen(false)}>\n              Close\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      \n      {/* Export Dialog */}\n      <Dialog open={exportDialogOpen} onOpenChange={setExportDialogOpen}>\n        <DialogContent className=\"max-w-sm\">\n          <DialogHeader>\n            <DialogTitle>Export Note</DialogTitle>\n            <DialogDescription>\n              Choose a format to export \"{exportNote?.title}\"\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 space-y-2\">\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start gap-2\"\n              onClick={() => exportNote && exportAsMarkdown(exportNote)}\n              data-testid=\"button-export-markdown\"\n            >\n              <FileDown className=\"h-4 w-4\" /> Export as Markdown (.md)\n            </Button>\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start gap-2\"\n              onClick={() => exportNote && exportAsJSON(exportNote)}\n              data-testid=\"button-export-json\"\n            >\n              <FileJson className=\"h-4 w-4\" /> Export as JSON\n            </Button>\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-start gap-2\"\n              onClick={() => exportNote && exportAsText(exportNote)}\n              data-testid=\"button-export-text\"\n            >\n              <FileText className=\"h-4 w-4\" /> Export as Plain Text (.txt)\n            </Button>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setExportDialogOpen(false)}>\n              Cancel\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","path":null,"size_bytes":55878,"size_tokens":null}},"version":2}